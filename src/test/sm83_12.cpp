// File autogenerated by ./scripts/generate_tests_sm83.py
#include <test/include/acutest.h>

#include <cpu/include/instruction_ld.hpp>
#include <cpu/include/registers.hpp>
#include <memory/include/memory.hpp>

using namespace pgb::common;
using namespace pgb::memory;
using namespace pgb::cpu;

static auto registers = RegisterFile();
static auto mmap      = MemoryMap(registers, MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount);


#define WriteRegisterWord(register, value) do { auto result = mmap.WriteWord(register, value); TEST_ASSERT(result.IsSuccess()); } while(0)
#define WriteRegisterByte(register, value) do { auto result = mmap.WriteByte(register, value); TEST_ASSERT(result.IsSuccess()); } while(0)
#define WriteRegisterFlag(value) do { TEST_ASSERT(static_cast<const Byte>(mmap.WriteFlagByte(static_cast<const Byte&>(value))) == 0x00); } while(0)
#define WriteMemory(address, value) do { auto result = mmap.WriteByte(address, value); TEST_ASSERT(result.IsSuccess()); } while(0)

#define CheckRegisterWord(register, value) do { auto result = mmap.ReadWord(register); TEST_ASSERT(result.IsSuccess()); TEST_ASSERT(static_cast<const Word&>(result) == value); } while(0)
#define CheckRegisterByte(register, value) do { auto result = mmap.ReadByte(register); TEST_ASSERT(result.IsSuccess()); TEST_ASSERT(static_cast<const Byte&>(result) == value); } while(0)
#define CheckRegisterFlag(value) do { TEST_ASSERT(static_cast<const Byte>(mmap.ReadFlagByte()) == value); } while(0)
#define CheckMemory(address, value) do { auto result = mmap.ReadByte(address); TEST_ASSERT(result.IsSuccess()); TEST_ASSERT(static_cast<const Byte&>(result) == value); } while(0)

static_assert(instruction::InstructionRegistryNoPrefix::Callbacks[0x12] != nullptr);
static_assert(instruction::InstructionRegistryNoPrefix::Ticks[0x12] != 0);
        void test_12_0000(void);
void test_12_0001(void);
void test_12_0002(void);
void test_12_0003(void);
void test_12_0004(void);
void test_12_0005(void);
void test_12_0006(void);
void test_12_0007(void);
void test_12_0008(void);
void test_12_0009(void);
void test_12_000A(void);
void test_12_000B(void);
void test_12_000C(void);
void test_12_000D(void);
void test_12_000E(void);
void test_12_000F(void);
void test_12_0010(void);
void test_12_0011(void);
void test_12_0012(void);
void test_12_0013(void);
void test_12_0014(void);
void test_12_0015(void);
void test_12_0016(void);
void test_12_0017(void);
void test_12_0018(void);
void test_12_0019(void);
void test_12_001A(void);
void test_12_001B(void);
void test_12_001C(void);
void test_12_001D(void);
void test_12_001E(void);
void test_12_001F(void);
void test_12_0020(void);
void test_12_0021(void);
void test_12_0022(void);
void test_12_0023(void);
void test_12_0024(void);
void test_12_0025(void);
void test_12_0026(void);
void test_12_0027(void);
void test_12_0028(void);
void test_12_0029(void);
void test_12_002A(void);
void test_12_002B(void);
void test_12_002C(void);
void test_12_002D(void);
void test_12_002E(void);
void test_12_002F(void);
void test_12_0030(void);
void test_12_0031(void);
void test_12_0032(void);
void test_12_0033(void);
void test_12_0034(void);
void test_12_0035(void);
void test_12_0036(void);
void test_12_0037(void);
void test_12_0038(void);
void test_12_0039(void);
void test_12_003A(void);
void test_12_003B(void);
void test_12_003C(void);
void test_12_003D(void);
void test_12_003E(void);
void test_12_003F(void);
void test_12_0040(void);
void test_12_0041(void);
void test_12_0042(void);
void test_12_0043(void);
void test_12_0044(void);
void test_12_0045(void);
void test_12_0046(void);
void test_12_0047(void);
void test_12_0048(void);
void test_12_0049(void);
void test_12_004A(void);
void test_12_004B(void);
void test_12_004C(void);
void test_12_004D(void);
void test_12_004E(void);
void test_12_004F(void);
void test_12_0050(void);
void test_12_0051(void);
void test_12_0052(void);
void test_12_0053(void);
void test_12_0054(void);
void test_12_0055(void);
void test_12_0056(void);
void test_12_0057(void);
void test_12_0058(void);
void test_12_0059(void);
void test_12_005A(void);
void test_12_005B(void);
void test_12_005C(void);
void test_12_005D(void);
void test_12_005E(void);
void test_12_005F(void);
void test_12_0060(void);
void test_12_0061(void);
void test_12_0062(void);
void test_12_0063(void);
void test_12_0064(void);
void test_12_0065(void);
void test_12_0066(void);
void test_12_0067(void);
void test_12_0068(void);
void test_12_0069(void);
void test_12_006A(void);
void test_12_006B(void);
void test_12_006C(void);
void test_12_006D(void);
void test_12_006E(void);
void test_12_006F(void);
void test_12_0070(void);
void test_12_0071(void);
void test_12_0072(void);
void test_12_0073(void);
void test_12_0074(void);
void test_12_0075(void);
void test_12_0076(void);
void test_12_0077(void);
void test_12_0078(void);
void test_12_0079(void);
void test_12_007A(void);
void test_12_007B(void);
void test_12_007C(void);
void test_12_007D(void);
void test_12_007E(void);
void test_12_007F(void);
void test_12_0080(void);
void test_12_0081(void);
void test_12_0082(void);
void test_12_0083(void);
void test_12_0084(void);
void test_12_0085(void);
void test_12_0086(void);
void test_12_0087(void);
void test_12_0088(void);
void test_12_0089(void);
void test_12_008A(void);
void test_12_008B(void);
void test_12_008C(void);
void test_12_008D(void);
void test_12_008E(void);
void test_12_008F(void);
void test_12_0090(void);
void test_12_0091(void);
void test_12_0092(void);
void test_12_0093(void);
void test_12_0094(void);
void test_12_0095(void);
void test_12_0096(void);
void test_12_0097(void);
void test_12_0098(void);
void test_12_0099(void);
void test_12_009A(void);
void test_12_009B(void);
void test_12_009C(void);
void test_12_009D(void);
void test_12_009E(void);
void test_12_009F(void);
void test_12_00A0(void);
void test_12_00A1(void);
void test_12_00A2(void);
void test_12_00A3(void);
void test_12_00A4(void);
void test_12_00A5(void);
void test_12_00A6(void);
void test_12_00A7(void);
void test_12_00A8(void);
void test_12_00A9(void);
void test_12_00AA(void);
void test_12_00AB(void);
void test_12_00AC(void);
void test_12_00AD(void);
void test_12_00AE(void);
void test_12_00AF(void);
void test_12_00B0(void);
void test_12_00B1(void);
void test_12_00B2(void);
void test_12_00B3(void);
void test_12_00B4(void);
void test_12_00B5(void);
void test_12_00B6(void);
void test_12_00B7(void);
void test_12_00B8(void);
void test_12_00B9(void);
void test_12_00BA(void);
void test_12_00BB(void);
void test_12_00BC(void);
void test_12_00BD(void);
void test_12_00BE(void);
void test_12_00BF(void);
void test_12_00C0(void);
void test_12_00C1(void);
void test_12_00C2(void);
void test_12_00C3(void);
void test_12_00C4(void);
void test_12_00C5(void);
void test_12_00C6(void);
void test_12_00C7(void);
void test_12_00C8(void);
void test_12_00C9(void);
void test_12_00CA(void);
void test_12_00CB(void);
void test_12_00CC(void);
void test_12_00CD(void);
void test_12_00CE(void);
void test_12_00CF(void);
void test_12_00D0(void);
void test_12_00D1(void);
void test_12_00D2(void);
void test_12_00D3(void);
void test_12_00D4(void);
void test_12_00D5(void);
void test_12_00D6(void);
void test_12_00D7(void);
void test_12_00D8(void);
void test_12_00D9(void);
void test_12_00DA(void);
void test_12_00DB(void);
void test_12_00DC(void);
void test_12_00DD(void);
void test_12_00DE(void);
void test_12_00DF(void);
void test_12_00E0(void);
void test_12_00E1(void);
void test_12_00E2(void);
void test_12_00E3(void);
void test_12_00E4(void);
void test_12_00E5(void);
void test_12_00E6(void);
void test_12_00E7(void);
void test_12_00E8(void);
void test_12_00E9(void);
void test_12_00EA(void);
void test_12_00EB(void);
void test_12_00EC(void);
void test_12_00ED(void);
void test_12_00EE(void);
void test_12_00EF(void);
void test_12_00F0(void);
void test_12_00F1(void);
void test_12_00F2(void);
void test_12_00F3(void);
void test_12_00F4(void);
void test_12_00F5(void);
void test_12_00F6(void);
void test_12_00F7(void);
void test_12_00F8(void);
void test_12_00F9(void);
void test_12_00FA(void);
void test_12_00FB(void);
void test_12_00FC(void);
void test_12_00FD(void);
void test_12_00FE(void);
void test_12_00FF(void);
void test_12_0100(void);
void test_12_0101(void);
void test_12_0102(void);
void test_12_0103(void);
void test_12_0104(void);
void test_12_0105(void);
void test_12_0106(void);
void test_12_0107(void);
void test_12_0108(void);
void test_12_0109(void);
void test_12_010A(void);
void test_12_010B(void);
void test_12_010C(void);
void test_12_010D(void);
void test_12_010E(void);
void test_12_010F(void);
void test_12_0110(void);
void test_12_0111(void);
void test_12_0112(void);
void test_12_0113(void);
void test_12_0114(void);
void test_12_0115(void);
void test_12_0116(void);
void test_12_0117(void);
void test_12_0118(void);
void test_12_0119(void);
void test_12_011A(void);
void test_12_011B(void);
void test_12_011C(void);
void test_12_011D(void);
void test_12_011E(void);
void test_12_011F(void);
void test_12_0120(void);
void test_12_0121(void);
void test_12_0122(void);
void test_12_0123(void);
void test_12_0124(void);
void test_12_0125(void);
void test_12_0126(void);
void test_12_0127(void);
void test_12_0128(void);
void test_12_0129(void);
void test_12_012A(void);
void test_12_012B(void);
void test_12_012C(void);
void test_12_012D(void);
void test_12_012E(void);
void test_12_012F(void);
void test_12_0130(void);
void test_12_0131(void);
void test_12_0132(void);
void test_12_0133(void);
void test_12_0134(void);
void test_12_0135(void);
void test_12_0136(void);
void test_12_0137(void);
void test_12_0138(void);
void test_12_0139(void);
void test_12_013A(void);
void test_12_013B(void);
void test_12_013C(void);
void test_12_013D(void);
void test_12_013E(void);
void test_12_013F(void);
void test_12_0140(void);
void test_12_0141(void);
void test_12_0142(void);
void test_12_0143(void);
void test_12_0144(void);
void test_12_0145(void);
void test_12_0146(void);
void test_12_0147(void);
void test_12_0148(void);
void test_12_0149(void);
void test_12_014A(void);
void test_12_014B(void);
void test_12_014C(void);
void test_12_014D(void);
void test_12_014E(void);
void test_12_014F(void);
void test_12_0150(void);
void test_12_0151(void);
void test_12_0152(void);
void test_12_0153(void);
void test_12_0154(void);
void test_12_0155(void);
void test_12_0156(void);
void test_12_0157(void);
void test_12_0158(void);
void test_12_0159(void);
void test_12_015A(void);
void test_12_015B(void);
void test_12_015C(void);
void test_12_015D(void);
void test_12_015E(void);
void test_12_015F(void);
void test_12_0160(void);
void test_12_0161(void);
void test_12_0162(void);
void test_12_0163(void);
void test_12_0164(void);
void test_12_0165(void);
void test_12_0166(void);
void test_12_0167(void);
void test_12_0168(void);
void test_12_0169(void);
void test_12_016A(void);
void test_12_016B(void);
void test_12_016C(void);
void test_12_016D(void);
void test_12_016E(void);
void test_12_016F(void);
void test_12_0170(void);
void test_12_0171(void);
void test_12_0172(void);
void test_12_0173(void);
void test_12_0174(void);
void test_12_0175(void);
void test_12_0176(void);
void test_12_0177(void);
void test_12_0178(void);
void test_12_0179(void);
void test_12_017A(void);
void test_12_017B(void);
void test_12_017C(void);
void test_12_017D(void);
void test_12_017E(void);
void test_12_017F(void);
void test_12_0180(void);
void test_12_0181(void);
void test_12_0182(void);
void test_12_0183(void);
void test_12_0184(void);
void test_12_0185(void);
void test_12_0186(void);
void test_12_0187(void);
void test_12_0188(void);
void test_12_0189(void);
void test_12_018A(void);
void test_12_018B(void);
void test_12_018C(void);
void test_12_018D(void);
void test_12_018E(void);
void test_12_018F(void);
void test_12_0190(void);
void test_12_0191(void);
void test_12_0192(void);
void test_12_0193(void);
void test_12_0194(void);
void test_12_0195(void);
void test_12_0196(void);
void test_12_0197(void);
void test_12_0198(void);
void test_12_0199(void);
void test_12_019A(void);
void test_12_019B(void);
void test_12_019C(void);
void test_12_019D(void);
void test_12_019E(void);
void test_12_019F(void);
void test_12_01A0(void);
void test_12_01A1(void);
void test_12_01A2(void);
void test_12_01A3(void);
void test_12_01A4(void);
void test_12_01A5(void);
void test_12_01A6(void);
void test_12_01A7(void);
void test_12_01A8(void);
void test_12_01A9(void);
void test_12_01AA(void);
void test_12_01AB(void);
void test_12_01AC(void);
void test_12_01AD(void);
void test_12_01AE(void);
void test_12_01AF(void);
void test_12_01B0(void);
void test_12_01B1(void);
void test_12_01B2(void);
void test_12_01B3(void);
void test_12_01B4(void);
void test_12_01B5(void);
void test_12_01B6(void);
void test_12_01B7(void);
void test_12_01B8(void);
void test_12_01B9(void);
void test_12_01BA(void);
void test_12_01BB(void);
void test_12_01BC(void);
void test_12_01BD(void);
void test_12_01BE(void);
void test_12_01BF(void);
void test_12_01C0(void);
void test_12_01C1(void);
void test_12_01C2(void);
void test_12_01C3(void);
void test_12_01C4(void);
void test_12_01C5(void);
void test_12_01C6(void);
void test_12_01C7(void);
void test_12_01C8(void);
void test_12_01C9(void);
void test_12_01CA(void);
void test_12_01CB(void);
void test_12_01CC(void);
void test_12_01CD(void);
void test_12_01CE(void);
void test_12_01CF(void);
void test_12_01D0(void);
void test_12_01D1(void);
void test_12_01D2(void);
void test_12_01D3(void);
void test_12_01D4(void);
void test_12_01D5(void);
void test_12_01D6(void);
void test_12_01D7(void);
void test_12_01D8(void);
void test_12_01D9(void);
void test_12_01DA(void);
void test_12_01DB(void);
void test_12_01DC(void);
void test_12_01DD(void);
void test_12_01DE(void);
void test_12_01DF(void);
void test_12_01E0(void);
void test_12_01E1(void);
void test_12_01E2(void);
void test_12_01E3(void);
void test_12_01E4(void);
void test_12_01E5(void);
void test_12_01E6(void);
void test_12_01E7(void);
void test_12_01E8(void);
void test_12_01E9(void);
void test_12_01EA(void);
void test_12_01EB(void);
void test_12_01EC(void);
void test_12_01ED(void);
void test_12_01EE(void);
void test_12_01EF(void);
void test_12_01F0(void);
void test_12_01F1(void);
void test_12_01F2(void);
void test_12_01F3(void);
void test_12_01F4(void);
void test_12_01F5(void);
void test_12_01F6(void);
void test_12_01F7(void);
void test_12_01F8(void);
void test_12_01F9(void);
void test_12_01FA(void);
void test_12_01FB(void);
void test_12_01FC(void);
void test_12_01FD(void);
void test_12_01FE(void);
void test_12_01FF(void);
void test_12_0200(void);
void test_12_0201(void);
void test_12_0202(void);
void test_12_0203(void);
void test_12_0204(void);
void test_12_0205(void);
void test_12_0206(void);
void test_12_0207(void);
void test_12_0208(void);
void test_12_0209(void);
void test_12_020A(void);
void test_12_020B(void);
void test_12_020C(void);
void test_12_020D(void);
void test_12_020E(void);
void test_12_020F(void);
void test_12_0210(void);
void test_12_0211(void);
void test_12_0212(void);
void test_12_0213(void);
void test_12_0214(void);
void test_12_0215(void);
void test_12_0216(void);
void test_12_0217(void);
void test_12_0218(void);
void test_12_0219(void);
void test_12_021A(void);
void test_12_021B(void);
void test_12_021C(void);
void test_12_021D(void);
void test_12_021E(void);
void test_12_021F(void);
void test_12_0220(void);
void test_12_0221(void);
void test_12_0222(void);
void test_12_0223(void);
void test_12_0224(void);
void test_12_0225(void);
void test_12_0226(void);
void test_12_0227(void);
void test_12_0228(void);
void test_12_0229(void);
void test_12_022A(void);
void test_12_022B(void);
void test_12_022C(void);
void test_12_022D(void);
void test_12_022E(void);
void test_12_022F(void);
void test_12_0230(void);
void test_12_0231(void);
void test_12_0232(void);
void test_12_0233(void);
void test_12_0234(void);
void test_12_0235(void);
void test_12_0236(void);
void test_12_0237(void);
void test_12_0238(void);
void test_12_0239(void);
void test_12_023A(void);
void test_12_023B(void);
void test_12_023C(void);
void test_12_023D(void);
void test_12_023E(void);
void test_12_023F(void);
void test_12_0240(void);
void test_12_0241(void);
void test_12_0242(void);
void test_12_0243(void);
void test_12_0244(void);
void test_12_0245(void);
void test_12_0246(void);
void test_12_0247(void);
void test_12_0248(void);
void test_12_0249(void);
void test_12_024A(void);
void test_12_024B(void);
void test_12_024C(void);
void test_12_024D(void);
void test_12_024E(void);
void test_12_024F(void);
void test_12_0250(void);
void test_12_0251(void);
void test_12_0252(void);
void test_12_0253(void);
void test_12_0254(void);
void test_12_0255(void);
void test_12_0256(void);
void test_12_0257(void);
void test_12_0258(void);
void test_12_0259(void);
void test_12_025A(void);
void test_12_025B(void);
void test_12_025C(void);
void test_12_025D(void);
void test_12_025E(void);
void test_12_025F(void);
void test_12_0260(void);
void test_12_0261(void);
void test_12_0262(void);
void test_12_0263(void);
void test_12_0264(void);
void test_12_0265(void);
void test_12_0266(void);
void test_12_0267(void);
void test_12_0268(void);
void test_12_0269(void);
void test_12_026A(void);
void test_12_026B(void);
void test_12_026C(void);
void test_12_026D(void);
void test_12_026E(void);
void test_12_026F(void);
void test_12_0270(void);
void test_12_0271(void);
void test_12_0272(void);
void test_12_0273(void);
void test_12_0274(void);
void test_12_0275(void);
void test_12_0276(void);
void test_12_0277(void);
void test_12_0278(void);
void test_12_0279(void);
void test_12_027A(void);
void test_12_027B(void);
void test_12_027C(void);
void test_12_027D(void);
void test_12_027E(void);
void test_12_027F(void);
void test_12_0280(void);
void test_12_0281(void);
void test_12_0282(void);
void test_12_0283(void);
void test_12_0284(void);
void test_12_0285(void);
void test_12_0286(void);
void test_12_0287(void);
void test_12_0288(void);
void test_12_0289(void);
void test_12_028A(void);
void test_12_028B(void);
void test_12_028C(void);
void test_12_028D(void);
void test_12_028E(void);
void test_12_028F(void);
void test_12_0290(void);
void test_12_0291(void);
void test_12_0292(void);
void test_12_0293(void);
void test_12_0294(void);
void test_12_0295(void);
void test_12_0296(void);
void test_12_0297(void);
void test_12_0298(void);
void test_12_0299(void);
void test_12_029A(void);
void test_12_029B(void);
void test_12_029C(void);
void test_12_029D(void);
void test_12_029E(void);
void test_12_029F(void);
void test_12_02A0(void);
void test_12_02A1(void);
void test_12_02A2(void);
void test_12_02A3(void);
void test_12_02A4(void);
void test_12_02A5(void);
void test_12_02A6(void);
void test_12_02A7(void);
void test_12_02A8(void);
void test_12_02A9(void);
void test_12_02AA(void);
void test_12_02AB(void);
void test_12_02AC(void);
void test_12_02AD(void);
void test_12_02AE(void);
void test_12_02AF(void);
void test_12_02B0(void);
void test_12_02B1(void);
void test_12_02B2(void);
void test_12_02B3(void);
void test_12_02B4(void);
void test_12_02B5(void);
void test_12_02B6(void);
void test_12_02B7(void);
void test_12_02B8(void);
void test_12_02B9(void);
void test_12_02BA(void);
void test_12_02BB(void);
void test_12_02BC(void);
void test_12_02BD(void);
void test_12_02BE(void);
void test_12_02BF(void);
void test_12_02C0(void);
void test_12_02C1(void);
void test_12_02C2(void);
void test_12_02C3(void);
void test_12_02C4(void);
void test_12_02C5(void);
void test_12_02C6(void);
void test_12_02C7(void);
void test_12_02C8(void);
void test_12_02C9(void);
void test_12_02CA(void);
void test_12_02CB(void);
void test_12_02CC(void);
void test_12_02CD(void);
void test_12_02CE(void);
void test_12_02CF(void);
void test_12_02D0(void);
void test_12_02D1(void);
void test_12_02D2(void);
void test_12_02D3(void);
void test_12_02D4(void);
void test_12_02D5(void);
void test_12_02D6(void);
void test_12_02D7(void);
void test_12_02D8(void);
void test_12_02D9(void);
void test_12_02DA(void);
void test_12_02DB(void);
void test_12_02DC(void);
void test_12_02DD(void);
void test_12_02DE(void);
void test_12_02DF(void);
void test_12_02E0(void);
void test_12_02E1(void);
void test_12_02E2(void);
void test_12_02E3(void);
void test_12_02E4(void);
void test_12_02E5(void);
void test_12_02E6(void);
void test_12_02E7(void);
void test_12_02E8(void);
void test_12_02E9(void);
void test_12_02EA(void);
void test_12_02EB(void);
void test_12_02EC(void);
void test_12_02ED(void);
void test_12_02EE(void);
void test_12_02EF(void);
void test_12_02F0(void);
void test_12_02F1(void);
void test_12_02F2(void);
void test_12_02F3(void);
void test_12_02F4(void);
void test_12_02F5(void);
void test_12_02F6(void);
void test_12_02F7(void);
void test_12_02F8(void);
void test_12_02F9(void);
void test_12_02FA(void);
void test_12_02FB(void);
void test_12_02FC(void);
void test_12_02FD(void);
void test_12_02FE(void);
void test_12_02FF(void);
void test_12_0300(void);
void test_12_0301(void);
void test_12_0302(void);
void test_12_0303(void);
void test_12_0304(void);
void test_12_0305(void);
void test_12_0306(void);
void test_12_0307(void);
void test_12_0308(void);
void test_12_0309(void);
void test_12_030A(void);
void test_12_030B(void);
void test_12_030C(void);
void test_12_030D(void);
void test_12_030E(void);
void test_12_030F(void);
void test_12_0310(void);
void test_12_0311(void);
void test_12_0312(void);
void test_12_0313(void);
void test_12_0314(void);
void test_12_0315(void);
void test_12_0316(void);
void test_12_0317(void);
void test_12_0318(void);
void test_12_0319(void);
void test_12_031A(void);
void test_12_031B(void);
void test_12_031C(void);
void test_12_031D(void);
void test_12_031E(void);
void test_12_031F(void);
void test_12_0320(void);
void test_12_0321(void);
void test_12_0322(void);
void test_12_0323(void);
void test_12_0324(void);
void test_12_0325(void);
void test_12_0326(void);
void test_12_0327(void);
void test_12_0328(void);
void test_12_0329(void);
void test_12_032A(void);
void test_12_032B(void);
void test_12_032C(void);
void test_12_032D(void);
void test_12_032E(void);
void test_12_032F(void);
void test_12_0330(void);
void test_12_0331(void);
void test_12_0332(void);
void test_12_0333(void);
void test_12_0334(void);
void test_12_0335(void);
void test_12_0336(void);
void test_12_0337(void);
void test_12_0338(void);
void test_12_0339(void);
void test_12_033A(void);
void test_12_033B(void);
void test_12_033C(void);
void test_12_033D(void);
void test_12_033E(void);
void test_12_033F(void);
void test_12_0340(void);
void test_12_0341(void);
void test_12_0342(void);
void test_12_0343(void);
void test_12_0344(void);
void test_12_0345(void);
void test_12_0346(void);
void test_12_0347(void);
void test_12_0348(void);
void test_12_0349(void);
void test_12_034A(void);
void test_12_034B(void);
void test_12_034C(void);
void test_12_034D(void);
void test_12_034E(void);
void test_12_034F(void);
void test_12_0350(void);
void test_12_0351(void);
void test_12_0352(void);
void test_12_0353(void);
void test_12_0354(void);
void test_12_0355(void);
void test_12_0356(void);
void test_12_0357(void);
void test_12_0358(void);
void test_12_0359(void);
void test_12_035A(void);
void test_12_035B(void);
void test_12_035C(void);
void test_12_035D(void);
void test_12_035E(void);
void test_12_035F(void);
void test_12_0360(void);
void test_12_0361(void);
void test_12_0362(void);
void test_12_0363(void);
void test_12_0364(void);
void test_12_0365(void);
void test_12_0366(void);
void test_12_0367(void);
void test_12_0368(void);
void test_12_0369(void);
void test_12_036A(void);
void test_12_036B(void);
void test_12_036C(void);
void test_12_036D(void);
void test_12_036E(void);
void test_12_036F(void);
void test_12_0370(void);
void test_12_0371(void);
void test_12_0372(void);
void test_12_0373(void);
void test_12_0374(void);
void test_12_0375(void);
void test_12_0376(void);
void test_12_0377(void);
void test_12_0378(void);
void test_12_0379(void);
void test_12_037A(void);
void test_12_037B(void);
void test_12_037C(void);
void test_12_037D(void);
void test_12_037E(void);
void test_12_037F(void);
void test_12_0380(void);
void test_12_0381(void);
void test_12_0382(void);
void test_12_0383(void);
void test_12_0384(void);
void test_12_0385(void);
void test_12_0386(void);
void test_12_0387(void);
void test_12_0388(void);
void test_12_0389(void);
void test_12_038A(void);
void test_12_038B(void);
void test_12_038C(void);
void test_12_038D(void);
void test_12_038E(void);
void test_12_038F(void);
void test_12_0390(void);
void test_12_0391(void);
void test_12_0392(void);
void test_12_0393(void);
void test_12_0394(void);
void test_12_0395(void);
void test_12_0396(void);
void test_12_0397(void);
void test_12_0398(void);
void test_12_0399(void);
void test_12_039A(void);
void test_12_039B(void);
void test_12_039C(void);
void test_12_039D(void);
void test_12_039E(void);
void test_12_039F(void);
void test_12_03A0(void);
void test_12_03A1(void);
void test_12_03A2(void);
void test_12_03A3(void);
void test_12_03A4(void);
void test_12_03A5(void);
void test_12_03A6(void);
void test_12_03A7(void);
void test_12_03A8(void);
void test_12_03A9(void);
void test_12_03AA(void);
void test_12_03AB(void);
void test_12_03AC(void);
void test_12_03AD(void);
void test_12_03AE(void);
void test_12_03AF(void);
void test_12_03B0(void);
void test_12_03B1(void);
void test_12_03B2(void);
void test_12_03B3(void);
void test_12_03B4(void);
void test_12_03B5(void);
void test_12_03B6(void);
void test_12_03B7(void);
void test_12_03B8(void);
void test_12_03B9(void);
void test_12_03BA(void);
void test_12_03BB(void);
void test_12_03BC(void);
void test_12_03BD(void);
void test_12_03BE(void);
void test_12_03BF(void);
void test_12_03C0(void);
void test_12_03C1(void);
void test_12_03C2(void);
void test_12_03C3(void);
void test_12_03C4(void);
void test_12_03C5(void);
void test_12_03C6(void);
void test_12_03C7(void);
void test_12_03C8(void);
void test_12_03C9(void);
void test_12_03CA(void);
void test_12_03CB(void);
void test_12_03CC(void);
void test_12_03CD(void);
void test_12_03CE(void);
void test_12_03CF(void);
void test_12_03D0(void);
void test_12_03D1(void);
void test_12_03D2(void);
void test_12_03D3(void);
void test_12_03D4(void);
void test_12_03D5(void);
void test_12_03D6(void);
void test_12_03D7(void);
void test_12_03D8(void);
void test_12_03D9(void);
void test_12_03DA(void);
void test_12_03DB(void);
void test_12_03DC(void);
void test_12_03DD(void);
void test_12_03DE(void);
void test_12_03DF(void);
void test_12_03E0(void);
void test_12_03E1(void);
void test_12_03E2(void);
void test_12_03E3(void);
void test_12_03E4(void);
void test_12_03E5(void);
void test_12_03E6(void);
void test_12_03E7(void);
TEST_LIST = {
    { "12_0000", test_12_0000 },
    { "12_0001", test_12_0001 },
    { "12_0002", test_12_0002 },
    { "12_0003", test_12_0003 },
    { "12_0004", test_12_0004 },
    { "12_0005", test_12_0005 },
    { "12_0006", test_12_0006 },
    { "12_0007", test_12_0007 },
    { "12_0008", test_12_0008 },
    { "12_0009", test_12_0009 },
    { "12_000A", test_12_000A },
    { "12_000B", test_12_000B },
    { "12_000C", test_12_000C },
    { "12_000D", test_12_000D },
    { "12_000E", test_12_000E },
    { "12_000F", test_12_000F },
    { "12_0010", test_12_0010 },
    { "12_0011", test_12_0011 },
    { "12_0012", test_12_0012 },
    { "12_0013", test_12_0013 },
    { "12_0014", test_12_0014 },
    { "12_0015", test_12_0015 },
    { "12_0016", test_12_0016 },
    { "12_0017", test_12_0017 },
    { "12_0018", test_12_0018 },
    { "12_0019", test_12_0019 },
    { "12_001A", test_12_001A },
    { "12_001B", test_12_001B },
    { "12_001C", test_12_001C },
    { "12_001D", test_12_001D },
    { "12_001E", test_12_001E },
    { "12_001F", test_12_001F },
    { "12_0020", test_12_0020 },
    { "12_0021", test_12_0021 },
    { "12_0022", test_12_0022 },
    { "12_0023", test_12_0023 },
    { "12_0024", test_12_0024 },
    { "12_0025", test_12_0025 },
    { "12_0026", test_12_0026 },
    { "12_0027", test_12_0027 },
    { "12_0028", test_12_0028 },
    { "12_0029", test_12_0029 },
    { "12_002A", test_12_002A },
    { "12_002B", test_12_002B },
    { "12_002C", test_12_002C },
    { "12_002D", test_12_002D },
    { "12_002E", test_12_002E },
    { "12_002F", test_12_002F },
    { "12_0030", test_12_0030 },
    { "12_0031", test_12_0031 },
    { "12_0032", test_12_0032 },
    { "12_0033", test_12_0033 },
    { "12_0034", test_12_0034 },
    { "12_0035", test_12_0035 },
    { "12_0036", test_12_0036 },
    { "12_0037", test_12_0037 },
    { "12_0038", test_12_0038 },
    { "12_0039", test_12_0039 },
    { "12_003A", test_12_003A },
    { "12_003B", test_12_003B },
    { "12_003C", test_12_003C },
    { "12_003D", test_12_003D },
    { "12_003E", test_12_003E },
    { "12_003F", test_12_003F },
    { "12_0040", test_12_0040 },
    { "12_0041", test_12_0041 },
    { "12_0042", test_12_0042 },
    { "12_0043", test_12_0043 },
    { "12_0044", test_12_0044 },
    { "12_0045", test_12_0045 },
    { "12_0046", test_12_0046 },
    { "12_0047", test_12_0047 },
    { "12_0048", test_12_0048 },
    { "12_0049", test_12_0049 },
    { "12_004A", test_12_004A },
    { "12_004B", test_12_004B },
    { "12_004C", test_12_004C },
    { "12_004D", test_12_004D },
    { "12_004E", test_12_004E },
    { "12_004F", test_12_004F },
    { "12_0050", test_12_0050 },
    { "12_0051", test_12_0051 },
    { "12_0052", test_12_0052 },
    { "12_0053", test_12_0053 },
    { "12_0054", test_12_0054 },
    { "12_0055", test_12_0055 },
    { "12_0056", test_12_0056 },
    { "12_0057", test_12_0057 },
    { "12_0058", test_12_0058 },
    { "12_0059", test_12_0059 },
    { "12_005A", test_12_005A },
    { "12_005B", test_12_005B },
    { "12_005C", test_12_005C },
    { "12_005D", test_12_005D },
    { "12_005E", test_12_005E },
    { "12_005F", test_12_005F },
    { "12_0060", test_12_0060 },
    { "12_0061", test_12_0061 },
    { "12_0062", test_12_0062 },
    { "12_0063", test_12_0063 },
    { "12_0064", test_12_0064 },
    { "12_0065", test_12_0065 },
    { "12_0066", test_12_0066 },
    { "12_0067", test_12_0067 },
    { "12_0068", test_12_0068 },
    { "12_0069", test_12_0069 },
    { "12_006A", test_12_006A },
    { "12_006B", test_12_006B },
    { "12_006C", test_12_006C },
    { "12_006D", test_12_006D },
    { "12_006E", test_12_006E },
    { "12_006F", test_12_006F },
    { "12_0070", test_12_0070 },
    { "12_0071", test_12_0071 },
    { "12_0072", test_12_0072 },
    { "12_0073", test_12_0073 },
    { "12_0074", test_12_0074 },
    { "12_0075", test_12_0075 },
    { "12_0076", test_12_0076 },
    { "12_0077", test_12_0077 },
    { "12_0078", test_12_0078 },
    { "12_0079", test_12_0079 },
    { "12_007A", test_12_007A },
    { "12_007B", test_12_007B },
    { "12_007C", test_12_007C },
    { "12_007D", test_12_007D },
    { "12_007E", test_12_007E },
    { "12_007F", test_12_007F },
    { "12_0080", test_12_0080 },
    { "12_0081", test_12_0081 },
    { "12_0082", test_12_0082 },
    { "12_0083", test_12_0083 },
    { "12_0084", test_12_0084 },
    { "12_0085", test_12_0085 },
    { "12_0086", test_12_0086 },
    { "12_0087", test_12_0087 },
    { "12_0088", test_12_0088 },
    { "12_0089", test_12_0089 },
    { "12_008A", test_12_008A },
    { "12_008B", test_12_008B },
    { "12_008C", test_12_008C },
    { "12_008D", test_12_008D },
    { "12_008E", test_12_008E },
    { "12_008F", test_12_008F },
    { "12_0090", test_12_0090 },
    { "12_0091", test_12_0091 },
    { "12_0092", test_12_0092 },
    { "12_0093", test_12_0093 },
    { "12_0094", test_12_0094 },
    { "12_0095", test_12_0095 },
    { "12_0096", test_12_0096 },
    { "12_0097", test_12_0097 },
    { "12_0098", test_12_0098 },
    { "12_0099", test_12_0099 },
    { "12_009A", test_12_009A },
    { "12_009B", test_12_009B },
    { "12_009C", test_12_009C },
    { "12_009D", test_12_009D },
    { "12_009E", test_12_009E },
    { "12_009F", test_12_009F },
    { "12_00A0", test_12_00A0 },
    { "12_00A1", test_12_00A1 },
    { "12_00A2", test_12_00A2 },
    { "12_00A3", test_12_00A3 },
    { "12_00A4", test_12_00A4 },
    { "12_00A5", test_12_00A5 },
    { "12_00A6", test_12_00A6 },
    { "12_00A7", test_12_00A7 },
    { "12_00A8", test_12_00A8 },
    { "12_00A9", test_12_00A9 },
    { "12_00AA", test_12_00AA },
    { "12_00AB", test_12_00AB },
    { "12_00AC", test_12_00AC },
    { "12_00AD", test_12_00AD },
    { "12_00AE", test_12_00AE },
    { "12_00AF", test_12_00AF },
    { "12_00B0", test_12_00B0 },
    { "12_00B1", test_12_00B1 },
    { "12_00B2", test_12_00B2 },
    { "12_00B3", test_12_00B3 },
    { "12_00B4", test_12_00B4 },
    { "12_00B5", test_12_00B5 },
    { "12_00B6", test_12_00B6 },
    { "12_00B7", test_12_00B7 },
    { "12_00B8", test_12_00B8 },
    { "12_00B9", test_12_00B9 },
    { "12_00BA", test_12_00BA },
    { "12_00BB", test_12_00BB },
    { "12_00BC", test_12_00BC },
    { "12_00BD", test_12_00BD },
    { "12_00BE", test_12_00BE },
    { "12_00BF", test_12_00BF },
    { "12_00C0", test_12_00C0 },
    { "12_00C1", test_12_00C1 },
    { "12_00C2", test_12_00C2 },
    { "12_00C3", test_12_00C3 },
    { "12_00C4", test_12_00C4 },
    { "12_00C5", test_12_00C5 },
    { "12_00C6", test_12_00C6 },
    { "12_00C7", test_12_00C7 },
    { "12_00C8", test_12_00C8 },
    { "12_00C9", test_12_00C9 },
    { "12_00CA", test_12_00CA },
    { "12_00CB", test_12_00CB },
    { "12_00CC", test_12_00CC },
    { "12_00CD", test_12_00CD },
    { "12_00CE", test_12_00CE },
    { "12_00CF", test_12_00CF },
    { "12_00D0", test_12_00D0 },
    { "12_00D1", test_12_00D1 },
    { "12_00D2", test_12_00D2 },
    { "12_00D3", test_12_00D3 },
    { "12_00D4", test_12_00D4 },
    { "12_00D5", test_12_00D5 },
    { "12_00D6", test_12_00D6 },
    { "12_00D7", test_12_00D7 },
    { "12_00D8", test_12_00D8 },
    { "12_00D9", test_12_00D9 },
    { "12_00DA", test_12_00DA },
    { "12_00DB", test_12_00DB },
    { "12_00DC", test_12_00DC },
    { "12_00DD", test_12_00DD },
    { "12_00DE", test_12_00DE },
    { "12_00DF", test_12_00DF },
    { "12_00E0", test_12_00E0 },
    { "12_00E1", test_12_00E1 },
    { "12_00E2", test_12_00E2 },
    { "12_00E3", test_12_00E3 },
    { "12_00E4", test_12_00E4 },
    { "12_00E5", test_12_00E5 },
    { "12_00E6", test_12_00E6 },
    { "12_00E7", test_12_00E7 },
    { "12_00E8", test_12_00E8 },
    { "12_00E9", test_12_00E9 },
    { "12_00EA", test_12_00EA },
    { "12_00EB", test_12_00EB },
    { "12_00EC", test_12_00EC },
    { "12_00ED", test_12_00ED },
    { "12_00EE", test_12_00EE },
    { "12_00EF", test_12_00EF },
    { "12_00F0", test_12_00F0 },
    { "12_00F1", test_12_00F1 },
    { "12_00F2", test_12_00F2 },
    { "12_00F3", test_12_00F3 },
    { "12_00F4", test_12_00F4 },
    { "12_00F5", test_12_00F5 },
    { "12_00F6", test_12_00F6 },
    { "12_00F7", test_12_00F7 },
    { "12_00F8", test_12_00F8 },
    { "12_00F9", test_12_00F9 },
    { "12_00FA", test_12_00FA },
    { "12_00FB", test_12_00FB },
    { "12_00FC", test_12_00FC },
    { "12_00FD", test_12_00FD },
    { "12_00FE", test_12_00FE },
    { "12_00FF", test_12_00FF },
    { "12_0100", test_12_0100 },
    { "12_0101", test_12_0101 },
    { "12_0102", test_12_0102 },
    { "12_0103", test_12_0103 },
    { "12_0104", test_12_0104 },
    { "12_0105", test_12_0105 },
    { "12_0106", test_12_0106 },
    { "12_0107", test_12_0107 },
    { "12_0108", test_12_0108 },
    { "12_0109", test_12_0109 },
    { "12_010A", test_12_010A },
    { "12_010B", test_12_010B },
    { "12_010C", test_12_010C },
    { "12_010D", test_12_010D },
    { "12_010E", test_12_010E },
    { "12_010F", test_12_010F },
    { "12_0110", test_12_0110 },
    { "12_0111", test_12_0111 },
    { "12_0112", test_12_0112 },
    { "12_0113", test_12_0113 },
    { "12_0114", test_12_0114 },
    { "12_0115", test_12_0115 },
    { "12_0116", test_12_0116 },
    { "12_0117", test_12_0117 },
    { "12_0118", test_12_0118 },
    { "12_0119", test_12_0119 },
    { "12_011A", test_12_011A },
    { "12_011B", test_12_011B },
    { "12_011C", test_12_011C },
    { "12_011D", test_12_011D },
    { "12_011E", test_12_011E },
    { "12_011F", test_12_011F },
    { "12_0120", test_12_0120 },
    { "12_0121", test_12_0121 },
    { "12_0122", test_12_0122 },
    { "12_0123", test_12_0123 },
    { "12_0124", test_12_0124 },
    { "12_0125", test_12_0125 },
    { "12_0126", test_12_0126 },
    { "12_0127", test_12_0127 },
    { "12_0128", test_12_0128 },
    { "12_0129", test_12_0129 },
    { "12_012A", test_12_012A },
    { "12_012B", test_12_012B },
    { "12_012C", test_12_012C },
    { "12_012D", test_12_012D },
    { "12_012E", test_12_012E },
    { "12_012F", test_12_012F },
    { "12_0130", test_12_0130 },
    { "12_0131", test_12_0131 },
    { "12_0132", test_12_0132 },
    { "12_0133", test_12_0133 },
    { "12_0134", test_12_0134 },
    { "12_0135", test_12_0135 },
    { "12_0136", test_12_0136 },
    { "12_0137", test_12_0137 },
    { "12_0138", test_12_0138 },
    { "12_0139", test_12_0139 },
    { "12_013A", test_12_013A },
    { "12_013B", test_12_013B },
    { "12_013C", test_12_013C },
    { "12_013D", test_12_013D },
    { "12_013E", test_12_013E },
    { "12_013F", test_12_013F },
    { "12_0140", test_12_0140 },
    { "12_0141", test_12_0141 },
    { "12_0142", test_12_0142 },
    { "12_0143", test_12_0143 },
    { "12_0144", test_12_0144 },
    { "12_0145", test_12_0145 },
    { "12_0146", test_12_0146 },
    { "12_0147", test_12_0147 },
    { "12_0148", test_12_0148 },
    { "12_0149", test_12_0149 },
    { "12_014A", test_12_014A },
    { "12_014B", test_12_014B },
    { "12_014C", test_12_014C },
    { "12_014D", test_12_014D },
    { "12_014E", test_12_014E },
    { "12_014F", test_12_014F },
    { "12_0150", test_12_0150 },
    { "12_0151", test_12_0151 },
    { "12_0152", test_12_0152 },
    { "12_0153", test_12_0153 },
    { "12_0154", test_12_0154 },
    { "12_0155", test_12_0155 },
    { "12_0156", test_12_0156 },
    { "12_0157", test_12_0157 },
    { "12_0158", test_12_0158 },
    { "12_0159", test_12_0159 },
    { "12_015A", test_12_015A },
    { "12_015B", test_12_015B },
    { "12_015C", test_12_015C },
    { "12_015D", test_12_015D },
    { "12_015E", test_12_015E },
    { "12_015F", test_12_015F },
    { "12_0160", test_12_0160 },
    { "12_0161", test_12_0161 },
    { "12_0162", test_12_0162 },
    { "12_0163", test_12_0163 },
    { "12_0164", test_12_0164 },
    { "12_0165", test_12_0165 },
    { "12_0166", test_12_0166 },
    { "12_0167", test_12_0167 },
    { "12_0168", test_12_0168 },
    { "12_0169", test_12_0169 },
    { "12_016A", test_12_016A },
    { "12_016B", test_12_016B },
    { "12_016C", test_12_016C },
    { "12_016D", test_12_016D },
    { "12_016E", test_12_016E },
    { "12_016F", test_12_016F },
    { "12_0170", test_12_0170 },
    { "12_0171", test_12_0171 },
    { "12_0172", test_12_0172 },
    { "12_0173", test_12_0173 },
    { "12_0174", test_12_0174 },
    { "12_0175", test_12_0175 },
    { "12_0176", test_12_0176 },
    { "12_0177", test_12_0177 },
    { "12_0178", test_12_0178 },
    { "12_0179", test_12_0179 },
    { "12_017A", test_12_017A },
    { "12_017B", test_12_017B },
    { "12_017C", test_12_017C },
    { "12_017D", test_12_017D },
    { "12_017E", test_12_017E },
    { "12_017F", test_12_017F },
    { "12_0180", test_12_0180 },
    { "12_0181", test_12_0181 },
    { "12_0182", test_12_0182 },
    { "12_0183", test_12_0183 },
    { "12_0184", test_12_0184 },
    { "12_0185", test_12_0185 },
    { "12_0186", test_12_0186 },
    { "12_0187", test_12_0187 },
    { "12_0188", test_12_0188 },
    { "12_0189", test_12_0189 },
    { "12_018A", test_12_018A },
    { "12_018B", test_12_018B },
    { "12_018C", test_12_018C },
    { "12_018D", test_12_018D },
    { "12_018E", test_12_018E },
    { "12_018F", test_12_018F },
    { "12_0190", test_12_0190 },
    { "12_0191", test_12_0191 },
    { "12_0192", test_12_0192 },
    { "12_0193", test_12_0193 },
    { "12_0194", test_12_0194 },
    { "12_0195", test_12_0195 },
    { "12_0196", test_12_0196 },
    { "12_0197", test_12_0197 },
    { "12_0198", test_12_0198 },
    { "12_0199", test_12_0199 },
    { "12_019A", test_12_019A },
    { "12_019B", test_12_019B },
    { "12_019C", test_12_019C },
    { "12_019D", test_12_019D },
    { "12_019E", test_12_019E },
    { "12_019F", test_12_019F },
    { "12_01A0", test_12_01A0 },
    { "12_01A1", test_12_01A1 },
    { "12_01A2", test_12_01A2 },
    { "12_01A3", test_12_01A3 },
    { "12_01A4", test_12_01A4 },
    { "12_01A5", test_12_01A5 },
    { "12_01A6", test_12_01A6 },
    { "12_01A7", test_12_01A7 },
    { "12_01A8", test_12_01A8 },
    { "12_01A9", test_12_01A9 },
    { "12_01AA", test_12_01AA },
    { "12_01AB", test_12_01AB },
    { "12_01AC", test_12_01AC },
    { "12_01AD", test_12_01AD },
    { "12_01AE", test_12_01AE },
    { "12_01AF", test_12_01AF },
    { "12_01B0", test_12_01B0 },
    { "12_01B1", test_12_01B1 },
    { "12_01B2", test_12_01B2 },
    { "12_01B3", test_12_01B3 },
    { "12_01B4", test_12_01B4 },
    { "12_01B5", test_12_01B5 },
    { "12_01B6", test_12_01B6 },
    { "12_01B7", test_12_01B7 },
    { "12_01B8", test_12_01B8 },
    { "12_01B9", test_12_01B9 },
    { "12_01BA", test_12_01BA },
    { "12_01BB", test_12_01BB },
    { "12_01BC", test_12_01BC },
    { "12_01BD", test_12_01BD },
    { "12_01BE", test_12_01BE },
    { "12_01BF", test_12_01BF },
    { "12_01C0", test_12_01C0 },
    { "12_01C1", test_12_01C1 },
    { "12_01C2", test_12_01C2 },
    { "12_01C3", test_12_01C3 },
    { "12_01C4", test_12_01C4 },
    { "12_01C5", test_12_01C5 },
    { "12_01C6", test_12_01C6 },
    { "12_01C7", test_12_01C7 },
    { "12_01C8", test_12_01C8 },
    { "12_01C9", test_12_01C9 },
    { "12_01CA", test_12_01CA },
    { "12_01CB", test_12_01CB },
    { "12_01CC", test_12_01CC },
    { "12_01CD", test_12_01CD },
    { "12_01CE", test_12_01CE },
    { "12_01CF", test_12_01CF },
    { "12_01D0", test_12_01D0 },
    { "12_01D1", test_12_01D1 },
    { "12_01D2", test_12_01D2 },
    { "12_01D3", test_12_01D3 },
    { "12_01D4", test_12_01D4 },
    { "12_01D5", test_12_01D5 },
    { "12_01D6", test_12_01D6 },
    { "12_01D7", test_12_01D7 },
    { "12_01D8", test_12_01D8 },
    { "12_01D9", test_12_01D9 },
    { "12_01DA", test_12_01DA },
    { "12_01DB", test_12_01DB },
    { "12_01DC", test_12_01DC },
    { "12_01DD", test_12_01DD },
    { "12_01DE", test_12_01DE },
    { "12_01DF", test_12_01DF },
    { "12_01E0", test_12_01E0 },
    { "12_01E1", test_12_01E1 },
    { "12_01E2", test_12_01E2 },
    { "12_01E3", test_12_01E3 },
    { "12_01E4", test_12_01E4 },
    { "12_01E5", test_12_01E5 },
    { "12_01E6", test_12_01E6 },
    { "12_01E7", test_12_01E7 },
    { "12_01E8", test_12_01E8 },
    { "12_01E9", test_12_01E9 },
    { "12_01EA", test_12_01EA },
    { "12_01EB", test_12_01EB },
    { "12_01EC", test_12_01EC },
    { "12_01ED", test_12_01ED },
    { "12_01EE", test_12_01EE },
    { "12_01EF", test_12_01EF },
    { "12_01F0", test_12_01F0 },
    { "12_01F1", test_12_01F1 },
    { "12_01F2", test_12_01F2 },
    { "12_01F3", test_12_01F3 },
    { "12_01F4", test_12_01F4 },
    { "12_01F5", test_12_01F5 },
    { "12_01F6", test_12_01F6 },
    { "12_01F7", test_12_01F7 },
    { "12_01F8", test_12_01F8 },
    { "12_01F9", test_12_01F9 },
    { "12_01FA", test_12_01FA },
    { "12_01FB", test_12_01FB },
    { "12_01FC", test_12_01FC },
    { "12_01FD", test_12_01FD },
    { "12_01FE", test_12_01FE },
    { "12_01FF", test_12_01FF },
    { "12_0200", test_12_0200 },
    { "12_0201", test_12_0201 },
    { "12_0202", test_12_0202 },
    { "12_0203", test_12_0203 },
    { "12_0204", test_12_0204 },
    { "12_0205", test_12_0205 },
    { "12_0206", test_12_0206 },
    { "12_0207", test_12_0207 },
    { "12_0208", test_12_0208 },
    { "12_0209", test_12_0209 },
    { "12_020A", test_12_020A },
    { "12_020B", test_12_020B },
    { "12_020C", test_12_020C },
    { "12_020D", test_12_020D },
    { "12_020E", test_12_020E },
    { "12_020F", test_12_020F },
    { "12_0210", test_12_0210 },
    { "12_0211", test_12_0211 },
    { "12_0212", test_12_0212 },
    { "12_0213", test_12_0213 },
    { "12_0214", test_12_0214 },
    { "12_0215", test_12_0215 },
    { "12_0216", test_12_0216 },
    { "12_0217", test_12_0217 },
    { "12_0218", test_12_0218 },
    { "12_0219", test_12_0219 },
    { "12_021A", test_12_021A },
    { "12_021B", test_12_021B },
    { "12_021C", test_12_021C },
    { "12_021D", test_12_021D },
    { "12_021E", test_12_021E },
    { "12_021F", test_12_021F },
    { "12_0220", test_12_0220 },
    { "12_0221", test_12_0221 },
    { "12_0222", test_12_0222 },
    { "12_0223", test_12_0223 },
    { "12_0224", test_12_0224 },
    { "12_0225", test_12_0225 },
    { "12_0226", test_12_0226 },
    { "12_0227", test_12_0227 },
    { "12_0228", test_12_0228 },
    { "12_0229", test_12_0229 },
    { "12_022A", test_12_022A },
    { "12_022B", test_12_022B },
    { "12_022C", test_12_022C },
    { "12_022D", test_12_022D },
    { "12_022E", test_12_022E },
    { "12_022F", test_12_022F },
    { "12_0230", test_12_0230 },
    { "12_0231", test_12_0231 },
    { "12_0232", test_12_0232 },
    { "12_0233", test_12_0233 },
    { "12_0234", test_12_0234 },
    { "12_0235", test_12_0235 },
    { "12_0236", test_12_0236 },
    { "12_0237", test_12_0237 },
    { "12_0238", test_12_0238 },
    { "12_0239", test_12_0239 },
    { "12_023A", test_12_023A },
    { "12_023B", test_12_023B },
    { "12_023C", test_12_023C },
    { "12_023D", test_12_023D },
    { "12_023E", test_12_023E },
    { "12_023F", test_12_023F },
    { "12_0240", test_12_0240 },
    { "12_0241", test_12_0241 },
    { "12_0242", test_12_0242 },
    { "12_0243", test_12_0243 },
    { "12_0244", test_12_0244 },
    { "12_0245", test_12_0245 },
    { "12_0246", test_12_0246 },
    { "12_0247", test_12_0247 },
    { "12_0248", test_12_0248 },
    { "12_0249", test_12_0249 },
    { "12_024A", test_12_024A },
    { "12_024B", test_12_024B },
    { "12_024C", test_12_024C },
    { "12_024D", test_12_024D },
    { "12_024E", test_12_024E },
    { "12_024F", test_12_024F },
    { "12_0250", test_12_0250 },
    { "12_0251", test_12_0251 },
    { "12_0252", test_12_0252 },
    { "12_0253", test_12_0253 },
    { "12_0254", test_12_0254 },
    { "12_0255", test_12_0255 },
    { "12_0256", test_12_0256 },
    { "12_0257", test_12_0257 },
    { "12_0258", test_12_0258 },
    { "12_0259", test_12_0259 },
    { "12_025A", test_12_025A },
    { "12_025B", test_12_025B },
    { "12_025C", test_12_025C },
    { "12_025D", test_12_025D },
    { "12_025E", test_12_025E },
    { "12_025F", test_12_025F },
    { "12_0260", test_12_0260 },
    { "12_0261", test_12_0261 },
    { "12_0262", test_12_0262 },
    { "12_0263", test_12_0263 },
    { "12_0264", test_12_0264 },
    { "12_0265", test_12_0265 },
    { "12_0266", test_12_0266 },
    { "12_0267", test_12_0267 },
    { "12_0268", test_12_0268 },
    { "12_0269", test_12_0269 },
    { "12_026A", test_12_026A },
    { "12_026B", test_12_026B },
    { "12_026C", test_12_026C },
    { "12_026D", test_12_026D },
    { "12_026E", test_12_026E },
    { "12_026F", test_12_026F },
    { "12_0270", test_12_0270 },
    { "12_0271", test_12_0271 },
    { "12_0272", test_12_0272 },
    { "12_0273", test_12_0273 },
    { "12_0274", test_12_0274 },
    { "12_0275", test_12_0275 },
    { "12_0276", test_12_0276 },
    { "12_0277", test_12_0277 },
    { "12_0278", test_12_0278 },
    { "12_0279", test_12_0279 },
    { "12_027A", test_12_027A },
    { "12_027B", test_12_027B },
    { "12_027C", test_12_027C },
    { "12_027D", test_12_027D },
    { "12_027E", test_12_027E },
    { "12_027F", test_12_027F },
    { "12_0280", test_12_0280 },
    { "12_0281", test_12_0281 },
    { "12_0282", test_12_0282 },
    { "12_0283", test_12_0283 },
    { "12_0284", test_12_0284 },
    { "12_0285", test_12_0285 },
    { "12_0286", test_12_0286 },
    { "12_0287", test_12_0287 },
    { "12_0288", test_12_0288 },
    { "12_0289", test_12_0289 },
    { "12_028A", test_12_028A },
    { "12_028B", test_12_028B },
    { "12_028C", test_12_028C },
    { "12_028D", test_12_028D },
    { "12_028E", test_12_028E },
    { "12_028F", test_12_028F },
    { "12_0290", test_12_0290 },
    { "12_0291", test_12_0291 },
    { "12_0292", test_12_0292 },
    { "12_0293", test_12_0293 },
    { "12_0294", test_12_0294 },
    { "12_0295", test_12_0295 },
    { "12_0296", test_12_0296 },
    { "12_0297", test_12_0297 },
    { "12_0298", test_12_0298 },
    { "12_0299", test_12_0299 },
    { "12_029A", test_12_029A },
    { "12_029B", test_12_029B },
    { "12_029C", test_12_029C },
    { "12_029D", test_12_029D },
    { "12_029E", test_12_029E },
    { "12_029F", test_12_029F },
    { "12_02A0", test_12_02A0 },
    { "12_02A1", test_12_02A1 },
    { "12_02A2", test_12_02A2 },
    { "12_02A3", test_12_02A3 },
    { "12_02A4", test_12_02A4 },
    { "12_02A5", test_12_02A5 },
    { "12_02A6", test_12_02A6 },
    { "12_02A7", test_12_02A7 },
    { "12_02A8", test_12_02A8 },
    { "12_02A9", test_12_02A9 },
    { "12_02AA", test_12_02AA },
    { "12_02AB", test_12_02AB },
    { "12_02AC", test_12_02AC },
    { "12_02AD", test_12_02AD },
    { "12_02AE", test_12_02AE },
    { "12_02AF", test_12_02AF },
    { "12_02B0", test_12_02B0 },
    { "12_02B1", test_12_02B1 },
    { "12_02B2", test_12_02B2 },
    { "12_02B3", test_12_02B3 },
    { "12_02B4", test_12_02B4 },
    { "12_02B5", test_12_02B5 },
    { "12_02B6", test_12_02B6 },
    { "12_02B7", test_12_02B7 },
    { "12_02B8", test_12_02B8 },
    { "12_02B9", test_12_02B9 },
    { "12_02BA", test_12_02BA },
    { "12_02BB", test_12_02BB },
    { "12_02BC", test_12_02BC },
    { "12_02BD", test_12_02BD },
    { "12_02BE", test_12_02BE },
    { "12_02BF", test_12_02BF },
    { "12_02C0", test_12_02C0 },
    { "12_02C1", test_12_02C1 },
    { "12_02C2", test_12_02C2 },
    { "12_02C3", test_12_02C3 },
    { "12_02C4", test_12_02C4 },
    { "12_02C5", test_12_02C5 },
    { "12_02C6", test_12_02C6 },
    { "12_02C7", test_12_02C7 },
    { "12_02C8", test_12_02C8 },
    { "12_02C9", test_12_02C9 },
    { "12_02CA", test_12_02CA },
    { "12_02CB", test_12_02CB },
    { "12_02CC", test_12_02CC },
    { "12_02CD", test_12_02CD },
    { "12_02CE", test_12_02CE },
    { "12_02CF", test_12_02CF },
    { "12_02D0", test_12_02D0 },
    { "12_02D1", test_12_02D1 },
    { "12_02D2", test_12_02D2 },
    { "12_02D3", test_12_02D3 },
    { "12_02D4", test_12_02D4 },
    { "12_02D5", test_12_02D5 },
    { "12_02D6", test_12_02D6 },
    { "12_02D7", test_12_02D7 },
    { "12_02D8", test_12_02D8 },
    { "12_02D9", test_12_02D9 },
    { "12_02DA", test_12_02DA },
    { "12_02DB", test_12_02DB },
    { "12_02DC", test_12_02DC },
    { "12_02DD", test_12_02DD },
    { "12_02DE", test_12_02DE },
    { "12_02DF", test_12_02DF },
    { "12_02E0", test_12_02E0 },
    { "12_02E1", test_12_02E1 },
    { "12_02E2", test_12_02E2 },
    { "12_02E3", test_12_02E3 },
    { "12_02E4", test_12_02E4 },
    { "12_02E5", test_12_02E5 },
    { "12_02E6", test_12_02E6 },
    { "12_02E7", test_12_02E7 },
    { "12_02E8", test_12_02E8 },
    { "12_02E9", test_12_02E9 },
    { "12_02EA", test_12_02EA },
    { "12_02EB", test_12_02EB },
    { "12_02EC", test_12_02EC },
    { "12_02ED", test_12_02ED },
    { "12_02EE", test_12_02EE },
    { "12_02EF", test_12_02EF },
    { "12_02F0", test_12_02F0 },
    { "12_02F1", test_12_02F1 },
    { "12_02F2", test_12_02F2 },
    { "12_02F3", test_12_02F3 },
    { "12_02F4", test_12_02F4 },
    { "12_02F5", test_12_02F5 },
    { "12_02F6", test_12_02F6 },
    { "12_02F7", test_12_02F7 },
    { "12_02F8", test_12_02F8 },
    { "12_02F9", test_12_02F9 },
    { "12_02FA", test_12_02FA },
    { "12_02FB", test_12_02FB },
    { "12_02FC", test_12_02FC },
    { "12_02FD", test_12_02FD },
    { "12_02FE", test_12_02FE },
    { "12_02FF", test_12_02FF },
    { "12_0300", test_12_0300 },
    { "12_0301", test_12_0301 },
    { "12_0302", test_12_0302 },
    { "12_0303", test_12_0303 },
    { "12_0304", test_12_0304 },
    { "12_0305", test_12_0305 },
    { "12_0306", test_12_0306 },
    { "12_0307", test_12_0307 },
    { "12_0308", test_12_0308 },
    { "12_0309", test_12_0309 },
    { "12_030A", test_12_030A },
    { "12_030B", test_12_030B },
    { "12_030C", test_12_030C },
    { "12_030D", test_12_030D },
    { "12_030E", test_12_030E },
    { "12_030F", test_12_030F },
    { "12_0310", test_12_0310 },
    { "12_0311", test_12_0311 },
    { "12_0312", test_12_0312 },
    { "12_0313", test_12_0313 },
    { "12_0314", test_12_0314 },
    { "12_0315", test_12_0315 },
    { "12_0316", test_12_0316 },
    { "12_0317", test_12_0317 },
    { "12_0318", test_12_0318 },
    { "12_0319", test_12_0319 },
    { "12_031A", test_12_031A },
    { "12_031B", test_12_031B },
    { "12_031C", test_12_031C },
    { "12_031D", test_12_031D },
    { "12_031E", test_12_031E },
    { "12_031F", test_12_031F },
    { "12_0320", test_12_0320 },
    { "12_0321", test_12_0321 },
    { "12_0322", test_12_0322 },
    { "12_0323", test_12_0323 },
    { "12_0324", test_12_0324 },
    { "12_0325", test_12_0325 },
    { "12_0326", test_12_0326 },
    { "12_0327", test_12_0327 },
    { "12_0328", test_12_0328 },
    { "12_0329", test_12_0329 },
    { "12_032A", test_12_032A },
    { "12_032B", test_12_032B },
    { "12_032C", test_12_032C },
    { "12_032D", test_12_032D },
    { "12_032E", test_12_032E },
    { "12_032F", test_12_032F },
    { "12_0330", test_12_0330 },
    { "12_0331", test_12_0331 },
    { "12_0332", test_12_0332 },
    { "12_0333", test_12_0333 },
    { "12_0334", test_12_0334 },
    { "12_0335", test_12_0335 },
    { "12_0336", test_12_0336 },
    { "12_0337", test_12_0337 },
    { "12_0338", test_12_0338 },
    { "12_0339", test_12_0339 },
    { "12_033A", test_12_033A },
    { "12_033B", test_12_033B },
    { "12_033C", test_12_033C },
    { "12_033D", test_12_033D },
    { "12_033E", test_12_033E },
    { "12_033F", test_12_033F },
    { "12_0340", test_12_0340 },
    { "12_0341", test_12_0341 },
    { "12_0342", test_12_0342 },
    { "12_0343", test_12_0343 },
    { "12_0344", test_12_0344 },
    { "12_0345", test_12_0345 },
    { "12_0346", test_12_0346 },
    { "12_0347", test_12_0347 },
    { "12_0348", test_12_0348 },
    { "12_0349", test_12_0349 },
    { "12_034A", test_12_034A },
    { "12_034B", test_12_034B },
    { "12_034C", test_12_034C },
    { "12_034D", test_12_034D },
    { "12_034E", test_12_034E },
    { "12_034F", test_12_034F },
    { "12_0350", test_12_0350 },
    { "12_0351", test_12_0351 },
    { "12_0352", test_12_0352 },
    { "12_0353", test_12_0353 },
    { "12_0354", test_12_0354 },
    { "12_0355", test_12_0355 },
    { "12_0356", test_12_0356 },
    { "12_0357", test_12_0357 },
    { "12_0358", test_12_0358 },
    { "12_0359", test_12_0359 },
    { "12_035A", test_12_035A },
    { "12_035B", test_12_035B },
    { "12_035C", test_12_035C },
    { "12_035D", test_12_035D },
    { "12_035E", test_12_035E },
    { "12_035F", test_12_035F },
    { "12_0360", test_12_0360 },
    { "12_0361", test_12_0361 },
    { "12_0362", test_12_0362 },
    { "12_0363", test_12_0363 },
    { "12_0364", test_12_0364 },
    { "12_0365", test_12_0365 },
    { "12_0366", test_12_0366 },
    { "12_0367", test_12_0367 },
    { "12_0368", test_12_0368 },
    { "12_0369", test_12_0369 },
    { "12_036A", test_12_036A },
    { "12_036B", test_12_036B },
    { "12_036C", test_12_036C },
    { "12_036D", test_12_036D },
    { "12_036E", test_12_036E },
    { "12_036F", test_12_036F },
    { "12_0370", test_12_0370 },
    { "12_0371", test_12_0371 },
    { "12_0372", test_12_0372 },
    { "12_0373", test_12_0373 },
    { "12_0374", test_12_0374 },
    { "12_0375", test_12_0375 },
    { "12_0376", test_12_0376 },
    { "12_0377", test_12_0377 },
    { "12_0378", test_12_0378 },
    { "12_0379", test_12_0379 },
    { "12_037A", test_12_037A },
    { "12_037B", test_12_037B },
    { "12_037C", test_12_037C },
    { "12_037D", test_12_037D },
    { "12_037E", test_12_037E },
    { "12_037F", test_12_037F },
    { "12_0380", test_12_0380 },
    { "12_0381", test_12_0381 },
    { "12_0382", test_12_0382 },
    { "12_0383", test_12_0383 },
    { "12_0384", test_12_0384 },
    { "12_0385", test_12_0385 },
    { "12_0386", test_12_0386 },
    { "12_0387", test_12_0387 },
    { "12_0388", test_12_0388 },
    { "12_0389", test_12_0389 },
    { "12_038A", test_12_038A },
    { "12_038B", test_12_038B },
    { "12_038C", test_12_038C },
    { "12_038D", test_12_038D },
    { "12_038E", test_12_038E },
    { "12_038F", test_12_038F },
    { "12_0390", test_12_0390 },
    { "12_0391", test_12_0391 },
    { "12_0392", test_12_0392 },
    { "12_0393", test_12_0393 },
    { "12_0394", test_12_0394 },
    { "12_0395", test_12_0395 },
    { "12_0396", test_12_0396 },
    { "12_0397", test_12_0397 },
    { "12_0398", test_12_0398 },
    { "12_0399", test_12_0399 },
    { "12_039A", test_12_039A },
    { "12_039B", test_12_039B },
    { "12_039C", test_12_039C },
    { "12_039D", test_12_039D },
    { "12_039E", test_12_039E },
    { "12_039F", test_12_039F },
    { "12_03A0", test_12_03A0 },
    { "12_03A1", test_12_03A1 },
    { "12_03A2", test_12_03A2 },
    { "12_03A3", test_12_03A3 },
    { "12_03A4", test_12_03A4 },
    { "12_03A5", test_12_03A5 },
    { "12_03A6", test_12_03A6 },
    { "12_03A7", test_12_03A7 },
    { "12_03A8", test_12_03A8 },
    { "12_03A9", test_12_03A9 },
    { "12_03AA", test_12_03AA },
    { "12_03AB", test_12_03AB },
    { "12_03AC", test_12_03AC },
    { "12_03AD", test_12_03AD },
    { "12_03AE", test_12_03AE },
    { "12_03AF", test_12_03AF },
    { "12_03B0", test_12_03B0 },
    { "12_03B1", test_12_03B1 },
    { "12_03B2", test_12_03B2 },
    { "12_03B3", test_12_03B3 },
    { "12_03B4", test_12_03B4 },
    { "12_03B5", test_12_03B5 },
    { "12_03B6", test_12_03B6 },
    { "12_03B7", test_12_03B7 },
    { "12_03B8", test_12_03B8 },
    { "12_03B9", test_12_03B9 },
    { "12_03BA", test_12_03BA },
    { "12_03BB", test_12_03BB },
    { "12_03BC", test_12_03BC },
    { "12_03BD", test_12_03BD },
    { "12_03BE", test_12_03BE },
    { "12_03BF", test_12_03BF },
    { "12_03C0", test_12_03C0 },
    { "12_03C1", test_12_03C1 },
    { "12_03C2", test_12_03C2 },
    { "12_03C3", test_12_03C3 },
    { "12_03C4", test_12_03C4 },
    { "12_03C5", test_12_03C5 },
    { "12_03C6", test_12_03C6 },
    { "12_03C7", test_12_03C7 },
    { "12_03C8", test_12_03C8 },
    { "12_03C9", test_12_03C9 },
    { "12_03CA", test_12_03CA },
    { "12_03CB", test_12_03CB },
    { "12_03CC", test_12_03CC },
    { "12_03CD", test_12_03CD },
    { "12_03CE", test_12_03CE },
    { "12_03CF", test_12_03CF },
    { "12_03D0", test_12_03D0 },
    { "12_03D1", test_12_03D1 },
    { "12_03D2", test_12_03D2 },
    { "12_03D3", test_12_03D3 },
    { "12_03D4", test_12_03D4 },
    { "12_03D5", test_12_03D5 },
    { "12_03D6", test_12_03D6 },
    { "12_03D7", test_12_03D7 },
    { "12_03D8", test_12_03D8 },
    { "12_03D9", test_12_03D9 },
    { "12_03DA", test_12_03DA },
    { "12_03DB", test_12_03DB },
    { "12_03DC", test_12_03DC },
    { "12_03DD", test_12_03DD },
    { "12_03DE", test_12_03DE },
    { "12_03DF", test_12_03DF },
    { "12_03E0", test_12_03E0 },
    { "12_03E1", test_12_03E1 },
    { "12_03E2", test_12_03E2 },
    { "12_03E3", test_12_03E3 },
    { "12_03E4", test_12_03E4 },
    { "12_03E5", test_12_03E5 },
    { "12_03E6", test_12_03E6 },
    { "12_03E7", test_12_03E7 },
    {NULL, NULL}
};

void test_12_0000()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE446);
    WriteRegisterWord(RegisterType::SP, 0x70A8);
    WriteRegisterByte(RegisterType::A, 0xE5);
    WriteRegisterByte(RegisterType::B, 0xC4);
    WriteRegisterByte(RegisterType::C, 0x60);
    WriteRegisterByte(RegisterType::D, 0x4E);
    WriteRegisterByte(RegisterType::E, 0x7B);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x0D);
    WriteRegisterByte(RegisterType::L, 0xFE);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4E7B, 0x00);
    WriteMemory(0xE446, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE5);
    CheckRegisterByte(RegisterType::B, 0xC4);
    CheckRegisterByte(RegisterType::C, 0x60);
    CheckRegisterByte(RegisterType::D, 0x4E);
    CheckRegisterByte(RegisterType::E, 0x7B);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x0D);
    CheckRegisterByte(RegisterType::L, 0xFE);
    WriteRegisterWord(RegisterType::PC, 0xE446);
    WriteRegisterWord(RegisterType::SP, 0x70A8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4E7B, 0xE5);
    CheckMemory(0xE446, 0x12);
}

void test_12_0001()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x377F);
    WriteRegisterWord(RegisterType::SP, 0xA1ED);
    WriteRegisterByte(RegisterType::A, 0x57);
    WriteRegisterByte(RegisterType::B, 0xF1);
    WriteRegisterByte(RegisterType::C, 0x21);
    WriteRegisterByte(RegisterType::D, 0x12);
    WriteRegisterByte(RegisterType::E, 0x50);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x5E);
    WriteRegisterByte(RegisterType::L, 0x23);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1250, 0x00);
    WriteMemory(0x377F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x57);
    CheckRegisterByte(RegisterType::B, 0xF1);
    CheckRegisterByte(RegisterType::C, 0x21);
    CheckRegisterByte(RegisterType::D, 0x12);
    CheckRegisterByte(RegisterType::E, 0x50);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x5E);
    CheckRegisterByte(RegisterType::L, 0x23);
    WriteRegisterWord(RegisterType::PC, 0x377F);
    WriteRegisterWord(RegisterType::SP, 0xA1ED);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1250, 0x57);
    CheckMemory(0x377F, 0x12);
}

void test_12_0002()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x84F4);
    WriteRegisterWord(RegisterType::SP, 0x4B7A);
    WriteRegisterByte(RegisterType::A, 0x13);
    WriteRegisterByte(RegisterType::B, 0x4E);
    WriteRegisterByte(RegisterType::C, 0x48);
    WriteRegisterByte(RegisterType::D, 0x4C);
    WriteRegisterByte(RegisterType::E, 0x92);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xEC);
    WriteRegisterByte(RegisterType::L, 0x9C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4C92, 0x00);
    WriteMemory(0x84F4, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x13);
    CheckRegisterByte(RegisterType::B, 0x4E);
    CheckRegisterByte(RegisterType::C, 0x48);
    CheckRegisterByte(RegisterType::D, 0x4C);
    CheckRegisterByte(RegisterType::E, 0x92);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xEC);
    CheckRegisterByte(RegisterType::L, 0x9C);
    WriteRegisterWord(RegisterType::PC, 0x84F4);
    WriteRegisterWord(RegisterType::SP, 0x4B7A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4C92, 0x13);
    CheckMemory(0x84F4, 0x12);
}

void test_12_0003()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD9FE);
    WriteRegisterWord(RegisterType::SP, 0x4051);
    WriteRegisterByte(RegisterType::A, 0xD1);
    WriteRegisterByte(RegisterType::B, 0x5E);
    WriteRegisterByte(RegisterType::C, 0x2E);
    WriteRegisterByte(RegisterType::D, 0x59);
    WriteRegisterByte(RegisterType::E, 0x06);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xBE);
    WriteRegisterByte(RegisterType::L, 0xF1);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5906, 0x00);
    WriteMemory(0xD9FE, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD1);
    CheckRegisterByte(RegisterType::B, 0x5E);
    CheckRegisterByte(RegisterType::C, 0x2E);
    CheckRegisterByte(RegisterType::D, 0x59);
    CheckRegisterByte(RegisterType::E, 0x06);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xBE);
    CheckRegisterByte(RegisterType::L, 0xF1);
    WriteRegisterWord(RegisterType::PC, 0xD9FE);
    WriteRegisterWord(RegisterType::SP, 0x4051);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5906, 0xD1);
    CheckMemory(0xD9FE, 0x12);
}

void test_12_0004()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB73E);
    WriteRegisterWord(RegisterType::SP, 0xD770);
    WriteRegisterByte(RegisterType::A, 0x99);
    WriteRegisterByte(RegisterType::B, 0x05);
    WriteRegisterByte(RegisterType::C, 0x50);
    WriteRegisterByte(RegisterType::D, 0x02);
    WriteRegisterByte(RegisterType::E, 0x9A);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x36);
    WriteRegisterByte(RegisterType::L, 0x8A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x029A, 0x00);
    WriteMemory(0xB73E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x99);
    CheckRegisterByte(RegisterType::B, 0x05);
    CheckRegisterByte(RegisterType::C, 0x50);
    CheckRegisterByte(RegisterType::D, 0x02);
    CheckRegisterByte(RegisterType::E, 0x9A);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x36);
    CheckRegisterByte(RegisterType::L, 0x8A);
    WriteRegisterWord(RegisterType::PC, 0xB73E);
    WriteRegisterWord(RegisterType::SP, 0xD770);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x029A, 0x99);
    CheckMemory(0xB73E, 0x12);
}

void test_12_0005()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x08A4);
    WriteRegisterWord(RegisterType::SP, 0xD5AD);
    WriteRegisterByte(RegisterType::A, 0xB1);
    WriteRegisterByte(RegisterType::B, 0x6D);
    WriteRegisterByte(RegisterType::C, 0xF4);
    WriteRegisterByte(RegisterType::D, 0xFC);
    WriteRegisterByte(RegisterType::E, 0x1C);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x56);
    WriteRegisterByte(RegisterType::L, 0x75);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x08A4, 0x12);
    WriteMemory(0xFC1C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB1);
    CheckRegisterByte(RegisterType::B, 0x6D);
    CheckRegisterByte(RegisterType::C, 0xF4);
    CheckRegisterByte(RegisterType::D, 0xFC);
    CheckRegisterByte(RegisterType::E, 0x1C);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x56);
    CheckRegisterByte(RegisterType::L, 0x75);
    WriteRegisterWord(RegisterType::PC, 0x08A4);
    WriteRegisterWord(RegisterType::SP, 0xD5AD);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x08A4, 0x12);
    CheckMemory(0xFC1C, 0xB1);
}

void test_12_0006()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4577);
    WriteRegisterWord(RegisterType::SP, 0xCA1C);
    WriteRegisterByte(RegisterType::A, 0x64);
    WriteRegisterByte(RegisterType::B, 0x0F);
    WriteRegisterByte(RegisterType::C, 0x21);
    WriteRegisterByte(RegisterType::D, 0x2F);
    WriteRegisterByte(RegisterType::E, 0x10);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x4E);
    WriteRegisterByte(RegisterType::L, 0xE5);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2F10, 0x00);
    WriteMemory(0x4577, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x64);
    CheckRegisterByte(RegisterType::B, 0x0F);
    CheckRegisterByte(RegisterType::C, 0x21);
    CheckRegisterByte(RegisterType::D, 0x2F);
    CheckRegisterByte(RegisterType::E, 0x10);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x4E);
    CheckRegisterByte(RegisterType::L, 0xE5);
    WriteRegisterWord(RegisterType::PC, 0x4577);
    WriteRegisterWord(RegisterType::SP, 0xCA1C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2F10, 0x64);
    CheckMemory(0x4577, 0x12);
}

void test_12_0007()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0CEE);
    WriteRegisterWord(RegisterType::SP, 0xB9CB);
    WriteRegisterByte(RegisterType::A, 0x59);
    WriteRegisterByte(RegisterType::B, 0xC7);
    WriteRegisterByte(RegisterType::C, 0xBA);
    WriteRegisterByte(RegisterType::D, 0x26);
    WriteRegisterByte(RegisterType::E, 0xBA);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x66);
    WriteRegisterByte(RegisterType::L, 0x95);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0CEE, 0x12);
    WriteMemory(0x26BA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x59);
    CheckRegisterByte(RegisterType::B, 0xC7);
    CheckRegisterByte(RegisterType::C, 0xBA);
    CheckRegisterByte(RegisterType::D, 0x26);
    CheckRegisterByte(RegisterType::E, 0xBA);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x66);
    CheckRegisterByte(RegisterType::L, 0x95);
    WriteRegisterWord(RegisterType::PC, 0x0CEE);
    WriteRegisterWord(RegisterType::SP, 0xB9CB);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0CEE, 0x12);
    CheckMemory(0x26BA, 0x59);
}

void test_12_0008()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEB36);
    WriteRegisterWord(RegisterType::SP, 0xE2ED);
    WriteRegisterByte(RegisterType::A, 0x26);
    WriteRegisterByte(RegisterType::B, 0x50);
    WriteRegisterByte(RegisterType::C, 0xD5);
    WriteRegisterByte(RegisterType::D, 0xC7);
    WriteRegisterByte(RegisterType::E, 0x85);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xB0);
    WriteRegisterByte(RegisterType::L, 0x01);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xC785, 0x00);
    WriteMemory(0xEB36, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x26);
    CheckRegisterByte(RegisterType::B, 0x50);
    CheckRegisterByte(RegisterType::C, 0xD5);
    CheckRegisterByte(RegisterType::D, 0xC7);
    CheckRegisterByte(RegisterType::E, 0x85);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xB0);
    CheckRegisterByte(RegisterType::L, 0x01);
    WriteRegisterWord(RegisterType::PC, 0xEB36);
    WriteRegisterWord(RegisterType::SP, 0xE2ED);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xC785, 0x26);
    CheckMemory(0xEB36, 0x12);
}

void test_12_0009()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC062);
    WriteRegisterWord(RegisterType::SP, 0x416F);
    WriteRegisterByte(RegisterType::A, 0x09);
    WriteRegisterByte(RegisterType::B, 0x60);
    WriteRegisterByte(RegisterType::C, 0x95);
    WriteRegisterByte(RegisterType::D, 0xE8);
    WriteRegisterByte(RegisterType::E, 0xFC);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x9A);
    WriteRegisterByte(RegisterType::L, 0x71);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xC062, 0x12);
    WriteMemory(0xE8FC, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x09);
    CheckRegisterByte(RegisterType::B, 0x60);
    CheckRegisterByte(RegisterType::C, 0x95);
    CheckRegisterByte(RegisterType::D, 0xE8);
    CheckRegisterByte(RegisterType::E, 0xFC);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x9A);
    CheckRegisterByte(RegisterType::L, 0x71);
    WriteRegisterWord(RegisterType::PC, 0xC062);
    WriteRegisterWord(RegisterType::SP, 0x416F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xC062, 0x12);
    CheckMemory(0xE8FC, 0x09);
}

void test_12_000A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDE97);
    WriteRegisterWord(RegisterType::SP, 0x9A63);
    WriteRegisterByte(RegisterType::A, 0xB1);
    WriteRegisterByte(RegisterType::B, 0x2A);
    WriteRegisterByte(RegisterType::C, 0x77);
    WriteRegisterByte(RegisterType::D, 0x2E);
    WriteRegisterByte(RegisterType::E, 0x1A);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x81);
    WriteRegisterByte(RegisterType::L, 0x5B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2E1A, 0x00);
    WriteMemory(0xDE97, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB1);
    CheckRegisterByte(RegisterType::B, 0x2A);
    CheckRegisterByte(RegisterType::C, 0x77);
    CheckRegisterByte(RegisterType::D, 0x2E);
    CheckRegisterByte(RegisterType::E, 0x1A);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x81);
    CheckRegisterByte(RegisterType::L, 0x5B);
    WriteRegisterWord(RegisterType::PC, 0xDE97);
    WriteRegisterWord(RegisterType::SP, 0x9A63);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2E1A, 0xB1);
    CheckMemory(0xDE97, 0x12);
}

void test_12_000B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3221);
    WriteRegisterWord(RegisterType::SP, 0xC5D7);
    WriteRegisterByte(RegisterType::A, 0xCD);
    WriteRegisterByte(RegisterType::B, 0x31);
    WriteRegisterByte(RegisterType::C, 0xE8);
    WriteRegisterByte(RegisterType::D, 0x6C);
    WriteRegisterByte(RegisterType::E, 0x07);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x60);
    WriteRegisterByte(RegisterType::L, 0xBD);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3221, 0x12);
    WriteMemory(0x6C07, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCD);
    CheckRegisterByte(RegisterType::B, 0x31);
    CheckRegisterByte(RegisterType::C, 0xE8);
    CheckRegisterByte(RegisterType::D, 0x6C);
    CheckRegisterByte(RegisterType::E, 0x07);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x60);
    CheckRegisterByte(RegisterType::L, 0xBD);
    WriteRegisterWord(RegisterType::PC, 0x3221);
    WriteRegisterWord(RegisterType::SP, 0xC5D7);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3221, 0x12);
    CheckMemory(0x6C07, 0xCD);
}

void test_12_000C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6C5B);
    WriteRegisterWord(RegisterType::SP, 0x2630);
    WriteRegisterByte(RegisterType::A, 0x7A);
    WriteRegisterByte(RegisterType::B, 0x46);
    WriteRegisterByte(RegisterType::C, 0xA5);
    WriteRegisterByte(RegisterType::D, 0xFE);
    WriteRegisterByte(RegisterType::E, 0x0C);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x02);
    WriteRegisterByte(RegisterType::L, 0x36);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6C5B, 0x12);
    WriteMemory(0xFE0C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7A);
    CheckRegisterByte(RegisterType::B, 0x46);
    CheckRegisterByte(RegisterType::C, 0xA5);
    CheckRegisterByte(RegisterType::D, 0xFE);
    CheckRegisterByte(RegisterType::E, 0x0C);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x02);
    CheckRegisterByte(RegisterType::L, 0x36);
    WriteRegisterWord(RegisterType::PC, 0x6C5B);
    WriteRegisterWord(RegisterType::SP, 0x2630);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6C5B, 0x12);
    CheckMemory(0xFE0C, 0x7A);
}

void test_12_000D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC732);
    WriteRegisterWord(RegisterType::SP, 0xC838);
    WriteRegisterByte(RegisterType::A, 0xB5);
    WriteRegisterByte(RegisterType::B, 0xBB);
    WriteRegisterByte(RegisterType::C, 0xAF);
    WriteRegisterByte(RegisterType::D, 0x72);
    WriteRegisterByte(RegisterType::E, 0x21);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x0A);
    WriteRegisterByte(RegisterType::L, 0x94);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7221, 0x00);
    WriteMemory(0xC732, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB5);
    CheckRegisterByte(RegisterType::B, 0xBB);
    CheckRegisterByte(RegisterType::C, 0xAF);
    CheckRegisterByte(RegisterType::D, 0x72);
    CheckRegisterByte(RegisterType::E, 0x21);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x0A);
    CheckRegisterByte(RegisterType::L, 0x94);
    WriteRegisterWord(RegisterType::PC, 0xC732);
    WriteRegisterWord(RegisterType::SP, 0xC838);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7221, 0xB5);
    CheckMemory(0xC732, 0x12);
}

void test_12_000E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x42C3);
    WriteRegisterWord(RegisterType::SP, 0x9EA1);
    WriteRegisterByte(RegisterType::A, 0x88);
    WriteRegisterByte(RegisterType::B, 0x7E);
    WriteRegisterByte(RegisterType::C, 0x31);
    WriteRegisterByte(RegisterType::D, 0xF8);
    WriteRegisterByte(RegisterType::E, 0x6F);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x25);
    WriteRegisterByte(RegisterType::L, 0x1E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x42C3, 0x12);
    WriteMemory(0xF86F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x88);
    CheckRegisterByte(RegisterType::B, 0x7E);
    CheckRegisterByte(RegisterType::C, 0x31);
    CheckRegisterByte(RegisterType::D, 0xF8);
    CheckRegisterByte(RegisterType::E, 0x6F);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x25);
    CheckRegisterByte(RegisterType::L, 0x1E);
    WriteRegisterWord(RegisterType::PC, 0x42C3);
    WriteRegisterWord(RegisterType::SP, 0x9EA1);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x42C3, 0x12);
    CheckMemory(0xF86F, 0x88);
}

void test_12_000F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBAD9);
    WriteRegisterWord(RegisterType::SP, 0x2E3B);
    WriteRegisterByte(RegisterType::A, 0x98);
    WriteRegisterByte(RegisterType::B, 0x3B);
    WriteRegisterByte(RegisterType::C, 0xB8);
    WriteRegisterByte(RegisterType::D, 0x53);
    WriteRegisterByte(RegisterType::E, 0xD6);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xBA);
    WriteRegisterByte(RegisterType::L, 0xA2);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x53D6, 0x00);
    WriteMemory(0xBAD9, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x98);
    CheckRegisterByte(RegisterType::B, 0x3B);
    CheckRegisterByte(RegisterType::C, 0xB8);
    CheckRegisterByte(RegisterType::D, 0x53);
    CheckRegisterByte(RegisterType::E, 0xD6);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xBA);
    CheckRegisterByte(RegisterType::L, 0xA2);
    WriteRegisterWord(RegisterType::PC, 0xBAD9);
    WriteRegisterWord(RegisterType::SP, 0x2E3B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x53D6, 0x98);
    CheckMemory(0xBAD9, 0x12);
}

void test_12_0010()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAB3C);
    WriteRegisterWord(RegisterType::SP, 0x1C78);
    WriteRegisterByte(RegisterType::A, 0x30);
    WriteRegisterByte(RegisterType::B, 0xF9);
    WriteRegisterByte(RegisterType::C, 0xC2);
    WriteRegisterByte(RegisterType::D, 0xC5);
    WriteRegisterByte(RegisterType::E, 0x48);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x81);
    WriteRegisterByte(RegisterType::L, 0xFB);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xAB3C, 0x12);
    WriteMemory(0xC548, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x30);
    CheckRegisterByte(RegisterType::B, 0xF9);
    CheckRegisterByte(RegisterType::C, 0xC2);
    CheckRegisterByte(RegisterType::D, 0xC5);
    CheckRegisterByte(RegisterType::E, 0x48);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x81);
    CheckRegisterByte(RegisterType::L, 0xFB);
    WriteRegisterWord(RegisterType::PC, 0xAB3C);
    WriteRegisterWord(RegisterType::SP, 0x1C78);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xAB3C, 0x12);
    CheckMemory(0xC548, 0x30);
}

void test_12_0011()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0EEC);
    WriteRegisterWord(RegisterType::SP, 0xA0B8);
    WriteRegisterByte(RegisterType::A, 0xD2);
    WriteRegisterByte(RegisterType::B, 0x0A);
    WriteRegisterByte(RegisterType::C, 0xE1);
    WriteRegisterByte(RegisterType::D, 0x9A);
    WriteRegisterByte(RegisterType::E, 0x11);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x66);
    WriteRegisterByte(RegisterType::L, 0xCB);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0EEC, 0x12);
    WriteMemory(0x9A11, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD2);
    CheckRegisterByte(RegisterType::B, 0x0A);
    CheckRegisterByte(RegisterType::C, 0xE1);
    CheckRegisterByte(RegisterType::D, 0x9A);
    CheckRegisterByte(RegisterType::E, 0x11);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x66);
    CheckRegisterByte(RegisterType::L, 0xCB);
    WriteRegisterWord(RegisterType::PC, 0x0EEC);
    WriteRegisterWord(RegisterType::SP, 0xA0B8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0EEC, 0x12);
    CheckMemory(0x9A11, 0xD2);
}

void test_12_0012()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE64E);
    WriteRegisterWord(RegisterType::SP, 0xFD6F);
    WriteRegisterByte(RegisterType::A, 0xD9);
    WriteRegisterByte(RegisterType::B, 0xAE);
    WriteRegisterByte(RegisterType::C, 0x5B);
    WriteRegisterByte(RegisterType::D, 0xE2);
    WriteRegisterByte(RegisterType::E, 0x35);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xE4);
    WriteRegisterByte(RegisterType::L, 0xC4);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xE235, 0x00);
    WriteMemory(0xE64E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD9);
    CheckRegisterByte(RegisterType::B, 0xAE);
    CheckRegisterByte(RegisterType::C, 0x5B);
    CheckRegisterByte(RegisterType::D, 0xE2);
    CheckRegisterByte(RegisterType::E, 0x35);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xE4);
    CheckRegisterByte(RegisterType::L, 0xC4);
    WriteRegisterWord(RegisterType::PC, 0xE64E);
    WriteRegisterWord(RegisterType::SP, 0xFD6F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xE235, 0xD9);
    CheckMemory(0xE64E, 0x12);
}

void test_12_0013()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x00BE);
    WriteRegisterWord(RegisterType::SP, 0x0AAA);
    WriteRegisterByte(RegisterType::A, 0x08);
    WriteRegisterByte(RegisterType::B, 0xAA);
    WriteRegisterByte(RegisterType::C, 0xFD);
    WriteRegisterByte(RegisterType::D, 0xAF);
    WriteRegisterByte(RegisterType::E, 0xA2);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x1C);
    WriteRegisterByte(RegisterType::L, 0x4F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x00BE, 0x12);
    WriteMemory(0xAFA2, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x08);
    CheckRegisterByte(RegisterType::B, 0xAA);
    CheckRegisterByte(RegisterType::C, 0xFD);
    CheckRegisterByte(RegisterType::D, 0xAF);
    CheckRegisterByte(RegisterType::E, 0xA2);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x1C);
    CheckRegisterByte(RegisterType::L, 0x4F);
    WriteRegisterWord(RegisterType::PC, 0x00BE);
    WriteRegisterWord(RegisterType::SP, 0x0AAA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x00BE, 0x12);
    CheckMemory(0xAFA2, 0x08);
}

void test_12_0014()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x14E2);
    WriteRegisterWord(RegisterType::SP, 0x6A31);
    WriteRegisterByte(RegisterType::A, 0xD2);
    WriteRegisterByte(RegisterType::B, 0xA9);
    WriteRegisterByte(RegisterType::C, 0x3A);
    WriteRegisterByte(RegisterType::D, 0xB3);
    WriteRegisterByte(RegisterType::E, 0xF2);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x34);
    WriteRegisterByte(RegisterType::L, 0x43);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x14E2, 0x12);
    WriteMemory(0xB3F2, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD2);
    CheckRegisterByte(RegisterType::B, 0xA9);
    CheckRegisterByte(RegisterType::C, 0x3A);
    CheckRegisterByte(RegisterType::D, 0xB3);
    CheckRegisterByte(RegisterType::E, 0xF2);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x34);
    CheckRegisterByte(RegisterType::L, 0x43);
    WriteRegisterWord(RegisterType::PC, 0x14E2);
    WriteRegisterWord(RegisterType::SP, 0x6A31);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x14E2, 0x12);
    CheckMemory(0xB3F2, 0xD2);
}

void test_12_0015()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x41F1);
    WriteRegisterWord(RegisterType::SP, 0x722D);
    WriteRegisterByte(RegisterType::A, 0x55);
    WriteRegisterByte(RegisterType::B, 0x45);
    WriteRegisterByte(RegisterType::C, 0xE8);
    WriteRegisterByte(RegisterType::D, 0xAF);
    WriteRegisterByte(RegisterType::E, 0xD3);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xF1);
    WriteRegisterByte(RegisterType::L, 0xD2);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x41F1, 0x12);
    WriteMemory(0xAFD3, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x55);
    CheckRegisterByte(RegisterType::B, 0x45);
    CheckRegisterByte(RegisterType::C, 0xE8);
    CheckRegisterByte(RegisterType::D, 0xAF);
    CheckRegisterByte(RegisterType::E, 0xD3);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xF1);
    CheckRegisterByte(RegisterType::L, 0xD2);
    WriteRegisterWord(RegisterType::PC, 0x41F1);
    WriteRegisterWord(RegisterType::SP, 0x722D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x41F1, 0x12);
    CheckMemory(0xAFD3, 0x55);
}

void test_12_0016()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x28D0);
    WriteRegisterWord(RegisterType::SP, 0x28CC);
    WriteRegisterByte(RegisterType::A, 0x55);
    WriteRegisterByte(RegisterType::B, 0x7E);
    WriteRegisterByte(RegisterType::C, 0x09);
    WriteRegisterByte(RegisterType::D, 0x68);
    WriteRegisterByte(RegisterType::E, 0x6E);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x37);
    WriteRegisterByte(RegisterType::L, 0xEA);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x28D0, 0x12);
    WriteMemory(0x686E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x55);
    CheckRegisterByte(RegisterType::B, 0x7E);
    CheckRegisterByte(RegisterType::C, 0x09);
    CheckRegisterByte(RegisterType::D, 0x68);
    CheckRegisterByte(RegisterType::E, 0x6E);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x37);
    CheckRegisterByte(RegisterType::L, 0xEA);
    WriteRegisterWord(RegisterType::PC, 0x28D0);
    WriteRegisterWord(RegisterType::SP, 0x28CC);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x28D0, 0x12);
    CheckMemory(0x686E, 0x55);
}

void test_12_0017()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8250);
    WriteRegisterWord(RegisterType::SP, 0x150F);
    WriteRegisterByte(RegisterType::A, 0x94);
    WriteRegisterByte(RegisterType::B, 0xF9);
    WriteRegisterByte(RegisterType::C, 0x03);
    WriteRegisterByte(RegisterType::D, 0x41);
    WriteRegisterByte(RegisterType::E, 0x9D);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x86);
    WriteRegisterByte(RegisterType::L, 0xA0);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x419D, 0x00);
    WriteMemory(0x8250, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x94);
    CheckRegisterByte(RegisterType::B, 0xF9);
    CheckRegisterByte(RegisterType::C, 0x03);
    CheckRegisterByte(RegisterType::D, 0x41);
    CheckRegisterByte(RegisterType::E, 0x9D);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x86);
    CheckRegisterByte(RegisterType::L, 0xA0);
    WriteRegisterWord(RegisterType::PC, 0x8250);
    WriteRegisterWord(RegisterType::SP, 0x150F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x419D, 0x94);
    CheckMemory(0x8250, 0x12);
}

void test_12_0018()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9759);
    WriteRegisterWord(RegisterType::SP, 0x1898);
    WriteRegisterByte(RegisterType::A, 0xD8);
    WriteRegisterByte(RegisterType::B, 0xEF);
    WriteRegisterByte(RegisterType::C, 0x49);
    WriteRegisterByte(RegisterType::D, 0x0F);
    WriteRegisterByte(RegisterType::E, 0x2C);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x8C);
    WriteRegisterByte(RegisterType::L, 0x5A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0F2C, 0x00);
    WriteMemory(0x9759, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD8);
    CheckRegisterByte(RegisterType::B, 0xEF);
    CheckRegisterByte(RegisterType::C, 0x49);
    CheckRegisterByte(RegisterType::D, 0x0F);
    CheckRegisterByte(RegisterType::E, 0x2C);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x8C);
    CheckRegisterByte(RegisterType::L, 0x5A);
    WriteRegisterWord(RegisterType::PC, 0x9759);
    WriteRegisterWord(RegisterType::SP, 0x1898);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0F2C, 0xD8);
    CheckMemory(0x9759, 0x12);
}

void test_12_0019()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8414);
    WriteRegisterWord(RegisterType::SP, 0xA25F);
    WriteRegisterByte(RegisterType::A, 0x2C);
    WriteRegisterByte(RegisterType::B, 0x05);
    WriteRegisterByte(RegisterType::C, 0x4A);
    WriteRegisterByte(RegisterType::D, 0x97);
    WriteRegisterByte(RegisterType::E, 0x06);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x86);
    WriteRegisterByte(RegisterType::L, 0x9D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x8414, 0x12);
    WriteMemory(0x9706, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2C);
    CheckRegisterByte(RegisterType::B, 0x05);
    CheckRegisterByte(RegisterType::C, 0x4A);
    CheckRegisterByte(RegisterType::D, 0x97);
    CheckRegisterByte(RegisterType::E, 0x06);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x86);
    CheckRegisterByte(RegisterType::L, 0x9D);
    WriteRegisterWord(RegisterType::PC, 0x8414);
    WriteRegisterWord(RegisterType::SP, 0xA25F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x8414, 0x12);
    CheckMemory(0x9706, 0x2C);
}

void test_12_001A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x14EE);
    WriteRegisterWord(RegisterType::SP, 0xAC0E);
    WriteRegisterByte(RegisterType::A, 0x84);
    WriteRegisterByte(RegisterType::B, 0x33);
    WriteRegisterByte(RegisterType::C, 0x70);
    WriteRegisterByte(RegisterType::D, 0xF5);
    WriteRegisterByte(RegisterType::E, 0xCD);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xC6);
    WriteRegisterByte(RegisterType::L, 0x3B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x14EE, 0x12);
    WriteMemory(0xF5CD, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x84);
    CheckRegisterByte(RegisterType::B, 0x33);
    CheckRegisterByte(RegisterType::C, 0x70);
    CheckRegisterByte(RegisterType::D, 0xF5);
    CheckRegisterByte(RegisterType::E, 0xCD);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xC6);
    CheckRegisterByte(RegisterType::L, 0x3B);
    WriteRegisterWord(RegisterType::PC, 0x14EE);
    WriteRegisterWord(RegisterType::SP, 0xAC0E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x14EE, 0x12);
    CheckMemory(0xF5CD, 0x84);
}

void test_12_001B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB151);
    WriteRegisterWord(RegisterType::SP, 0x77CC);
    WriteRegisterByte(RegisterType::A, 0x64);
    WriteRegisterByte(RegisterType::B, 0x05);
    WriteRegisterByte(RegisterType::C, 0x3F);
    WriteRegisterByte(RegisterType::D, 0xF4);
    WriteRegisterByte(RegisterType::E, 0x4B);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x83);
    WriteRegisterByte(RegisterType::L, 0x42);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xB151, 0x12);
    WriteMemory(0xF44B, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x64);
    CheckRegisterByte(RegisterType::B, 0x05);
    CheckRegisterByte(RegisterType::C, 0x3F);
    CheckRegisterByte(RegisterType::D, 0xF4);
    CheckRegisterByte(RegisterType::E, 0x4B);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x83);
    CheckRegisterByte(RegisterType::L, 0x42);
    WriteRegisterWord(RegisterType::PC, 0xB151);
    WriteRegisterWord(RegisterType::SP, 0x77CC);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xB151, 0x12);
    CheckMemory(0xF44B, 0x64);
}

void test_12_001C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0F42);
    WriteRegisterWord(RegisterType::SP, 0x4633);
    WriteRegisterByte(RegisterType::A, 0x7A);
    WriteRegisterByte(RegisterType::B, 0x4E);
    WriteRegisterByte(RegisterType::C, 0x36);
    WriteRegisterByte(RegisterType::D, 0xCF);
    WriteRegisterByte(RegisterType::E, 0xD5);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xE9);
    WriteRegisterByte(RegisterType::L, 0x62);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0F42, 0x12);
    WriteMemory(0xCFD5, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7A);
    CheckRegisterByte(RegisterType::B, 0x4E);
    CheckRegisterByte(RegisterType::C, 0x36);
    CheckRegisterByte(RegisterType::D, 0xCF);
    CheckRegisterByte(RegisterType::E, 0xD5);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xE9);
    CheckRegisterByte(RegisterType::L, 0x62);
    WriteRegisterWord(RegisterType::PC, 0x0F42);
    WriteRegisterWord(RegisterType::SP, 0x4633);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0F42, 0x12);
    CheckMemory(0xCFD5, 0x7A);
}

void test_12_001D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9580);
    WriteRegisterWord(RegisterType::SP, 0x9A11);
    WriteRegisterByte(RegisterType::A, 0x1C);
    WriteRegisterByte(RegisterType::B, 0xDE);
    WriteRegisterByte(RegisterType::C, 0xD8);
    WriteRegisterByte(RegisterType::D, 0xB0);
    WriteRegisterByte(RegisterType::E, 0xF4);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xF4);
    WriteRegisterByte(RegisterType::L, 0x36);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9580, 0x12);
    WriteMemory(0xB0F4, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1C);
    CheckRegisterByte(RegisterType::B, 0xDE);
    CheckRegisterByte(RegisterType::C, 0xD8);
    CheckRegisterByte(RegisterType::D, 0xB0);
    CheckRegisterByte(RegisterType::E, 0xF4);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xF4);
    CheckRegisterByte(RegisterType::L, 0x36);
    WriteRegisterWord(RegisterType::PC, 0x9580);
    WriteRegisterWord(RegisterType::SP, 0x9A11);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9580, 0x12);
    CheckMemory(0xB0F4, 0x1C);
}

void test_12_001E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9CE9);
    WriteRegisterWord(RegisterType::SP, 0xB63B);
    WriteRegisterByte(RegisterType::A, 0xFF);
    WriteRegisterByte(RegisterType::B, 0x96);
    WriteRegisterByte(RegisterType::C, 0x46);
    WriteRegisterByte(RegisterType::D, 0xCA);
    WriteRegisterByte(RegisterType::E, 0x33);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xE2);
    WriteRegisterByte(RegisterType::L, 0x9D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9CE9, 0x12);
    WriteMemory(0xCA33, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFF);
    CheckRegisterByte(RegisterType::B, 0x96);
    CheckRegisterByte(RegisterType::C, 0x46);
    CheckRegisterByte(RegisterType::D, 0xCA);
    CheckRegisterByte(RegisterType::E, 0x33);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xE2);
    CheckRegisterByte(RegisterType::L, 0x9D);
    WriteRegisterWord(RegisterType::PC, 0x9CE9);
    WriteRegisterWord(RegisterType::SP, 0xB63B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9CE9, 0x12);
    CheckMemory(0xCA33, 0xFF);
}

void test_12_001F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x35EE);
    WriteRegisterWord(RegisterType::SP, 0x9C22);
    WriteRegisterByte(RegisterType::A, 0x7F);
    WriteRegisterByte(RegisterType::B, 0x71);
    WriteRegisterByte(RegisterType::C, 0x28);
    WriteRegisterByte(RegisterType::D, 0x89);
    WriteRegisterByte(RegisterType::E, 0xAD);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xEC);
    WriteRegisterByte(RegisterType::L, 0x72);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x35EE, 0x12);
    WriteMemory(0x89AD, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7F);
    CheckRegisterByte(RegisterType::B, 0x71);
    CheckRegisterByte(RegisterType::C, 0x28);
    CheckRegisterByte(RegisterType::D, 0x89);
    CheckRegisterByte(RegisterType::E, 0xAD);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xEC);
    CheckRegisterByte(RegisterType::L, 0x72);
    WriteRegisterWord(RegisterType::PC, 0x35EE);
    WriteRegisterWord(RegisterType::SP, 0x9C22);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x35EE, 0x12);
    CheckMemory(0x89AD, 0x7F);
}

void test_12_0020()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF854);
    WriteRegisterWord(RegisterType::SP, 0x2DF3);
    WriteRegisterByte(RegisterType::A, 0xAA);
    WriteRegisterByte(RegisterType::B, 0x4F);
    WriteRegisterByte(RegisterType::C, 0xF2);
    WriteRegisterByte(RegisterType::D, 0xE7);
    WriteRegisterByte(RegisterType::E, 0x9B);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x47);
    WriteRegisterByte(RegisterType::L, 0x75);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xE79B, 0x00);
    WriteMemory(0xF854, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAA);
    CheckRegisterByte(RegisterType::B, 0x4F);
    CheckRegisterByte(RegisterType::C, 0xF2);
    CheckRegisterByte(RegisterType::D, 0xE7);
    CheckRegisterByte(RegisterType::E, 0x9B);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x47);
    CheckRegisterByte(RegisterType::L, 0x75);
    WriteRegisterWord(RegisterType::PC, 0xF854);
    WriteRegisterWord(RegisterType::SP, 0x2DF3);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xE79B, 0xAA);
    CheckMemory(0xF854, 0x12);
}

void test_12_0021()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4D75);
    WriteRegisterWord(RegisterType::SP, 0x2F37);
    WriteRegisterByte(RegisterType::A, 0x93);
    WriteRegisterByte(RegisterType::B, 0xE0);
    WriteRegisterByte(RegisterType::C, 0x95);
    WriteRegisterByte(RegisterType::D, 0xB6);
    WriteRegisterByte(RegisterType::E, 0x16);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x34);
    WriteRegisterByte(RegisterType::L, 0x01);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4D75, 0x12);
    WriteMemory(0xB616, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x93);
    CheckRegisterByte(RegisterType::B, 0xE0);
    CheckRegisterByte(RegisterType::C, 0x95);
    CheckRegisterByte(RegisterType::D, 0xB6);
    CheckRegisterByte(RegisterType::E, 0x16);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x34);
    CheckRegisterByte(RegisterType::L, 0x01);
    WriteRegisterWord(RegisterType::PC, 0x4D75);
    WriteRegisterWord(RegisterType::SP, 0x2F37);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4D75, 0x12);
    CheckMemory(0xB616, 0x93);
}

void test_12_0022()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0E37);
    WriteRegisterWord(RegisterType::SP, 0x88D3);
    WriteRegisterByte(RegisterType::A, 0x8A);
    WriteRegisterByte(RegisterType::B, 0x13);
    WriteRegisterByte(RegisterType::C, 0x5C);
    WriteRegisterByte(RegisterType::D, 0xE1);
    WriteRegisterByte(RegisterType::E, 0x80);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x79);
    WriteRegisterByte(RegisterType::L, 0x73);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0E37, 0x12);
    WriteMemory(0xE180, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8A);
    CheckRegisterByte(RegisterType::B, 0x13);
    CheckRegisterByte(RegisterType::C, 0x5C);
    CheckRegisterByte(RegisterType::D, 0xE1);
    CheckRegisterByte(RegisterType::E, 0x80);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x79);
    CheckRegisterByte(RegisterType::L, 0x73);
    WriteRegisterWord(RegisterType::PC, 0x0E37);
    WriteRegisterWord(RegisterType::SP, 0x88D3);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0E37, 0x12);
    CheckMemory(0xE180, 0x8A);
}

void test_12_0023()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAA1A);
    WriteRegisterWord(RegisterType::SP, 0x83F0);
    WriteRegisterByte(RegisterType::A, 0x9F);
    WriteRegisterByte(RegisterType::B, 0x67);
    WriteRegisterByte(RegisterType::C, 0xB7);
    WriteRegisterByte(RegisterType::D, 0x20);
    WriteRegisterByte(RegisterType::E, 0x4A);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xF7);
    WriteRegisterByte(RegisterType::L, 0xF6);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x204A, 0x00);
    WriteMemory(0xAA1A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9F);
    CheckRegisterByte(RegisterType::B, 0x67);
    CheckRegisterByte(RegisterType::C, 0xB7);
    CheckRegisterByte(RegisterType::D, 0x20);
    CheckRegisterByte(RegisterType::E, 0x4A);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xF7);
    CheckRegisterByte(RegisterType::L, 0xF6);
    WriteRegisterWord(RegisterType::PC, 0xAA1A);
    WriteRegisterWord(RegisterType::SP, 0x83F0);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x204A, 0x9F);
    CheckMemory(0xAA1A, 0x12);
}

void test_12_0024()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFDFA);
    WriteRegisterWord(RegisterType::SP, 0x7332);
    WriteRegisterByte(RegisterType::A, 0x6F);
    WriteRegisterByte(RegisterType::B, 0x32);
    WriteRegisterByte(RegisterType::C, 0xFC);
    WriteRegisterByte(RegisterType::D, 0x04);
    WriteRegisterByte(RegisterType::E, 0x9E);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xA9);
    WriteRegisterByte(RegisterType::L, 0xF5);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x049E, 0x00);
    WriteMemory(0xFDFA, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6F);
    CheckRegisterByte(RegisterType::B, 0x32);
    CheckRegisterByte(RegisterType::C, 0xFC);
    CheckRegisterByte(RegisterType::D, 0x04);
    CheckRegisterByte(RegisterType::E, 0x9E);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xA9);
    CheckRegisterByte(RegisterType::L, 0xF5);
    WriteRegisterWord(RegisterType::PC, 0xFDFA);
    WriteRegisterWord(RegisterType::SP, 0x7332);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x049E, 0x6F);
    CheckMemory(0xFDFA, 0x12);
}

void test_12_0025()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0D99);
    WriteRegisterWord(RegisterType::SP, 0x5998);
    WriteRegisterByte(RegisterType::A, 0xC1);
    WriteRegisterByte(RegisterType::B, 0x5E);
    WriteRegisterByte(RegisterType::C, 0x3E);
    WriteRegisterByte(RegisterType::D, 0xFD);
    WriteRegisterByte(RegisterType::E, 0x32);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xC4);
    WriteRegisterByte(RegisterType::L, 0x57);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0D99, 0x12);
    WriteMemory(0xFD32, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC1);
    CheckRegisterByte(RegisterType::B, 0x5E);
    CheckRegisterByte(RegisterType::C, 0x3E);
    CheckRegisterByte(RegisterType::D, 0xFD);
    CheckRegisterByte(RegisterType::E, 0x32);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xC4);
    CheckRegisterByte(RegisterType::L, 0x57);
    WriteRegisterWord(RegisterType::PC, 0x0D99);
    WriteRegisterWord(RegisterType::SP, 0x5998);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0D99, 0x12);
    CheckMemory(0xFD32, 0xC1);
}

void test_12_0026()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE262);
    WriteRegisterWord(RegisterType::SP, 0x8528);
    WriteRegisterByte(RegisterType::A, 0xF0);
    WriteRegisterByte(RegisterType::B, 0xDB);
    WriteRegisterByte(RegisterType::C, 0xF1);
    WriteRegisterByte(RegisterType::D, 0x10);
    WriteRegisterByte(RegisterType::E, 0x09);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xE9);
    WriteRegisterByte(RegisterType::L, 0xD2);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1009, 0x00);
    WriteMemory(0xE262, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF0);
    CheckRegisterByte(RegisterType::B, 0xDB);
    CheckRegisterByte(RegisterType::C, 0xF1);
    CheckRegisterByte(RegisterType::D, 0x10);
    CheckRegisterByte(RegisterType::E, 0x09);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xE9);
    CheckRegisterByte(RegisterType::L, 0xD2);
    WriteRegisterWord(RegisterType::PC, 0xE262);
    WriteRegisterWord(RegisterType::SP, 0x8528);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1009, 0xF0);
    CheckMemory(0xE262, 0x12);
}

void test_12_0027()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2BC3);
    WriteRegisterWord(RegisterType::SP, 0x038E);
    WriteRegisterByte(RegisterType::A, 0x46);
    WriteRegisterByte(RegisterType::B, 0x0F);
    WriteRegisterByte(RegisterType::C, 0x1B);
    WriteRegisterByte(RegisterType::D, 0xB1);
    WriteRegisterByte(RegisterType::E, 0xCE);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x73);
    WriteRegisterByte(RegisterType::L, 0x62);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2BC3, 0x12);
    WriteMemory(0xB1CE, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x46);
    CheckRegisterByte(RegisterType::B, 0x0F);
    CheckRegisterByte(RegisterType::C, 0x1B);
    CheckRegisterByte(RegisterType::D, 0xB1);
    CheckRegisterByte(RegisterType::E, 0xCE);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x73);
    CheckRegisterByte(RegisterType::L, 0x62);
    WriteRegisterWord(RegisterType::PC, 0x2BC3);
    WriteRegisterWord(RegisterType::SP, 0x038E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2BC3, 0x12);
    CheckMemory(0xB1CE, 0x46);
}

void test_12_0028()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAFC6);
    WriteRegisterWord(RegisterType::SP, 0x26B6);
    WriteRegisterByte(RegisterType::A, 0x92);
    WriteRegisterByte(RegisterType::B, 0xAD);
    WriteRegisterByte(RegisterType::C, 0x34);
    WriteRegisterByte(RegisterType::D, 0xD7);
    WriteRegisterByte(RegisterType::E, 0x71);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x1A);
    WriteRegisterByte(RegisterType::L, 0xE1);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xAFC6, 0x12);
    WriteMemory(0xD771, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x92);
    CheckRegisterByte(RegisterType::B, 0xAD);
    CheckRegisterByte(RegisterType::C, 0x34);
    CheckRegisterByte(RegisterType::D, 0xD7);
    CheckRegisterByte(RegisterType::E, 0x71);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x1A);
    CheckRegisterByte(RegisterType::L, 0xE1);
    WriteRegisterWord(RegisterType::PC, 0xAFC6);
    WriteRegisterWord(RegisterType::SP, 0x26B6);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xAFC6, 0x12);
    CheckMemory(0xD771, 0x92);
}

void test_12_0029()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA80B);
    WriteRegisterWord(RegisterType::SP, 0x8D7C);
    WriteRegisterByte(RegisterType::A, 0x11);
    WriteRegisterByte(RegisterType::B, 0xBB);
    WriteRegisterByte(RegisterType::C, 0xBA);
    WriteRegisterByte(RegisterType::D, 0x49);
    WriteRegisterByte(RegisterType::E, 0x89);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xDE);
    WriteRegisterByte(RegisterType::L, 0x01);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4989, 0x00);
    WriteMemory(0xA80B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x11);
    CheckRegisterByte(RegisterType::B, 0xBB);
    CheckRegisterByte(RegisterType::C, 0xBA);
    CheckRegisterByte(RegisterType::D, 0x49);
    CheckRegisterByte(RegisterType::E, 0x89);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xDE);
    CheckRegisterByte(RegisterType::L, 0x01);
    WriteRegisterWord(RegisterType::PC, 0xA80B);
    WriteRegisterWord(RegisterType::SP, 0x8D7C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4989, 0x11);
    CheckMemory(0xA80B, 0x12);
}

void test_12_002A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2B00);
    WriteRegisterWord(RegisterType::SP, 0x0557);
    WriteRegisterByte(RegisterType::A, 0x6A);
    WriteRegisterByte(RegisterType::B, 0x3E);
    WriteRegisterByte(RegisterType::C, 0x5A);
    WriteRegisterByte(RegisterType::D, 0x03);
    WriteRegisterByte(RegisterType::E, 0x88);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x7F);
    WriteRegisterByte(RegisterType::L, 0xA4);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0388, 0x00);
    WriteMemory(0x2B00, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6A);
    CheckRegisterByte(RegisterType::B, 0x3E);
    CheckRegisterByte(RegisterType::C, 0x5A);
    CheckRegisterByte(RegisterType::D, 0x03);
    CheckRegisterByte(RegisterType::E, 0x88);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x7F);
    CheckRegisterByte(RegisterType::L, 0xA4);
    WriteRegisterWord(RegisterType::PC, 0x2B00);
    WriteRegisterWord(RegisterType::SP, 0x0557);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0388, 0x6A);
    CheckMemory(0x2B00, 0x12);
}

void test_12_002B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x98AB);
    WriteRegisterWord(RegisterType::SP, 0x7584);
    WriteRegisterByte(RegisterType::A, 0xBE);
    WriteRegisterByte(RegisterType::B, 0xB2);
    WriteRegisterByte(RegisterType::C, 0x8E);
    WriteRegisterByte(RegisterType::D, 0x6E);
    WriteRegisterByte(RegisterType::E, 0xF8);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x4E);
    WriteRegisterByte(RegisterType::L, 0x6A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6EF8, 0x00);
    WriteMemory(0x98AB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBE);
    CheckRegisterByte(RegisterType::B, 0xB2);
    CheckRegisterByte(RegisterType::C, 0x8E);
    CheckRegisterByte(RegisterType::D, 0x6E);
    CheckRegisterByte(RegisterType::E, 0xF8);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x4E);
    CheckRegisterByte(RegisterType::L, 0x6A);
    WriteRegisterWord(RegisterType::PC, 0x98AB);
    WriteRegisterWord(RegisterType::SP, 0x7584);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6EF8, 0xBE);
    CheckMemory(0x98AB, 0x12);
}

void test_12_002C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x57CA);
    WriteRegisterWord(RegisterType::SP, 0x7E55);
    WriteRegisterByte(RegisterType::A, 0xDE);
    WriteRegisterByte(RegisterType::B, 0x7B);
    WriteRegisterByte(RegisterType::C, 0x8E);
    WriteRegisterByte(RegisterType::D, 0x2E);
    WriteRegisterByte(RegisterType::E, 0x9F);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xB5);
    WriteRegisterByte(RegisterType::L, 0xDE);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2E9F, 0x00);
    WriteMemory(0x57CA, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDE);
    CheckRegisterByte(RegisterType::B, 0x7B);
    CheckRegisterByte(RegisterType::C, 0x8E);
    CheckRegisterByte(RegisterType::D, 0x2E);
    CheckRegisterByte(RegisterType::E, 0x9F);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xB5);
    CheckRegisterByte(RegisterType::L, 0xDE);
    WriteRegisterWord(RegisterType::PC, 0x57CA);
    WriteRegisterWord(RegisterType::SP, 0x7E55);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2E9F, 0xDE);
    CheckMemory(0x57CA, 0x12);
}

void test_12_002D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x14C0);
    WriteRegisterWord(RegisterType::SP, 0xD1F4);
    WriteRegisterByte(RegisterType::A, 0x04);
    WriteRegisterByte(RegisterType::B, 0x10);
    WriteRegisterByte(RegisterType::C, 0x70);
    WriteRegisterByte(RegisterType::D, 0x8B);
    WriteRegisterByte(RegisterType::E, 0x99);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xBA);
    WriteRegisterByte(RegisterType::L, 0xC4);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x14C0, 0x12);
    WriteMemory(0x8B99, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x04);
    CheckRegisterByte(RegisterType::B, 0x10);
    CheckRegisterByte(RegisterType::C, 0x70);
    CheckRegisterByte(RegisterType::D, 0x8B);
    CheckRegisterByte(RegisterType::E, 0x99);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xBA);
    CheckRegisterByte(RegisterType::L, 0xC4);
    WriteRegisterWord(RegisterType::PC, 0x14C0);
    WriteRegisterWord(RegisterType::SP, 0xD1F4);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x14C0, 0x12);
    CheckMemory(0x8B99, 0x04);
}

void test_12_002E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF289);
    WriteRegisterWord(RegisterType::SP, 0x3C2B);
    WriteRegisterByte(RegisterType::A, 0x75);
    WriteRegisterByte(RegisterType::B, 0xF3);
    WriteRegisterByte(RegisterType::C, 0x69);
    WriteRegisterByte(RegisterType::D, 0x55);
    WriteRegisterByte(RegisterType::E, 0x29);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x8F);
    WriteRegisterByte(RegisterType::L, 0x93);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5529, 0x00);
    WriteMemory(0xF289, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x75);
    CheckRegisterByte(RegisterType::B, 0xF3);
    CheckRegisterByte(RegisterType::C, 0x69);
    CheckRegisterByte(RegisterType::D, 0x55);
    CheckRegisterByte(RegisterType::E, 0x29);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x8F);
    CheckRegisterByte(RegisterType::L, 0x93);
    WriteRegisterWord(RegisterType::PC, 0xF289);
    WriteRegisterWord(RegisterType::SP, 0x3C2B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5529, 0x75);
    CheckMemory(0xF289, 0x12);
}

void test_12_002F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x62DC);
    WriteRegisterWord(RegisterType::SP, 0x8B85);
    WriteRegisterByte(RegisterType::A, 0xCA);
    WriteRegisterByte(RegisterType::B, 0xAE);
    WriteRegisterByte(RegisterType::C, 0x8B);
    WriteRegisterByte(RegisterType::D, 0x00);
    WriteRegisterByte(RegisterType::E, 0x8D);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x6D);
    WriteRegisterByte(RegisterType::L, 0xB2);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x008D, 0x00);
    WriteMemory(0x62DC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCA);
    CheckRegisterByte(RegisterType::B, 0xAE);
    CheckRegisterByte(RegisterType::C, 0x8B);
    CheckRegisterByte(RegisterType::D, 0x00);
    CheckRegisterByte(RegisterType::E, 0x8D);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x6D);
    CheckRegisterByte(RegisterType::L, 0xB2);
    WriteRegisterWord(RegisterType::PC, 0x62DC);
    WriteRegisterWord(RegisterType::SP, 0x8B85);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x008D, 0xCA);
    CheckMemory(0x62DC, 0x12);
}

void test_12_0030()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x066D);
    WriteRegisterWord(RegisterType::SP, 0x7DAE);
    WriteRegisterByte(RegisterType::A, 0x36);
    WriteRegisterByte(RegisterType::B, 0x82);
    WriteRegisterByte(RegisterType::C, 0x0E);
    WriteRegisterByte(RegisterType::D, 0x88);
    WriteRegisterByte(RegisterType::E, 0x15);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xF2);
    WriteRegisterByte(RegisterType::L, 0x73);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x066D, 0x12);
    WriteMemory(0x8815, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x36);
    CheckRegisterByte(RegisterType::B, 0x82);
    CheckRegisterByte(RegisterType::C, 0x0E);
    CheckRegisterByte(RegisterType::D, 0x88);
    CheckRegisterByte(RegisterType::E, 0x15);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xF2);
    CheckRegisterByte(RegisterType::L, 0x73);
    WriteRegisterWord(RegisterType::PC, 0x066D);
    WriteRegisterWord(RegisterType::SP, 0x7DAE);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x066D, 0x12);
    CheckMemory(0x8815, 0x36);
}

void test_12_0031()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0E94);
    WriteRegisterWord(RegisterType::SP, 0x3366);
    WriteRegisterByte(RegisterType::A, 0x14);
    WriteRegisterByte(RegisterType::B, 0xC6);
    WriteRegisterByte(RegisterType::C, 0x92);
    WriteRegisterByte(RegisterType::D, 0xC8);
    WriteRegisterByte(RegisterType::E, 0x6F);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x86);
    WriteRegisterByte(RegisterType::L, 0x51);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0E94, 0x12);
    WriteMemory(0xC86F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x14);
    CheckRegisterByte(RegisterType::B, 0xC6);
    CheckRegisterByte(RegisterType::C, 0x92);
    CheckRegisterByte(RegisterType::D, 0xC8);
    CheckRegisterByte(RegisterType::E, 0x6F);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x86);
    CheckRegisterByte(RegisterType::L, 0x51);
    WriteRegisterWord(RegisterType::PC, 0x0E94);
    WriteRegisterWord(RegisterType::SP, 0x3366);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0E94, 0x12);
    CheckMemory(0xC86F, 0x14);
}

void test_12_0032()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x360C);
    WriteRegisterWord(RegisterType::SP, 0xEF5B);
    WriteRegisterByte(RegisterType::A, 0xEA);
    WriteRegisterByte(RegisterType::B, 0xA3);
    WriteRegisterByte(RegisterType::C, 0xD9);
    WriteRegisterByte(RegisterType::D, 0xCE);
    WriteRegisterByte(RegisterType::E, 0xD4);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x03);
    WriteRegisterByte(RegisterType::L, 0xFA);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x360C, 0x12);
    WriteMemory(0xCED4, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xEA);
    CheckRegisterByte(RegisterType::B, 0xA3);
    CheckRegisterByte(RegisterType::C, 0xD9);
    CheckRegisterByte(RegisterType::D, 0xCE);
    CheckRegisterByte(RegisterType::E, 0xD4);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x03);
    CheckRegisterByte(RegisterType::L, 0xFA);
    WriteRegisterWord(RegisterType::PC, 0x360C);
    WriteRegisterWord(RegisterType::SP, 0xEF5B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x360C, 0x12);
    CheckMemory(0xCED4, 0xEA);
}

void test_12_0033()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDEA2);
    WriteRegisterWord(RegisterType::SP, 0xD55B);
    WriteRegisterByte(RegisterType::A, 0xF5);
    WriteRegisterByte(RegisterType::B, 0xA5);
    WriteRegisterByte(RegisterType::C, 0xFF);
    WriteRegisterByte(RegisterType::D, 0x41);
    WriteRegisterByte(RegisterType::E, 0x4A);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xFC);
    WriteRegisterByte(RegisterType::L, 0xD2);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x414A, 0x00);
    WriteMemory(0xDEA2, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF5);
    CheckRegisterByte(RegisterType::B, 0xA5);
    CheckRegisterByte(RegisterType::C, 0xFF);
    CheckRegisterByte(RegisterType::D, 0x41);
    CheckRegisterByte(RegisterType::E, 0x4A);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xFC);
    CheckRegisterByte(RegisterType::L, 0xD2);
    WriteRegisterWord(RegisterType::PC, 0xDEA2);
    WriteRegisterWord(RegisterType::SP, 0xD55B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x414A, 0xF5);
    CheckMemory(0xDEA2, 0x12);
}

void test_12_0034()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7D7E);
    WriteRegisterWord(RegisterType::SP, 0x6BCC);
    WriteRegisterByte(RegisterType::A, 0x52);
    WriteRegisterByte(RegisterType::B, 0xFF);
    WriteRegisterByte(RegisterType::C, 0x9C);
    WriteRegisterByte(RegisterType::D, 0x3C);
    WriteRegisterByte(RegisterType::E, 0xBD);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xCD);
    WriteRegisterByte(RegisterType::L, 0xCE);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3CBD, 0x00);
    WriteMemory(0x7D7E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x52);
    CheckRegisterByte(RegisterType::B, 0xFF);
    CheckRegisterByte(RegisterType::C, 0x9C);
    CheckRegisterByte(RegisterType::D, 0x3C);
    CheckRegisterByte(RegisterType::E, 0xBD);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xCD);
    CheckRegisterByte(RegisterType::L, 0xCE);
    WriteRegisterWord(RegisterType::PC, 0x7D7E);
    WriteRegisterWord(RegisterType::SP, 0x6BCC);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3CBD, 0x52);
    CheckMemory(0x7D7E, 0x12);
}

void test_12_0035()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0F2C);
    WriteRegisterWord(RegisterType::SP, 0xE43F);
    WriteRegisterByte(RegisterType::A, 0xA3);
    WriteRegisterByte(RegisterType::B, 0x0B);
    WriteRegisterByte(RegisterType::C, 0xF0);
    WriteRegisterByte(RegisterType::D, 0x5B);
    WriteRegisterByte(RegisterType::E, 0xA0);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x8F);
    WriteRegisterByte(RegisterType::L, 0x0B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0F2C, 0x12);
    WriteMemory(0x5BA0, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA3);
    CheckRegisterByte(RegisterType::B, 0x0B);
    CheckRegisterByte(RegisterType::C, 0xF0);
    CheckRegisterByte(RegisterType::D, 0x5B);
    CheckRegisterByte(RegisterType::E, 0xA0);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x8F);
    CheckRegisterByte(RegisterType::L, 0x0B);
    WriteRegisterWord(RegisterType::PC, 0x0F2C);
    WriteRegisterWord(RegisterType::SP, 0xE43F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0F2C, 0x12);
    CheckMemory(0x5BA0, 0xA3);
}

void test_12_0036()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9AA2);
    WriteRegisterWord(RegisterType::SP, 0x67FB);
    WriteRegisterByte(RegisterType::A, 0x52);
    WriteRegisterByte(RegisterType::B, 0x74);
    WriteRegisterByte(RegisterType::C, 0x1A);
    WriteRegisterByte(RegisterType::D, 0xE5);
    WriteRegisterByte(RegisterType::E, 0xBA);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xBD);
    WriteRegisterByte(RegisterType::L, 0xCB);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9AA2, 0x12);
    WriteMemory(0xE5BA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x52);
    CheckRegisterByte(RegisterType::B, 0x74);
    CheckRegisterByte(RegisterType::C, 0x1A);
    CheckRegisterByte(RegisterType::D, 0xE5);
    CheckRegisterByte(RegisterType::E, 0xBA);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xBD);
    CheckRegisterByte(RegisterType::L, 0xCB);
    WriteRegisterWord(RegisterType::PC, 0x9AA2);
    WriteRegisterWord(RegisterType::SP, 0x67FB);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9AA2, 0x12);
    CheckMemory(0xE5BA, 0x52);
}

void test_12_0037()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCF41);
    WriteRegisterWord(RegisterType::SP, 0x94D7);
    WriteRegisterByte(RegisterType::A, 0xF8);
    WriteRegisterByte(RegisterType::B, 0xE1);
    WriteRegisterByte(RegisterType::C, 0xA8);
    WriteRegisterByte(RegisterType::D, 0x2E);
    WriteRegisterByte(RegisterType::E, 0x7F);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xFA);
    WriteRegisterByte(RegisterType::L, 0x2C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2E7F, 0x00);
    WriteMemory(0xCF41, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF8);
    CheckRegisterByte(RegisterType::B, 0xE1);
    CheckRegisterByte(RegisterType::C, 0xA8);
    CheckRegisterByte(RegisterType::D, 0x2E);
    CheckRegisterByte(RegisterType::E, 0x7F);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xFA);
    CheckRegisterByte(RegisterType::L, 0x2C);
    WriteRegisterWord(RegisterType::PC, 0xCF41);
    WriteRegisterWord(RegisterType::SP, 0x94D7);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2E7F, 0xF8);
    CheckMemory(0xCF41, 0x12);
}

void test_12_0038()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x13D9);
    WriteRegisterWord(RegisterType::SP, 0xEA01);
    WriteRegisterByte(RegisterType::A, 0x6D);
    WriteRegisterByte(RegisterType::B, 0xFD);
    WriteRegisterByte(RegisterType::C, 0x90);
    WriteRegisterByte(RegisterType::D, 0x78);
    WriteRegisterByte(RegisterType::E, 0x32);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xDA);
    WriteRegisterByte(RegisterType::L, 0x14);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x13D9, 0x12);
    WriteMemory(0x7832, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6D);
    CheckRegisterByte(RegisterType::B, 0xFD);
    CheckRegisterByte(RegisterType::C, 0x90);
    CheckRegisterByte(RegisterType::D, 0x78);
    CheckRegisterByte(RegisterType::E, 0x32);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xDA);
    CheckRegisterByte(RegisterType::L, 0x14);
    WriteRegisterWord(RegisterType::PC, 0x13D9);
    WriteRegisterWord(RegisterType::SP, 0xEA01);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x13D9, 0x12);
    CheckMemory(0x7832, 0x6D);
}

void test_12_0039()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x69D1);
    WriteRegisterWord(RegisterType::SP, 0x42E2);
    WriteRegisterByte(RegisterType::A, 0x0E);
    WriteRegisterByte(RegisterType::B, 0x39);
    WriteRegisterByte(RegisterType::C, 0xBA);
    WriteRegisterByte(RegisterType::D, 0x57);
    WriteRegisterByte(RegisterType::E, 0x6A);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xAC);
    WriteRegisterByte(RegisterType::L, 0x51);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x576A, 0x00);
    WriteMemory(0x69D1, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0E);
    CheckRegisterByte(RegisterType::B, 0x39);
    CheckRegisterByte(RegisterType::C, 0xBA);
    CheckRegisterByte(RegisterType::D, 0x57);
    CheckRegisterByte(RegisterType::E, 0x6A);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xAC);
    CheckRegisterByte(RegisterType::L, 0x51);
    WriteRegisterWord(RegisterType::PC, 0x69D1);
    WriteRegisterWord(RegisterType::SP, 0x42E2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x576A, 0x0E);
    CheckMemory(0x69D1, 0x12);
}

void test_12_003A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE1E8);
    WriteRegisterWord(RegisterType::SP, 0xD6BB);
    WriteRegisterByte(RegisterType::A, 0x36);
    WriteRegisterByte(RegisterType::B, 0x9D);
    WriteRegisterByte(RegisterType::C, 0x5B);
    WriteRegisterByte(RegisterType::D, 0xDD);
    WriteRegisterByte(RegisterType::E, 0xA8);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x7D);
    WriteRegisterByte(RegisterType::L, 0x65);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xDDA8, 0x00);
    WriteMemory(0xE1E8, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x36);
    CheckRegisterByte(RegisterType::B, 0x9D);
    CheckRegisterByte(RegisterType::C, 0x5B);
    CheckRegisterByte(RegisterType::D, 0xDD);
    CheckRegisterByte(RegisterType::E, 0xA8);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x7D);
    CheckRegisterByte(RegisterType::L, 0x65);
    WriteRegisterWord(RegisterType::PC, 0xE1E8);
    WriteRegisterWord(RegisterType::SP, 0xD6BB);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xDDA8, 0x36);
    CheckMemory(0xE1E8, 0x12);
}

void test_12_003B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4873);
    WriteRegisterWord(RegisterType::SP, 0xE49A);
    WriteRegisterByte(RegisterType::A, 0x57);
    WriteRegisterByte(RegisterType::B, 0x25);
    WriteRegisterByte(RegisterType::C, 0xFE);
    WriteRegisterByte(RegisterType::D, 0xA7);
    WriteRegisterByte(RegisterType::E, 0xB1);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x29);
    WriteRegisterByte(RegisterType::L, 0x9A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4873, 0x12);
    WriteMemory(0xA7B1, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x57);
    CheckRegisterByte(RegisterType::B, 0x25);
    CheckRegisterByte(RegisterType::C, 0xFE);
    CheckRegisterByte(RegisterType::D, 0xA7);
    CheckRegisterByte(RegisterType::E, 0xB1);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x29);
    CheckRegisterByte(RegisterType::L, 0x9A);
    WriteRegisterWord(RegisterType::PC, 0x4873);
    WriteRegisterWord(RegisterType::SP, 0xE49A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4873, 0x12);
    CheckMemory(0xA7B1, 0x57);
}

void test_12_003C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEF63);
    WriteRegisterWord(RegisterType::SP, 0x6AB3);
    WriteRegisterByte(RegisterType::A, 0x2C);
    WriteRegisterByte(RegisterType::B, 0x38);
    WriteRegisterByte(RegisterType::C, 0xAC);
    WriteRegisterByte(RegisterType::D, 0xE6);
    WriteRegisterByte(RegisterType::E, 0xCA);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x2F);
    WriteRegisterByte(RegisterType::L, 0x2A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xE6CA, 0x00);
    WriteMemory(0xEF63, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2C);
    CheckRegisterByte(RegisterType::B, 0x38);
    CheckRegisterByte(RegisterType::C, 0xAC);
    CheckRegisterByte(RegisterType::D, 0xE6);
    CheckRegisterByte(RegisterType::E, 0xCA);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x2F);
    CheckRegisterByte(RegisterType::L, 0x2A);
    WriteRegisterWord(RegisterType::PC, 0xEF63);
    WriteRegisterWord(RegisterType::SP, 0x6AB3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xE6CA, 0x2C);
    CheckMemory(0xEF63, 0x12);
}

void test_12_003D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x263B);
    WriteRegisterWord(RegisterType::SP, 0x1164);
    WriteRegisterByte(RegisterType::A, 0x3A);
    WriteRegisterByte(RegisterType::B, 0x23);
    WriteRegisterByte(RegisterType::C, 0x9C);
    WriteRegisterByte(RegisterType::D, 0x02);
    WriteRegisterByte(RegisterType::E, 0xF8);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x88);
    WriteRegisterByte(RegisterType::L, 0xE5);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x02F8, 0x00);
    WriteMemory(0x263B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3A);
    CheckRegisterByte(RegisterType::B, 0x23);
    CheckRegisterByte(RegisterType::C, 0x9C);
    CheckRegisterByte(RegisterType::D, 0x02);
    CheckRegisterByte(RegisterType::E, 0xF8);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x88);
    CheckRegisterByte(RegisterType::L, 0xE5);
    WriteRegisterWord(RegisterType::PC, 0x263B);
    WriteRegisterWord(RegisterType::SP, 0x1164);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x02F8, 0x3A);
    CheckMemory(0x263B, 0x12);
}

void test_12_003E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3EBD);
    WriteRegisterWord(RegisterType::SP, 0x30ED);
    WriteRegisterByte(RegisterType::A, 0xB2);
    WriteRegisterByte(RegisterType::B, 0xA0);
    WriteRegisterByte(RegisterType::C, 0xB2);
    WriteRegisterByte(RegisterType::D, 0x22);
    WriteRegisterByte(RegisterType::E, 0x6A);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x8C);
    WriteRegisterByte(RegisterType::L, 0x49);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x226A, 0x00);
    WriteMemory(0x3EBD, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB2);
    CheckRegisterByte(RegisterType::B, 0xA0);
    CheckRegisterByte(RegisterType::C, 0xB2);
    CheckRegisterByte(RegisterType::D, 0x22);
    CheckRegisterByte(RegisterType::E, 0x6A);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x8C);
    CheckRegisterByte(RegisterType::L, 0x49);
    WriteRegisterWord(RegisterType::PC, 0x3EBD);
    WriteRegisterWord(RegisterType::SP, 0x30ED);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x226A, 0xB2);
    CheckMemory(0x3EBD, 0x12);
}

void test_12_003F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5D2C);
    WriteRegisterWord(RegisterType::SP, 0xE35B);
    WriteRegisterByte(RegisterType::A, 0x24);
    WriteRegisterByte(RegisterType::B, 0xBF);
    WriteRegisterByte(RegisterType::C, 0x40);
    WriteRegisterByte(RegisterType::D, 0xAF);
    WriteRegisterByte(RegisterType::E, 0x45);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xF0);
    WriteRegisterByte(RegisterType::L, 0x88);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5D2C, 0x12);
    WriteMemory(0xAF45, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x24);
    CheckRegisterByte(RegisterType::B, 0xBF);
    CheckRegisterByte(RegisterType::C, 0x40);
    CheckRegisterByte(RegisterType::D, 0xAF);
    CheckRegisterByte(RegisterType::E, 0x45);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xF0);
    CheckRegisterByte(RegisterType::L, 0x88);
    WriteRegisterWord(RegisterType::PC, 0x5D2C);
    WriteRegisterWord(RegisterType::SP, 0xE35B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5D2C, 0x12);
    CheckMemory(0xAF45, 0x24);
}

void test_12_0040()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAE7D);
    WriteRegisterWord(RegisterType::SP, 0xB49B);
    WriteRegisterByte(RegisterType::A, 0xF2);
    WriteRegisterByte(RegisterType::B, 0x33);
    WriteRegisterByte(RegisterType::C, 0x05);
    WriteRegisterByte(RegisterType::D, 0x33);
    WriteRegisterByte(RegisterType::E, 0x00);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x3B);
    WriteRegisterByte(RegisterType::L, 0x9D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3300, 0x00);
    WriteMemory(0xAE7D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF2);
    CheckRegisterByte(RegisterType::B, 0x33);
    CheckRegisterByte(RegisterType::C, 0x05);
    CheckRegisterByte(RegisterType::D, 0x33);
    CheckRegisterByte(RegisterType::E, 0x00);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x3B);
    CheckRegisterByte(RegisterType::L, 0x9D);
    WriteRegisterWord(RegisterType::PC, 0xAE7D);
    WriteRegisterWord(RegisterType::SP, 0xB49B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3300, 0xF2);
    CheckMemory(0xAE7D, 0x12);
}

void test_12_0041()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1F0F);
    WriteRegisterWord(RegisterType::SP, 0x443F);
    WriteRegisterByte(RegisterType::A, 0x19);
    WriteRegisterByte(RegisterType::B, 0xDF);
    WriteRegisterByte(RegisterType::C, 0xCC);
    WriteRegisterByte(RegisterType::D, 0x4E);
    WriteRegisterByte(RegisterType::E, 0xA3);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x71);
    WriteRegisterByte(RegisterType::L, 0x9D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1F0F, 0x12);
    WriteMemory(0x4EA3, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x19);
    CheckRegisterByte(RegisterType::B, 0xDF);
    CheckRegisterByte(RegisterType::C, 0xCC);
    CheckRegisterByte(RegisterType::D, 0x4E);
    CheckRegisterByte(RegisterType::E, 0xA3);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x71);
    CheckRegisterByte(RegisterType::L, 0x9D);
    WriteRegisterWord(RegisterType::PC, 0x1F0F);
    WriteRegisterWord(RegisterType::SP, 0x443F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1F0F, 0x12);
    CheckMemory(0x4EA3, 0x19);
}

void test_12_0042()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1142);
    WriteRegisterWord(RegisterType::SP, 0xD15D);
    WriteRegisterByte(RegisterType::A, 0xD9);
    WriteRegisterByte(RegisterType::B, 0x74);
    WriteRegisterByte(RegisterType::C, 0xB8);
    WriteRegisterByte(RegisterType::D, 0xCB);
    WriteRegisterByte(RegisterType::E, 0xD0);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x3F);
    WriteRegisterByte(RegisterType::L, 0x1B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1142, 0x12);
    WriteMemory(0xCBD0, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD9);
    CheckRegisterByte(RegisterType::B, 0x74);
    CheckRegisterByte(RegisterType::C, 0xB8);
    CheckRegisterByte(RegisterType::D, 0xCB);
    CheckRegisterByte(RegisterType::E, 0xD0);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x3F);
    CheckRegisterByte(RegisterType::L, 0x1B);
    WriteRegisterWord(RegisterType::PC, 0x1142);
    WriteRegisterWord(RegisterType::SP, 0xD15D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1142, 0x12);
    CheckMemory(0xCBD0, 0xD9);
}

void test_12_0043()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD13E);
    WriteRegisterWord(RegisterType::SP, 0xD320);
    WriteRegisterByte(RegisterType::A, 0xEE);
    WriteRegisterByte(RegisterType::B, 0x1E);
    WriteRegisterByte(RegisterType::C, 0xE2);
    WriteRegisterByte(RegisterType::D, 0x9D);
    WriteRegisterByte(RegisterType::E, 0x09);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x0E);
    WriteRegisterByte(RegisterType::L, 0x39);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9D09, 0x00);
    WriteMemory(0xD13E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xEE);
    CheckRegisterByte(RegisterType::B, 0x1E);
    CheckRegisterByte(RegisterType::C, 0xE2);
    CheckRegisterByte(RegisterType::D, 0x9D);
    CheckRegisterByte(RegisterType::E, 0x09);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x0E);
    CheckRegisterByte(RegisterType::L, 0x39);
    WriteRegisterWord(RegisterType::PC, 0xD13E);
    WriteRegisterWord(RegisterType::SP, 0xD320);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9D09, 0xEE);
    CheckMemory(0xD13E, 0x12);
}

void test_12_0044()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x96A2);
    WriteRegisterWord(RegisterType::SP, 0x5517);
    WriteRegisterByte(RegisterType::A, 0x28);
    WriteRegisterByte(RegisterType::B, 0x41);
    WriteRegisterByte(RegisterType::C, 0xCF);
    WriteRegisterByte(RegisterType::D, 0x18);
    WriteRegisterByte(RegisterType::E, 0x5E);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xB3);
    WriteRegisterByte(RegisterType::L, 0x10);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x185E, 0x00);
    WriteMemory(0x96A2, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x28);
    CheckRegisterByte(RegisterType::B, 0x41);
    CheckRegisterByte(RegisterType::C, 0xCF);
    CheckRegisterByte(RegisterType::D, 0x18);
    CheckRegisterByte(RegisterType::E, 0x5E);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xB3);
    CheckRegisterByte(RegisterType::L, 0x10);
    WriteRegisterWord(RegisterType::PC, 0x96A2);
    WriteRegisterWord(RegisterType::SP, 0x5517);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x185E, 0x28);
    CheckMemory(0x96A2, 0x12);
}

void test_12_0045()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2B5D);
    WriteRegisterWord(RegisterType::SP, 0x89D2);
    WriteRegisterByte(RegisterType::A, 0x05);
    WriteRegisterByte(RegisterType::B, 0x2E);
    WriteRegisterByte(RegisterType::C, 0x71);
    WriteRegisterByte(RegisterType::D, 0x25);
    WriteRegisterByte(RegisterType::E, 0x9A);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x45);
    WriteRegisterByte(RegisterType::L, 0xA7);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x259A, 0x00);
    WriteMemory(0x2B5D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x05);
    CheckRegisterByte(RegisterType::B, 0x2E);
    CheckRegisterByte(RegisterType::C, 0x71);
    CheckRegisterByte(RegisterType::D, 0x25);
    CheckRegisterByte(RegisterType::E, 0x9A);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x45);
    CheckRegisterByte(RegisterType::L, 0xA7);
    WriteRegisterWord(RegisterType::PC, 0x2B5D);
    WriteRegisterWord(RegisterType::SP, 0x89D2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x259A, 0x05);
    CheckMemory(0x2B5D, 0x12);
}

void test_12_0046()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAFD7);
    WriteRegisterWord(RegisterType::SP, 0xAAB8);
    WriteRegisterByte(RegisterType::A, 0x4D);
    WriteRegisterByte(RegisterType::B, 0x60);
    WriteRegisterByte(RegisterType::C, 0xF3);
    WriteRegisterByte(RegisterType::D, 0x60);
    WriteRegisterByte(RegisterType::E, 0xB7);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x54);
    WriteRegisterByte(RegisterType::L, 0x34);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x60B7, 0x00);
    WriteMemory(0xAFD7, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4D);
    CheckRegisterByte(RegisterType::B, 0x60);
    CheckRegisterByte(RegisterType::C, 0xF3);
    CheckRegisterByte(RegisterType::D, 0x60);
    CheckRegisterByte(RegisterType::E, 0xB7);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x54);
    CheckRegisterByte(RegisterType::L, 0x34);
    WriteRegisterWord(RegisterType::PC, 0xAFD7);
    WriteRegisterWord(RegisterType::SP, 0xAAB8);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x60B7, 0x4D);
    CheckMemory(0xAFD7, 0x12);
}

void test_12_0047()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7313);
    WriteRegisterWord(RegisterType::SP, 0xA9C5);
    WriteRegisterByte(RegisterType::A, 0x4A);
    WriteRegisterByte(RegisterType::B, 0x94);
    WriteRegisterByte(RegisterType::C, 0x47);
    WriteRegisterByte(RegisterType::D, 0x67);
    WriteRegisterByte(RegisterType::E, 0x6A);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x08);
    WriteRegisterByte(RegisterType::L, 0xDE);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x676A, 0x00);
    WriteMemory(0x7313, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4A);
    CheckRegisterByte(RegisterType::B, 0x94);
    CheckRegisterByte(RegisterType::C, 0x47);
    CheckRegisterByte(RegisterType::D, 0x67);
    CheckRegisterByte(RegisterType::E, 0x6A);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x08);
    CheckRegisterByte(RegisterType::L, 0xDE);
    WriteRegisterWord(RegisterType::PC, 0x7313);
    WriteRegisterWord(RegisterType::SP, 0xA9C5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x676A, 0x4A);
    CheckMemory(0x7313, 0x12);
}

void test_12_0048()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x74A6);
    WriteRegisterWord(RegisterType::SP, 0xA1DC);
    WriteRegisterByte(RegisterType::A, 0x76);
    WriteRegisterByte(RegisterType::B, 0x76);
    WriteRegisterByte(RegisterType::C, 0x5A);
    WriteRegisterByte(RegisterType::D, 0xE6);
    WriteRegisterByte(RegisterType::E, 0xDA);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x90);
    WriteRegisterByte(RegisterType::L, 0x8F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x74A6, 0x12);
    WriteMemory(0xE6DA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x76);
    CheckRegisterByte(RegisterType::B, 0x76);
    CheckRegisterByte(RegisterType::C, 0x5A);
    CheckRegisterByte(RegisterType::D, 0xE6);
    CheckRegisterByte(RegisterType::E, 0xDA);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x90);
    CheckRegisterByte(RegisterType::L, 0x8F);
    WriteRegisterWord(RegisterType::PC, 0x74A6);
    WriteRegisterWord(RegisterType::SP, 0xA1DC);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x74A6, 0x12);
    CheckMemory(0xE6DA, 0x76);
}

void test_12_0049()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3CD5);
    WriteRegisterWord(RegisterType::SP, 0x39C6);
    WriteRegisterByte(RegisterType::A, 0x23);
    WriteRegisterByte(RegisterType::B, 0xBE);
    WriteRegisterByte(RegisterType::C, 0x60);
    WriteRegisterByte(RegisterType::D, 0x11);
    WriteRegisterByte(RegisterType::E, 0xC0);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x94);
    WriteRegisterByte(RegisterType::L, 0x53);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x11C0, 0x00);
    WriteMemory(0x3CD5, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x23);
    CheckRegisterByte(RegisterType::B, 0xBE);
    CheckRegisterByte(RegisterType::C, 0x60);
    CheckRegisterByte(RegisterType::D, 0x11);
    CheckRegisterByte(RegisterType::E, 0xC0);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x94);
    CheckRegisterByte(RegisterType::L, 0x53);
    WriteRegisterWord(RegisterType::PC, 0x3CD5);
    WriteRegisterWord(RegisterType::SP, 0x39C6);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x11C0, 0x23);
    CheckMemory(0x3CD5, 0x12);
}

void test_12_004A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1D4E);
    WriteRegisterWord(RegisterType::SP, 0x562C);
    WriteRegisterByte(RegisterType::A, 0x9A);
    WriteRegisterByte(RegisterType::B, 0x27);
    WriteRegisterByte(RegisterType::C, 0x2E);
    WriteRegisterByte(RegisterType::D, 0xBE);
    WriteRegisterByte(RegisterType::E, 0xD4);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x38);
    WriteRegisterByte(RegisterType::L, 0x50);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1D4E, 0x12);
    WriteMemory(0xBED4, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9A);
    CheckRegisterByte(RegisterType::B, 0x27);
    CheckRegisterByte(RegisterType::C, 0x2E);
    CheckRegisterByte(RegisterType::D, 0xBE);
    CheckRegisterByte(RegisterType::E, 0xD4);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x38);
    CheckRegisterByte(RegisterType::L, 0x50);
    WriteRegisterWord(RegisterType::PC, 0x1D4E);
    WriteRegisterWord(RegisterType::SP, 0x562C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1D4E, 0x12);
    CheckMemory(0xBED4, 0x9A);
}

void test_12_004B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBF3A);
    WriteRegisterWord(RegisterType::SP, 0x1A3D);
    WriteRegisterByte(RegisterType::A, 0x0A);
    WriteRegisterByte(RegisterType::B, 0x92);
    WriteRegisterByte(RegisterType::C, 0x00);
    WriteRegisterByte(RegisterType::D, 0x6E);
    WriteRegisterByte(RegisterType::E, 0x16);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xDF);
    WriteRegisterByte(RegisterType::L, 0xBD);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6E16, 0x00);
    WriteMemory(0xBF3A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0A);
    CheckRegisterByte(RegisterType::B, 0x92);
    CheckRegisterByte(RegisterType::C, 0x00);
    CheckRegisterByte(RegisterType::D, 0x6E);
    CheckRegisterByte(RegisterType::E, 0x16);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xDF);
    CheckRegisterByte(RegisterType::L, 0xBD);
    WriteRegisterWord(RegisterType::PC, 0xBF3A);
    WriteRegisterWord(RegisterType::SP, 0x1A3D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6E16, 0x0A);
    CheckMemory(0xBF3A, 0x12);
}

void test_12_004C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x805A);
    WriteRegisterWord(RegisterType::SP, 0x0005);
    WriteRegisterByte(RegisterType::A, 0x0B);
    WriteRegisterByte(RegisterType::B, 0x76);
    WriteRegisterByte(RegisterType::C, 0xA4);
    WriteRegisterByte(RegisterType::D, 0x41);
    WriteRegisterByte(RegisterType::E, 0x87);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x6E);
    WriteRegisterByte(RegisterType::L, 0x5B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4187, 0x00);
    WriteMemory(0x805A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0B);
    CheckRegisterByte(RegisterType::B, 0x76);
    CheckRegisterByte(RegisterType::C, 0xA4);
    CheckRegisterByte(RegisterType::D, 0x41);
    CheckRegisterByte(RegisterType::E, 0x87);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x6E);
    CheckRegisterByte(RegisterType::L, 0x5B);
    WriteRegisterWord(RegisterType::PC, 0x805A);
    WriteRegisterWord(RegisterType::SP, 0x0005);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4187, 0x0B);
    CheckMemory(0x805A, 0x12);
}

void test_12_004D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9814);
    WriteRegisterWord(RegisterType::SP, 0x6704);
    WriteRegisterByte(RegisterType::A, 0x67);
    WriteRegisterByte(RegisterType::B, 0x45);
    WriteRegisterByte(RegisterType::C, 0xD4);
    WriteRegisterByte(RegisterType::D, 0x04);
    WriteRegisterByte(RegisterType::E, 0x6C);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xB1);
    WriteRegisterByte(RegisterType::L, 0x0C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x046C, 0x00);
    WriteMemory(0x9814, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x67);
    CheckRegisterByte(RegisterType::B, 0x45);
    CheckRegisterByte(RegisterType::C, 0xD4);
    CheckRegisterByte(RegisterType::D, 0x04);
    CheckRegisterByte(RegisterType::E, 0x6C);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xB1);
    CheckRegisterByte(RegisterType::L, 0x0C);
    WriteRegisterWord(RegisterType::PC, 0x9814);
    WriteRegisterWord(RegisterType::SP, 0x6704);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x046C, 0x67);
    CheckMemory(0x9814, 0x12);
}

void test_12_004E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB8F1);
    WriteRegisterWord(RegisterType::SP, 0x9B2B);
    WriteRegisterByte(RegisterType::A, 0x3F);
    WriteRegisterByte(RegisterType::B, 0x06);
    WriteRegisterByte(RegisterType::C, 0x38);
    WriteRegisterByte(RegisterType::D, 0xF0);
    WriteRegisterByte(RegisterType::E, 0x4A);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x97);
    WriteRegisterByte(RegisterType::L, 0xF3);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB8F1, 0x12);
    WriteMemory(0xF04A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3F);
    CheckRegisterByte(RegisterType::B, 0x06);
    CheckRegisterByte(RegisterType::C, 0x38);
    CheckRegisterByte(RegisterType::D, 0xF0);
    CheckRegisterByte(RegisterType::E, 0x4A);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x97);
    CheckRegisterByte(RegisterType::L, 0xF3);
    WriteRegisterWord(RegisterType::PC, 0xB8F1);
    WriteRegisterWord(RegisterType::SP, 0x9B2B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xB8F1, 0x12);
    CheckMemory(0xF04A, 0x3F);
}

void test_12_004F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAB81);
    WriteRegisterWord(RegisterType::SP, 0x6D34);
    WriteRegisterByte(RegisterType::A, 0x51);
    WriteRegisterByte(RegisterType::B, 0x70);
    WriteRegisterByte(RegisterType::C, 0x6D);
    WriteRegisterByte(RegisterType::D, 0x3C);
    WriteRegisterByte(RegisterType::E, 0xFE);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x2F);
    WriteRegisterByte(RegisterType::L, 0x49);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3CFE, 0x00);
    WriteMemory(0xAB81, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x51);
    CheckRegisterByte(RegisterType::B, 0x70);
    CheckRegisterByte(RegisterType::C, 0x6D);
    CheckRegisterByte(RegisterType::D, 0x3C);
    CheckRegisterByte(RegisterType::E, 0xFE);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x2F);
    CheckRegisterByte(RegisterType::L, 0x49);
    WriteRegisterWord(RegisterType::PC, 0xAB81);
    WriteRegisterWord(RegisterType::SP, 0x6D34);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3CFE, 0x51);
    CheckMemory(0xAB81, 0x12);
}

void test_12_0050()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAC51);
    WriteRegisterWord(RegisterType::SP, 0x6160);
    WriteRegisterByte(RegisterType::A, 0x95);
    WriteRegisterByte(RegisterType::B, 0x1B);
    WriteRegisterByte(RegisterType::C, 0x19);
    WriteRegisterByte(RegisterType::D, 0x31);
    WriteRegisterByte(RegisterType::E, 0x64);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xB8);
    WriteRegisterByte(RegisterType::L, 0x48);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3164, 0x00);
    WriteMemory(0xAC51, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x95);
    CheckRegisterByte(RegisterType::B, 0x1B);
    CheckRegisterByte(RegisterType::C, 0x19);
    CheckRegisterByte(RegisterType::D, 0x31);
    CheckRegisterByte(RegisterType::E, 0x64);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xB8);
    CheckRegisterByte(RegisterType::L, 0x48);
    WriteRegisterWord(RegisterType::PC, 0xAC51);
    WriteRegisterWord(RegisterType::SP, 0x6160);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3164, 0x95);
    CheckMemory(0xAC51, 0x12);
}

void test_12_0051()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x25A0);
    WriteRegisterWord(RegisterType::SP, 0x66DF);
    WriteRegisterByte(RegisterType::A, 0x65);
    WriteRegisterByte(RegisterType::B, 0x85);
    WriteRegisterByte(RegisterType::C, 0xA7);
    WriteRegisterByte(RegisterType::D, 0x62);
    WriteRegisterByte(RegisterType::E, 0x34);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x2E);
    WriteRegisterByte(RegisterType::L, 0xF7);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x25A0, 0x12);
    WriteMemory(0x6234, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x65);
    CheckRegisterByte(RegisterType::B, 0x85);
    CheckRegisterByte(RegisterType::C, 0xA7);
    CheckRegisterByte(RegisterType::D, 0x62);
    CheckRegisterByte(RegisterType::E, 0x34);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x2E);
    CheckRegisterByte(RegisterType::L, 0xF7);
    WriteRegisterWord(RegisterType::PC, 0x25A0);
    WriteRegisterWord(RegisterType::SP, 0x66DF);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x25A0, 0x12);
    CheckMemory(0x6234, 0x65);
}

void test_12_0052()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0443);
    WriteRegisterWord(RegisterType::SP, 0xC3F0);
    WriteRegisterByte(RegisterType::A, 0x72);
    WriteRegisterByte(RegisterType::B, 0x01);
    WriteRegisterByte(RegisterType::C, 0x0F);
    WriteRegisterByte(RegisterType::D, 0x1E);
    WriteRegisterByte(RegisterType::E, 0x9F);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x1E);
    WriteRegisterByte(RegisterType::L, 0x9E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0443, 0x12);
    WriteMemory(0x1E9F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x72);
    CheckRegisterByte(RegisterType::B, 0x01);
    CheckRegisterByte(RegisterType::C, 0x0F);
    CheckRegisterByte(RegisterType::D, 0x1E);
    CheckRegisterByte(RegisterType::E, 0x9F);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x1E);
    CheckRegisterByte(RegisterType::L, 0x9E);
    WriteRegisterWord(RegisterType::PC, 0x0443);
    WriteRegisterWord(RegisterType::SP, 0xC3F0);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0443, 0x12);
    CheckMemory(0x1E9F, 0x72);
}

void test_12_0053()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x22AF);
    WriteRegisterWord(RegisterType::SP, 0xC576);
    WriteRegisterByte(RegisterType::A, 0xAD);
    WriteRegisterByte(RegisterType::B, 0xAC);
    WriteRegisterByte(RegisterType::C, 0xAC);
    WriteRegisterByte(RegisterType::D, 0x98);
    WriteRegisterByte(RegisterType::E, 0x10);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x4C);
    WriteRegisterByte(RegisterType::L, 0x15);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x22AF, 0x12);
    WriteMemory(0x9810, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAD);
    CheckRegisterByte(RegisterType::B, 0xAC);
    CheckRegisterByte(RegisterType::C, 0xAC);
    CheckRegisterByte(RegisterType::D, 0x98);
    CheckRegisterByte(RegisterType::E, 0x10);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x4C);
    CheckRegisterByte(RegisterType::L, 0x15);
    WriteRegisterWord(RegisterType::PC, 0x22AF);
    WriteRegisterWord(RegisterType::SP, 0xC576);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x22AF, 0x12);
    CheckMemory(0x9810, 0xAD);
}

void test_12_0054()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x466C);
    WriteRegisterWord(RegisterType::SP, 0xED02);
    WriteRegisterByte(RegisterType::A, 0xC6);
    WriteRegisterByte(RegisterType::B, 0x24);
    WriteRegisterByte(RegisterType::C, 0x3B);
    WriteRegisterByte(RegisterType::D, 0x46);
    WriteRegisterByte(RegisterType::E, 0xFE);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xB8);
    WriteRegisterByte(RegisterType::L, 0xA0);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x466C, 0x12);
    WriteMemory(0x46FE, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC6);
    CheckRegisterByte(RegisterType::B, 0x24);
    CheckRegisterByte(RegisterType::C, 0x3B);
    CheckRegisterByte(RegisterType::D, 0x46);
    CheckRegisterByte(RegisterType::E, 0xFE);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xB8);
    CheckRegisterByte(RegisterType::L, 0xA0);
    WriteRegisterWord(RegisterType::PC, 0x466C);
    WriteRegisterWord(RegisterType::SP, 0xED02);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x466C, 0x12);
    CheckMemory(0x46FE, 0xC6);
}

void test_12_0055()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x49EE);
    WriteRegisterWord(RegisterType::SP, 0x6BD7);
    WriteRegisterByte(RegisterType::A, 0x73);
    WriteRegisterByte(RegisterType::B, 0xC0);
    WriteRegisterByte(RegisterType::C, 0xB2);
    WriteRegisterByte(RegisterType::D, 0xA9);
    WriteRegisterByte(RegisterType::E, 0x8D);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x48);
    WriteRegisterByte(RegisterType::L, 0x8E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x49EE, 0x12);
    WriteMemory(0xA98D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x73);
    CheckRegisterByte(RegisterType::B, 0xC0);
    CheckRegisterByte(RegisterType::C, 0xB2);
    CheckRegisterByte(RegisterType::D, 0xA9);
    CheckRegisterByte(RegisterType::E, 0x8D);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x48);
    CheckRegisterByte(RegisterType::L, 0x8E);
    WriteRegisterWord(RegisterType::PC, 0x49EE);
    WriteRegisterWord(RegisterType::SP, 0x6BD7);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x49EE, 0x12);
    CheckMemory(0xA98D, 0x73);
}

void test_12_0056()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE992);
    WriteRegisterWord(RegisterType::SP, 0x5D5B);
    WriteRegisterByte(RegisterType::A, 0x1C);
    WriteRegisterByte(RegisterType::B, 0x37);
    WriteRegisterByte(RegisterType::C, 0x4E);
    WriteRegisterByte(RegisterType::D, 0xB8);
    WriteRegisterByte(RegisterType::E, 0xA2);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xEB);
    WriteRegisterByte(RegisterType::L, 0xF9);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB8A2, 0x00);
    WriteMemory(0xE992, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1C);
    CheckRegisterByte(RegisterType::B, 0x37);
    CheckRegisterByte(RegisterType::C, 0x4E);
    CheckRegisterByte(RegisterType::D, 0xB8);
    CheckRegisterByte(RegisterType::E, 0xA2);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xEB);
    CheckRegisterByte(RegisterType::L, 0xF9);
    WriteRegisterWord(RegisterType::PC, 0xE992);
    WriteRegisterWord(RegisterType::SP, 0x5D5B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xB8A2, 0x1C);
    CheckMemory(0xE992, 0x12);
}

void test_12_0057()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x905B);
    WriteRegisterWord(RegisterType::SP, 0xC644);
    WriteRegisterByte(RegisterType::A, 0x98);
    WriteRegisterByte(RegisterType::B, 0xFB);
    WriteRegisterByte(RegisterType::C, 0xB9);
    WriteRegisterByte(RegisterType::D, 0x00);
    WriteRegisterByte(RegisterType::E, 0xC3);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xFA);
    WriteRegisterByte(RegisterType::L, 0x17);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x00C3, 0x00);
    WriteMemory(0x905B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x98);
    CheckRegisterByte(RegisterType::B, 0xFB);
    CheckRegisterByte(RegisterType::C, 0xB9);
    CheckRegisterByte(RegisterType::D, 0x00);
    CheckRegisterByte(RegisterType::E, 0xC3);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xFA);
    CheckRegisterByte(RegisterType::L, 0x17);
    WriteRegisterWord(RegisterType::PC, 0x905B);
    WriteRegisterWord(RegisterType::SP, 0xC644);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x00C3, 0x98);
    CheckMemory(0x905B, 0x12);
}

void test_12_0058()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAACA);
    WriteRegisterWord(RegisterType::SP, 0x1EA8);
    WriteRegisterByte(RegisterType::A, 0xEA);
    WriteRegisterByte(RegisterType::B, 0xAD);
    WriteRegisterByte(RegisterType::C, 0x6B);
    WriteRegisterByte(RegisterType::D, 0x97);
    WriteRegisterByte(RegisterType::E, 0x22);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x16);
    WriteRegisterByte(RegisterType::L, 0x7E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9722, 0x00);
    WriteMemory(0xAACA, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xEA);
    CheckRegisterByte(RegisterType::B, 0xAD);
    CheckRegisterByte(RegisterType::C, 0x6B);
    CheckRegisterByte(RegisterType::D, 0x97);
    CheckRegisterByte(RegisterType::E, 0x22);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x16);
    CheckRegisterByte(RegisterType::L, 0x7E);
    WriteRegisterWord(RegisterType::PC, 0xAACA);
    WriteRegisterWord(RegisterType::SP, 0x1EA8);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9722, 0xEA);
    CheckMemory(0xAACA, 0x12);
}

void test_12_0059()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x22A0);
    WriteRegisterWord(RegisterType::SP, 0xF53A);
    WriteRegisterByte(RegisterType::A, 0x07);
    WriteRegisterByte(RegisterType::B, 0x2E);
    WriteRegisterByte(RegisterType::C, 0xA5);
    WriteRegisterByte(RegisterType::D, 0xE7);
    WriteRegisterByte(RegisterType::E, 0xC7);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x4C);
    WriteRegisterByte(RegisterType::L, 0x26);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x22A0, 0x12);
    WriteMemory(0xE7C7, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x07);
    CheckRegisterByte(RegisterType::B, 0x2E);
    CheckRegisterByte(RegisterType::C, 0xA5);
    CheckRegisterByte(RegisterType::D, 0xE7);
    CheckRegisterByte(RegisterType::E, 0xC7);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x4C);
    CheckRegisterByte(RegisterType::L, 0x26);
    WriteRegisterWord(RegisterType::PC, 0x22A0);
    WriteRegisterWord(RegisterType::SP, 0xF53A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x22A0, 0x12);
    CheckMemory(0xE7C7, 0x07);
}

void test_12_005A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5484);
    WriteRegisterWord(RegisterType::SP, 0xB7DA);
    WriteRegisterByte(RegisterType::A, 0x22);
    WriteRegisterByte(RegisterType::B, 0x8E);
    WriteRegisterByte(RegisterType::C, 0x0F);
    WriteRegisterByte(RegisterType::D, 0xE3);
    WriteRegisterByte(RegisterType::E, 0x01);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x21);
    WriteRegisterByte(RegisterType::L, 0x58);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5484, 0x12);
    WriteMemory(0xE301, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x22);
    CheckRegisterByte(RegisterType::B, 0x8E);
    CheckRegisterByte(RegisterType::C, 0x0F);
    CheckRegisterByte(RegisterType::D, 0xE3);
    CheckRegisterByte(RegisterType::E, 0x01);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x21);
    CheckRegisterByte(RegisterType::L, 0x58);
    WriteRegisterWord(RegisterType::PC, 0x5484);
    WriteRegisterWord(RegisterType::SP, 0xB7DA);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5484, 0x12);
    CheckMemory(0xE301, 0x22);
}

void test_12_005B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC3F1);
    WriteRegisterWord(RegisterType::SP, 0x921D);
    WriteRegisterByte(RegisterType::A, 0x7B);
    WriteRegisterByte(RegisterType::B, 0xC1);
    WriteRegisterByte(RegisterType::C, 0xF5);
    WriteRegisterByte(RegisterType::D, 0xA8);
    WriteRegisterByte(RegisterType::E, 0xD0);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x46);
    WriteRegisterByte(RegisterType::L, 0xD8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xA8D0, 0x00);
    WriteMemory(0xC3F1, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7B);
    CheckRegisterByte(RegisterType::B, 0xC1);
    CheckRegisterByte(RegisterType::C, 0xF5);
    CheckRegisterByte(RegisterType::D, 0xA8);
    CheckRegisterByte(RegisterType::E, 0xD0);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x46);
    CheckRegisterByte(RegisterType::L, 0xD8);
    WriteRegisterWord(RegisterType::PC, 0xC3F1);
    WriteRegisterWord(RegisterType::SP, 0x921D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xA8D0, 0x7B);
    CheckMemory(0xC3F1, 0x12);
}

void test_12_005C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEF9C);
    WriteRegisterWord(RegisterType::SP, 0x6747);
    WriteRegisterByte(RegisterType::A, 0x10);
    WriteRegisterByte(RegisterType::B, 0x65);
    WriteRegisterByte(RegisterType::C, 0x05);
    WriteRegisterByte(RegisterType::D, 0xB8);
    WriteRegisterByte(RegisterType::E, 0xF7);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x2B);
    WriteRegisterByte(RegisterType::L, 0x1E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB8F7, 0x00);
    WriteMemory(0xEF9C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x10);
    CheckRegisterByte(RegisterType::B, 0x65);
    CheckRegisterByte(RegisterType::C, 0x05);
    CheckRegisterByte(RegisterType::D, 0xB8);
    CheckRegisterByte(RegisterType::E, 0xF7);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x2B);
    CheckRegisterByte(RegisterType::L, 0x1E);
    WriteRegisterWord(RegisterType::PC, 0xEF9C);
    WriteRegisterWord(RegisterType::SP, 0x6747);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xB8F7, 0x10);
    CheckMemory(0xEF9C, 0x12);
}

void test_12_005D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFFB2);
    WriteRegisterWord(RegisterType::SP, 0xC522);
    WriteRegisterByte(RegisterType::A, 0x8A);
    WriteRegisterByte(RegisterType::B, 0xD9);
    WriteRegisterByte(RegisterType::C, 0xD8);
    WriteRegisterByte(RegisterType::D, 0x92);
    WriteRegisterByte(RegisterType::E, 0x7B);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x30);
    WriteRegisterByte(RegisterType::L, 0xE9);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x927B, 0x00);
    WriteMemory(0xFFB2, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8A);
    CheckRegisterByte(RegisterType::B, 0xD9);
    CheckRegisterByte(RegisterType::C, 0xD8);
    CheckRegisterByte(RegisterType::D, 0x92);
    CheckRegisterByte(RegisterType::E, 0x7B);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x30);
    CheckRegisterByte(RegisterType::L, 0xE9);
    WriteRegisterWord(RegisterType::PC, 0xFFB2);
    WriteRegisterWord(RegisterType::SP, 0xC522);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x927B, 0x8A);
    CheckMemory(0xFFB2, 0x12);
}

void test_12_005E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB9DE);
    WriteRegisterWord(RegisterType::SP, 0x4762);
    WriteRegisterByte(RegisterType::A, 0x67);
    WriteRegisterByte(RegisterType::B, 0xDB);
    WriteRegisterByte(RegisterType::C, 0x2B);
    WriteRegisterByte(RegisterType::D, 0x44);
    WriteRegisterByte(RegisterType::E, 0xA6);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x08);
    WriteRegisterByte(RegisterType::L, 0x85);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x44A6, 0x00);
    WriteMemory(0xB9DE, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x67);
    CheckRegisterByte(RegisterType::B, 0xDB);
    CheckRegisterByte(RegisterType::C, 0x2B);
    CheckRegisterByte(RegisterType::D, 0x44);
    CheckRegisterByte(RegisterType::E, 0xA6);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x08);
    CheckRegisterByte(RegisterType::L, 0x85);
    WriteRegisterWord(RegisterType::PC, 0xB9DE);
    WriteRegisterWord(RegisterType::SP, 0x4762);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x44A6, 0x67);
    CheckMemory(0xB9DE, 0x12);
}

void test_12_005F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD00D);
    WriteRegisterWord(RegisterType::SP, 0xA9F8);
    WriteRegisterByte(RegisterType::A, 0xBD);
    WriteRegisterByte(RegisterType::B, 0xEC);
    WriteRegisterByte(RegisterType::C, 0x04);
    WriteRegisterByte(RegisterType::D, 0x97);
    WriteRegisterByte(RegisterType::E, 0x3D);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x67);
    WriteRegisterByte(RegisterType::L, 0x52);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x973D, 0x00);
    WriteMemory(0xD00D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBD);
    CheckRegisterByte(RegisterType::B, 0xEC);
    CheckRegisterByte(RegisterType::C, 0x04);
    CheckRegisterByte(RegisterType::D, 0x97);
    CheckRegisterByte(RegisterType::E, 0x3D);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x67);
    CheckRegisterByte(RegisterType::L, 0x52);
    WriteRegisterWord(RegisterType::PC, 0xD00D);
    WriteRegisterWord(RegisterType::SP, 0xA9F8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x973D, 0xBD);
    CheckMemory(0xD00D, 0x12);
}

void test_12_0060()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x67AB);
    WriteRegisterWord(RegisterType::SP, 0x6C1E);
    WriteRegisterByte(RegisterType::A, 0x34);
    WriteRegisterByte(RegisterType::B, 0xCD);
    WriteRegisterByte(RegisterType::C, 0xC0);
    WriteRegisterByte(RegisterType::D, 0x38);
    WriteRegisterByte(RegisterType::E, 0x70);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xC3);
    WriteRegisterByte(RegisterType::L, 0x98);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3870, 0x00);
    WriteMemory(0x67AB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x34);
    CheckRegisterByte(RegisterType::B, 0xCD);
    CheckRegisterByte(RegisterType::C, 0xC0);
    CheckRegisterByte(RegisterType::D, 0x38);
    CheckRegisterByte(RegisterType::E, 0x70);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xC3);
    CheckRegisterByte(RegisterType::L, 0x98);
    WriteRegisterWord(RegisterType::PC, 0x67AB);
    WriteRegisterWord(RegisterType::SP, 0x6C1E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3870, 0x34);
    CheckMemory(0x67AB, 0x12);
}

void test_12_0061()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAC53);
    WriteRegisterWord(RegisterType::SP, 0x330F);
    WriteRegisterByte(RegisterType::A, 0x1F);
    WriteRegisterByte(RegisterType::B, 0xC7);
    WriteRegisterByte(RegisterType::C, 0x79);
    WriteRegisterByte(RegisterType::D, 0x64);
    WriteRegisterByte(RegisterType::E, 0x79);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xC6);
    WriteRegisterByte(RegisterType::L, 0xCE);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6479, 0x00);
    WriteMemory(0xAC53, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1F);
    CheckRegisterByte(RegisterType::B, 0xC7);
    CheckRegisterByte(RegisterType::C, 0x79);
    CheckRegisterByte(RegisterType::D, 0x64);
    CheckRegisterByte(RegisterType::E, 0x79);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xC6);
    CheckRegisterByte(RegisterType::L, 0xCE);
    WriteRegisterWord(RegisterType::PC, 0xAC53);
    WriteRegisterWord(RegisterType::SP, 0x330F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6479, 0x1F);
    CheckMemory(0xAC53, 0x12);
}

void test_12_0062()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC775);
    WriteRegisterWord(RegisterType::SP, 0x6500);
    WriteRegisterByte(RegisterType::A, 0x76);
    WriteRegisterByte(RegisterType::B, 0x13);
    WriteRegisterByte(RegisterType::C, 0x41);
    WriteRegisterByte(RegisterType::D, 0xFD);
    WriteRegisterByte(RegisterType::E, 0x87);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x5C);
    WriteRegisterByte(RegisterType::L, 0x73);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xC775, 0x12);
    WriteMemory(0xFD87, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x76);
    CheckRegisterByte(RegisterType::B, 0x13);
    CheckRegisterByte(RegisterType::C, 0x41);
    CheckRegisterByte(RegisterType::D, 0xFD);
    CheckRegisterByte(RegisterType::E, 0x87);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x5C);
    CheckRegisterByte(RegisterType::L, 0x73);
    WriteRegisterWord(RegisterType::PC, 0xC775);
    WriteRegisterWord(RegisterType::SP, 0x6500);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xC775, 0x12);
    CheckMemory(0xFD87, 0x76);
}

void test_12_0063()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9AA4);
    WriteRegisterWord(RegisterType::SP, 0xE677);
    WriteRegisterByte(RegisterType::A, 0x58);
    WriteRegisterByte(RegisterType::B, 0xF2);
    WriteRegisterByte(RegisterType::C, 0x9D);
    WriteRegisterByte(RegisterType::D, 0xBF);
    WriteRegisterByte(RegisterType::E, 0x96);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xDA);
    WriteRegisterByte(RegisterType::L, 0x5C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9AA4, 0x12);
    WriteMemory(0xBF96, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x58);
    CheckRegisterByte(RegisterType::B, 0xF2);
    CheckRegisterByte(RegisterType::C, 0x9D);
    CheckRegisterByte(RegisterType::D, 0xBF);
    CheckRegisterByte(RegisterType::E, 0x96);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xDA);
    CheckRegisterByte(RegisterType::L, 0x5C);
    WriteRegisterWord(RegisterType::PC, 0x9AA4);
    WriteRegisterWord(RegisterType::SP, 0xE677);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9AA4, 0x12);
    CheckMemory(0xBF96, 0x58);
}

void test_12_0064()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9D42);
    WriteRegisterWord(RegisterType::SP, 0xB025);
    WriteRegisterByte(RegisterType::A, 0x1C);
    WriteRegisterByte(RegisterType::B, 0xCD);
    WriteRegisterByte(RegisterType::C, 0x91);
    WriteRegisterByte(RegisterType::D, 0x9A);
    WriteRegisterByte(RegisterType::E, 0xA9);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xEE);
    WriteRegisterByte(RegisterType::L, 0x17);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9AA9, 0x00);
    WriteMemory(0x9D42, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1C);
    CheckRegisterByte(RegisterType::B, 0xCD);
    CheckRegisterByte(RegisterType::C, 0x91);
    CheckRegisterByte(RegisterType::D, 0x9A);
    CheckRegisterByte(RegisterType::E, 0xA9);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xEE);
    CheckRegisterByte(RegisterType::L, 0x17);
    WriteRegisterWord(RegisterType::PC, 0x9D42);
    WriteRegisterWord(RegisterType::SP, 0xB025);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9AA9, 0x1C);
    CheckMemory(0x9D42, 0x12);
}

void test_12_0065()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7344);
    WriteRegisterWord(RegisterType::SP, 0xA108);
    WriteRegisterByte(RegisterType::A, 0x49);
    WriteRegisterByte(RegisterType::B, 0xB2);
    WriteRegisterByte(RegisterType::C, 0x99);
    WriteRegisterByte(RegisterType::D, 0x19);
    WriteRegisterByte(RegisterType::E, 0xBF);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x13);
    WriteRegisterByte(RegisterType::L, 0x93);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x19BF, 0x00);
    WriteMemory(0x7344, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x49);
    CheckRegisterByte(RegisterType::B, 0xB2);
    CheckRegisterByte(RegisterType::C, 0x99);
    CheckRegisterByte(RegisterType::D, 0x19);
    CheckRegisterByte(RegisterType::E, 0xBF);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x13);
    CheckRegisterByte(RegisterType::L, 0x93);
    WriteRegisterWord(RegisterType::PC, 0x7344);
    WriteRegisterWord(RegisterType::SP, 0xA108);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x19BF, 0x49);
    CheckMemory(0x7344, 0x12);
}

void test_12_0066()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEB0A);
    WriteRegisterWord(RegisterType::SP, 0x13B5);
    WriteRegisterByte(RegisterType::A, 0xCC);
    WriteRegisterByte(RegisterType::B, 0xB0);
    WriteRegisterByte(RegisterType::C, 0xA7);
    WriteRegisterByte(RegisterType::D, 0x55);
    WriteRegisterByte(RegisterType::E, 0xE8);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x8E);
    WriteRegisterByte(RegisterType::L, 0xF5);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x55E8, 0x00);
    WriteMemory(0xEB0A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCC);
    CheckRegisterByte(RegisterType::B, 0xB0);
    CheckRegisterByte(RegisterType::C, 0xA7);
    CheckRegisterByte(RegisterType::D, 0x55);
    CheckRegisterByte(RegisterType::E, 0xE8);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x8E);
    CheckRegisterByte(RegisterType::L, 0xF5);
    WriteRegisterWord(RegisterType::PC, 0xEB0A);
    WriteRegisterWord(RegisterType::SP, 0x13B5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x55E8, 0xCC);
    CheckMemory(0xEB0A, 0x12);
}

void test_12_0067()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEDEE);
    WriteRegisterWord(RegisterType::SP, 0xC2BC);
    WriteRegisterByte(RegisterType::A, 0x77);
    WriteRegisterByte(RegisterType::B, 0xC9);
    WriteRegisterByte(RegisterType::C, 0x9B);
    WriteRegisterByte(RegisterType::D, 0x6E);
    WriteRegisterByte(RegisterType::E, 0x5E);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xD3);
    WriteRegisterByte(RegisterType::L, 0xE3);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6E5E, 0x00);
    WriteMemory(0xEDEE, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x77);
    CheckRegisterByte(RegisterType::B, 0xC9);
    CheckRegisterByte(RegisterType::C, 0x9B);
    CheckRegisterByte(RegisterType::D, 0x6E);
    CheckRegisterByte(RegisterType::E, 0x5E);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xD3);
    CheckRegisterByte(RegisterType::L, 0xE3);
    WriteRegisterWord(RegisterType::PC, 0xEDEE);
    WriteRegisterWord(RegisterType::SP, 0xC2BC);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6E5E, 0x77);
    CheckMemory(0xEDEE, 0x12);
}

void test_12_0068()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAC8F);
    WriteRegisterWord(RegisterType::SP, 0x13C6);
    WriteRegisterByte(RegisterType::A, 0xE7);
    WriteRegisterByte(RegisterType::B, 0x05);
    WriteRegisterByte(RegisterType::C, 0x11);
    WriteRegisterByte(RegisterType::D, 0xC4);
    WriteRegisterByte(RegisterType::E, 0xFC);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xA4);
    WriteRegisterByte(RegisterType::L, 0x02);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xAC8F, 0x12);
    WriteMemory(0xC4FC, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE7);
    CheckRegisterByte(RegisterType::B, 0x05);
    CheckRegisterByte(RegisterType::C, 0x11);
    CheckRegisterByte(RegisterType::D, 0xC4);
    CheckRegisterByte(RegisterType::E, 0xFC);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xA4);
    CheckRegisterByte(RegisterType::L, 0x02);
    WriteRegisterWord(RegisterType::PC, 0xAC8F);
    WriteRegisterWord(RegisterType::SP, 0x13C6);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xAC8F, 0x12);
    CheckMemory(0xC4FC, 0xE7);
}

void test_12_0069()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0A3C);
    WriteRegisterWord(RegisterType::SP, 0x12CE);
    WriteRegisterByte(RegisterType::A, 0x82);
    WriteRegisterByte(RegisterType::B, 0xB2);
    WriteRegisterByte(RegisterType::C, 0xF1);
    WriteRegisterByte(RegisterType::D, 0x87);
    WriteRegisterByte(RegisterType::E, 0x67);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xA1);
    WriteRegisterByte(RegisterType::L, 0xF5);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0A3C, 0x12);
    WriteMemory(0x8767, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x82);
    CheckRegisterByte(RegisterType::B, 0xB2);
    CheckRegisterByte(RegisterType::C, 0xF1);
    CheckRegisterByte(RegisterType::D, 0x87);
    CheckRegisterByte(RegisterType::E, 0x67);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xA1);
    CheckRegisterByte(RegisterType::L, 0xF5);
    WriteRegisterWord(RegisterType::PC, 0x0A3C);
    WriteRegisterWord(RegisterType::SP, 0x12CE);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0A3C, 0x12);
    CheckMemory(0x8767, 0x82);
}

void test_12_006A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x482B);
    WriteRegisterWord(RegisterType::SP, 0xE000);
    WriteRegisterByte(RegisterType::A, 0x3E);
    WriteRegisterByte(RegisterType::B, 0x75);
    WriteRegisterByte(RegisterType::C, 0xD8);
    WriteRegisterByte(RegisterType::D, 0xF2);
    WriteRegisterByte(RegisterType::E, 0x8E);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x0D);
    WriteRegisterByte(RegisterType::L, 0xDA);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x482B, 0x12);
    WriteMemory(0xF28E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3E);
    CheckRegisterByte(RegisterType::B, 0x75);
    CheckRegisterByte(RegisterType::C, 0xD8);
    CheckRegisterByte(RegisterType::D, 0xF2);
    CheckRegisterByte(RegisterType::E, 0x8E);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x0D);
    CheckRegisterByte(RegisterType::L, 0xDA);
    WriteRegisterWord(RegisterType::PC, 0x482B);
    WriteRegisterWord(RegisterType::SP, 0xE000);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x482B, 0x12);
    CheckMemory(0xF28E, 0x3E);
}

void test_12_006B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9A6B);
    WriteRegisterWord(RegisterType::SP, 0x64DF);
    WriteRegisterByte(RegisterType::A, 0x58);
    WriteRegisterByte(RegisterType::B, 0x3B);
    WriteRegisterByte(RegisterType::C, 0xEC);
    WriteRegisterByte(RegisterType::D, 0x1C);
    WriteRegisterByte(RegisterType::E, 0x61);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xED);
    WriteRegisterByte(RegisterType::L, 0x1E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1C61, 0x00);
    WriteMemory(0x9A6B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x58);
    CheckRegisterByte(RegisterType::B, 0x3B);
    CheckRegisterByte(RegisterType::C, 0xEC);
    CheckRegisterByte(RegisterType::D, 0x1C);
    CheckRegisterByte(RegisterType::E, 0x61);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xED);
    CheckRegisterByte(RegisterType::L, 0x1E);
    WriteRegisterWord(RegisterType::PC, 0x9A6B);
    WriteRegisterWord(RegisterType::SP, 0x64DF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1C61, 0x58);
    CheckMemory(0x9A6B, 0x12);
}

void test_12_006C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFF25);
    WriteRegisterWord(RegisterType::SP, 0x6967);
    WriteRegisterByte(RegisterType::A, 0x0E);
    WriteRegisterByte(RegisterType::B, 0xAE);
    WriteRegisterByte(RegisterType::C, 0xF0);
    WriteRegisterByte(RegisterType::D, 0x3D);
    WriteRegisterByte(RegisterType::E, 0x3E);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xA6);
    WriteRegisterByte(RegisterType::L, 0x50);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3D3E, 0x00);
    WriteMemory(0xFF25, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0E);
    CheckRegisterByte(RegisterType::B, 0xAE);
    CheckRegisterByte(RegisterType::C, 0xF0);
    CheckRegisterByte(RegisterType::D, 0x3D);
    CheckRegisterByte(RegisterType::E, 0x3E);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xA6);
    CheckRegisterByte(RegisterType::L, 0x50);
    WriteRegisterWord(RegisterType::PC, 0xFF25);
    WriteRegisterWord(RegisterType::SP, 0x6967);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3D3E, 0x0E);
    CheckMemory(0xFF25, 0x12);
}

void test_12_006D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCB6F);
    WriteRegisterWord(RegisterType::SP, 0x48F1);
    WriteRegisterByte(RegisterType::A, 0x4A);
    WriteRegisterByte(RegisterType::B, 0xCB);
    WriteRegisterByte(RegisterType::C, 0x7C);
    WriteRegisterByte(RegisterType::D, 0xCE);
    WriteRegisterByte(RegisterType::E, 0xDF);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x1A);
    WriteRegisterByte(RegisterType::L, 0x2D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xCB6F, 0x12);
    WriteMemory(0xCEDF, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4A);
    CheckRegisterByte(RegisterType::B, 0xCB);
    CheckRegisterByte(RegisterType::C, 0x7C);
    CheckRegisterByte(RegisterType::D, 0xCE);
    CheckRegisterByte(RegisterType::E, 0xDF);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x1A);
    CheckRegisterByte(RegisterType::L, 0x2D);
    WriteRegisterWord(RegisterType::PC, 0xCB6F);
    WriteRegisterWord(RegisterType::SP, 0x48F1);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xCB6F, 0x12);
    CheckMemory(0xCEDF, 0x4A);
}

void test_12_006E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x84A4);
    WriteRegisterWord(RegisterType::SP, 0x9B44);
    WriteRegisterByte(RegisterType::A, 0x14);
    WriteRegisterByte(RegisterType::B, 0x5C);
    WriteRegisterByte(RegisterType::C, 0x76);
    WriteRegisterByte(RegisterType::D, 0x80);
    WriteRegisterByte(RegisterType::E, 0xD9);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xA5);
    WriteRegisterByte(RegisterType::L, 0xE5);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x80D9, 0x00);
    WriteMemory(0x84A4, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x14);
    CheckRegisterByte(RegisterType::B, 0x5C);
    CheckRegisterByte(RegisterType::C, 0x76);
    CheckRegisterByte(RegisterType::D, 0x80);
    CheckRegisterByte(RegisterType::E, 0xD9);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xA5);
    CheckRegisterByte(RegisterType::L, 0xE5);
    WriteRegisterWord(RegisterType::PC, 0x84A4);
    WriteRegisterWord(RegisterType::SP, 0x9B44);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x80D9, 0x14);
    CheckMemory(0x84A4, 0x12);
}

void test_12_006F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDE02);
    WriteRegisterWord(RegisterType::SP, 0x750E);
    WriteRegisterByte(RegisterType::A, 0x45);
    WriteRegisterByte(RegisterType::B, 0x43);
    WriteRegisterByte(RegisterType::C, 0xBC);
    WriteRegisterByte(RegisterType::D, 0xAD);
    WriteRegisterByte(RegisterType::E, 0x95);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x29);
    WriteRegisterByte(RegisterType::L, 0x2B);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xAD95, 0x00);
    WriteMemory(0xDE02, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x45);
    CheckRegisterByte(RegisterType::B, 0x43);
    CheckRegisterByte(RegisterType::C, 0xBC);
    CheckRegisterByte(RegisterType::D, 0xAD);
    CheckRegisterByte(RegisterType::E, 0x95);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x29);
    CheckRegisterByte(RegisterType::L, 0x2B);
    WriteRegisterWord(RegisterType::PC, 0xDE02);
    WriteRegisterWord(RegisterType::SP, 0x750E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xAD95, 0x45);
    CheckMemory(0xDE02, 0x12);
}

void test_12_0070()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3B60);
    WriteRegisterWord(RegisterType::SP, 0x6CAD);
    WriteRegisterByte(RegisterType::A, 0x3F);
    WriteRegisterByte(RegisterType::B, 0xD4);
    WriteRegisterByte(RegisterType::C, 0xE1);
    WriteRegisterByte(RegisterType::D, 0x60);
    WriteRegisterByte(RegisterType::E, 0x14);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xA8);
    WriteRegisterByte(RegisterType::L, 0x67);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3B60, 0x12);
    WriteMemory(0x6014, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3F);
    CheckRegisterByte(RegisterType::B, 0xD4);
    CheckRegisterByte(RegisterType::C, 0xE1);
    CheckRegisterByte(RegisterType::D, 0x60);
    CheckRegisterByte(RegisterType::E, 0x14);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xA8);
    CheckRegisterByte(RegisterType::L, 0x67);
    WriteRegisterWord(RegisterType::PC, 0x3B60);
    WriteRegisterWord(RegisterType::SP, 0x6CAD);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3B60, 0x12);
    CheckMemory(0x6014, 0x3F);
}

void test_12_0071()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6132);
    WriteRegisterWord(RegisterType::SP, 0xBFDA);
    WriteRegisterByte(RegisterType::A, 0xA8);
    WriteRegisterByte(RegisterType::B, 0xA4);
    WriteRegisterByte(RegisterType::C, 0xA2);
    WriteRegisterByte(RegisterType::D, 0x70);
    WriteRegisterByte(RegisterType::E, 0xDB);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x8F);
    WriteRegisterByte(RegisterType::L, 0x17);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6132, 0x12);
    WriteMemory(0x70DB, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA8);
    CheckRegisterByte(RegisterType::B, 0xA4);
    CheckRegisterByte(RegisterType::C, 0xA2);
    CheckRegisterByte(RegisterType::D, 0x70);
    CheckRegisterByte(RegisterType::E, 0xDB);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x8F);
    CheckRegisterByte(RegisterType::L, 0x17);
    WriteRegisterWord(RegisterType::PC, 0x6132);
    WriteRegisterWord(RegisterType::SP, 0xBFDA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6132, 0x12);
    CheckMemory(0x70DB, 0xA8);
}

void test_12_0072()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB187);
    WriteRegisterWord(RegisterType::SP, 0xBFD7);
    WriteRegisterByte(RegisterType::A, 0x1D);
    WriteRegisterByte(RegisterType::B, 0xC6);
    WriteRegisterByte(RegisterType::C, 0x8F);
    WriteRegisterByte(RegisterType::D, 0x82);
    WriteRegisterByte(RegisterType::E, 0x3C);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x2D);
    WriteRegisterByte(RegisterType::L, 0x16);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x823C, 0x00);
    WriteMemory(0xB187, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1D);
    CheckRegisterByte(RegisterType::B, 0xC6);
    CheckRegisterByte(RegisterType::C, 0x8F);
    CheckRegisterByte(RegisterType::D, 0x82);
    CheckRegisterByte(RegisterType::E, 0x3C);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x2D);
    CheckRegisterByte(RegisterType::L, 0x16);
    WriteRegisterWord(RegisterType::PC, 0xB187);
    WriteRegisterWord(RegisterType::SP, 0xBFD7);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x823C, 0x1D);
    CheckMemory(0xB187, 0x12);
}

void test_12_0073()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA7A0);
    WriteRegisterWord(RegisterType::SP, 0xC4A3);
    WriteRegisterByte(RegisterType::A, 0x73);
    WriteRegisterByte(RegisterType::B, 0xE8);
    WriteRegisterByte(RegisterType::C, 0x14);
    WriteRegisterByte(RegisterType::D, 0x87);
    WriteRegisterByte(RegisterType::E, 0x68);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x9A);
    WriteRegisterByte(RegisterType::L, 0x85);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x8768, 0x00);
    WriteMemory(0xA7A0, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x73);
    CheckRegisterByte(RegisterType::B, 0xE8);
    CheckRegisterByte(RegisterType::C, 0x14);
    CheckRegisterByte(RegisterType::D, 0x87);
    CheckRegisterByte(RegisterType::E, 0x68);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x9A);
    CheckRegisterByte(RegisterType::L, 0x85);
    WriteRegisterWord(RegisterType::PC, 0xA7A0);
    WriteRegisterWord(RegisterType::SP, 0xC4A3);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x8768, 0x73);
    CheckMemory(0xA7A0, 0x12);
}

void test_12_0074()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7542);
    WriteRegisterWord(RegisterType::SP, 0x9460);
    WriteRegisterByte(RegisterType::A, 0x6B);
    WriteRegisterByte(RegisterType::B, 0x2B);
    WriteRegisterByte(RegisterType::C, 0xF1);
    WriteRegisterByte(RegisterType::D, 0x66);
    WriteRegisterByte(RegisterType::E, 0x01);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xA3);
    WriteRegisterByte(RegisterType::L, 0x53);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6601, 0x00);
    WriteMemory(0x7542, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6B);
    CheckRegisterByte(RegisterType::B, 0x2B);
    CheckRegisterByte(RegisterType::C, 0xF1);
    CheckRegisterByte(RegisterType::D, 0x66);
    CheckRegisterByte(RegisterType::E, 0x01);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xA3);
    CheckRegisterByte(RegisterType::L, 0x53);
    WriteRegisterWord(RegisterType::PC, 0x7542);
    WriteRegisterWord(RegisterType::SP, 0x9460);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6601, 0x6B);
    CheckMemory(0x7542, 0x12);
}

void test_12_0075()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9573);
    WriteRegisterWord(RegisterType::SP, 0xAB0B);
    WriteRegisterByte(RegisterType::A, 0x38);
    WriteRegisterByte(RegisterType::B, 0xEB);
    WriteRegisterByte(RegisterType::C, 0x0D);
    WriteRegisterByte(RegisterType::D, 0xC7);
    WriteRegisterByte(RegisterType::E, 0x32);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x21);
    WriteRegisterByte(RegisterType::L, 0xFE);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9573, 0x12);
    WriteMemory(0xC732, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x38);
    CheckRegisterByte(RegisterType::B, 0xEB);
    CheckRegisterByte(RegisterType::C, 0x0D);
    CheckRegisterByte(RegisterType::D, 0xC7);
    CheckRegisterByte(RegisterType::E, 0x32);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x21);
    CheckRegisterByte(RegisterType::L, 0xFE);
    WriteRegisterWord(RegisterType::PC, 0x9573);
    WriteRegisterWord(RegisterType::SP, 0xAB0B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9573, 0x12);
    CheckMemory(0xC732, 0x38);
}

void test_12_0076()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4E5F);
    WriteRegisterWord(RegisterType::SP, 0x2E05);
    WriteRegisterByte(RegisterType::A, 0x25);
    WriteRegisterByte(RegisterType::B, 0x05);
    WriteRegisterByte(RegisterType::C, 0xFE);
    WriteRegisterByte(RegisterType::D, 0x48);
    WriteRegisterByte(RegisterType::E, 0x51);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xBA);
    WriteRegisterByte(RegisterType::L, 0x68);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4851, 0x00);
    WriteMemory(0x4E5F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x25);
    CheckRegisterByte(RegisterType::B, 0x05);
    CheckRegisterByte(RegisterType::C, 0xFE);
    CheckRegisterByte(RegisterType::D, 0x48);
    CheckRegisterByte(RegisterType::E, 0x51);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xBA);
    CheckRegisterByte(RegisterType::L, 0x68);
    WriteRegisterWord(RegisterType::PC, 0x4E5F);
    WriteRegisterWord(RegisterType::SP, 0x2E05);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4851, 0x25);
    CheckMemory(0x4E5F, 0x12);
}

void test_12_0077()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF92B);
    WriteRegisterWord(RegisterType::SP, 0x8593);
    WriteRegisterByte(RegisterType::A, 0x5E);
    WriteRegisterByte(RegisterType::B, 0xF7);
    WriteRegisterByte(RegisterType::C, 0xDC);
    WriteRegisterByte(RegisterType::D, 0x9E);
    WriteRegisterByte(RegisterType::E, 0x31);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x79);
    WriteRegisterByte(RegisterType::L, 0xE3);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9E31, 0x00);
    WriteMemory(0xF92B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5E);
    CheckRegisterByte(RegisterType::B, 0xF7);
    CheckRegisterByte(RegisterType::C, 0xDC);
    CheckRegisterByte(RegisterType::D, 0x9E);
    CheckRegisterByte(RegisterType::E, 0x31);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x79);
    CheckRegisterByte(RegisterType::L, 0xE3);
    WriteRegisterWord(RegisterType::PC, 0xF92B);
    WriteRegisterWord(RegisterType::SP, 0x8593);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9E31, 0x5E);
    CheckMemory(0xF92B, 0x12);
}

void test_12_0078()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x138B);
    WriteRegisterWord(RegisterType::SP, 0x961E);
    WriteRegisterByte(RegisterType::A, 0x2A);
    WriteRegisterByte(RegisterType::B, 0x5B);
    WriteRegisterByte(RegisterType::C, 0xA6);
    WriteRegisterByte(RegisterType::D, 0x01);
    WriteRegisterByte(RegisterType::E, 0x1B);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xB4);
    WriteRegisterByte(RegisterType::L, 0x58);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x011B, 0x00);
    WriteMemory(0x138B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2A);
    CheckRegisterByte(RegisterType::B, 0x5B);
    CheckRegisterByte(RegisterType::C, 0xA6);
    CheckRegisterByte(RegisterType::D, 0x01);
    CheckRegisterByte(RegisterType::E, 0x1B);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xB4);
    CheckRegisterByte(RegisterType::L, 0x58);
    WriteRegisterWord(RegisterType::PC, 0x138B);
    WriteRegisterWord(RegisterType::SP, 0x961E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x011B, 0x2A);
    CheckMemory(0x138B, 0x12);
}

void test_12_0079()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x23D5);
    WriteRegisterWord(RegisterType::SP, 0x3115);
    WriteRegisterByte(RegisterType::A, 0xD2);
    WriteRegisterByte(RegisterType::B, 0x89);
    WriteRegisterByte(RegisterType::C, 0xFC);
    WriteRegisterByte(RegisterType::D, 0xF5);
    WriteRegisterByte(RegisterType::E, 0x96);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xC1);
    WriteRegisterByte(RegisterType::L, 0x61);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x23D5, 0x12);
    WriteMemory(0xF596, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD2);
    CheckRegisterByte(RegisterType::B, 0x89);
    CheckRegisterByte(RegisterType::C, 0xFC);
    CheckRegisterByte(RegisterType::D, 0xF5);
    CheckRegisterByte(RegisterType::E, 0x96);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xC1);
    CheckRegisterByte(RegisterType::L, 0x61);
    WriteRegisterWord(RegisterType::PC, 0x23D5);
    WriteRegisterWord(RegisterType::SP, 0x3115);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x23D5, 0x12);
    CheckMemory(0xF596, 0xD2);
}

void test_12_007A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBB99);
    WriteRegisterWord(RegisterType::SP, 0x8624);
    WriteRegisterByte(RegisterType::A, 0xF3);
    WriteRegisterByte(RegisterType::B, 0x59);
    WriteRegisterByte(RegisterType::C, 0xE6);
    WriteRegisterByte(RegisterType::D, 0xB9);
    WriteRegisterByte(RegisterType::E, 0x4E);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x51);
    WriteRegisterByte(RegisterType::L, 0xD6);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB94E, 0x00);
    WriteMemory(0xBB99, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF3);
    CheckRegisterByte(RegisterType::B, 0x59);
    CheckRegisterByte(RegisterType::C, 0xE6);
    CheckRegisterByte(RegisterType::D, 0xB9);
    CheckRegisterByte(RegisterType::E, 0x4E);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x51);
    CheckRegisterByte(RegisterType::L, 0xD6);
    WriteRegisterWord(RegisterType::PC, 0xBB99);
    WriteRegisterWord(RegisterType::SP, 0x8624);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xB94E, 0xF3);
    CheckMemory(0xBB99, 0x12);
}

void test_12_007B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA7B3);
    WriteRegisterWord(RegisterType::SP, 0xC6C4);
    WriteRegisterByte(RegisterType::A, 0xE9);
    WriteRegisterByte(RegisterType::B, 0xF9);
    WriteRegisterByte(RegisterType::C, 0xB7);
    WriteRegisterByte(RegisterType::D, 0x0B);
    WriteRegisterByte(RegisterType::E, 0x66);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xCB);
    WriteRegisterByte(RegisterType::L, 0xB4);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0B66, 0x00);
    WriteMemory(0xA7B3, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE9);
    CheckRegisterByte(RegisterType::B, 0xF9);
    CheckRegisterByte(RegisterType::C, 0xB7);
    CheckRegisterByte(RegisterType::D, 0x0B);
    CheckRegisterByte(RegisterType::E, 0x66);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xCB);
    CheckRegisterByte(RegisterType::L, 0xB4);
    WriteRegisterWord(RegisterType::PC, 0xA7B3);
    WriteRegisterWord(RegisterType::SP, 0xC6C4);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0B66, 0xE9);
    CheckMemory(0xA7B3, 0x12);
}

void test_12_007C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x66A9);
    WriteRegisterWord(RegisterType::SP, 0x960F);
    WriteRegisterByte(RegisterType::A, 0xA0);
    WriteRegisterByte(RegisterType::B, 0xCB);
    WriteRegisterByte(RegisterType::C, 0xD1);
    WriteRegisterByte(RegisterType::D, 0xD8);
    WriteRegisterByte(RegisterType::E, 0x28);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x38);
    WriteRegisterByte(RegisterType::L, 0x2C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x66A9, 0x12);
    WriteMemory(0xD828, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA0);
    CheckRegisterByte(RegisterType::B, 0xCB);
    CheckRegisterByte(RegisterType::C, 0xD1);
    CheckRegisterByte(RegisterType::D, 0xD8);
    CheckRegisterByte(RegisterType::E, 0x28);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x38);
    CheckRegisterByte(RegisterType::L, 0x2C);
    WriteRegisterWord(RegisterType::PC, 0x66A9);
    WriteRegisterWord(RegisterType::SP, 0x960F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x66A9, 0x12);
    CheckMemory(0xD828, 0xA0);
}

void test_12_007D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x20B8);
    WriteRegisterWord(RegisterType::SP, 0x29A9);
    WriteRegisterByte(RegisterType::A, 0xC7);
    WriteRegisterByte(RegisterType::B, 0x91);
    WriteRegisterByte(RegisterType::C, 0x29);
    WriteRegisterByte(RegisterType::D, 0x77);
    WriteRegisterByte(RegisterType::E, 0x8C);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xEC);
    WriteRegisterByte(RegisterType::L, 0x5F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x20B8, 0x12);
    WriteMemory(0x778C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC7);
    CheckRegisterByte(RegisterType::B, 0x91);
    CheckRegisterByte(RegisterType::C, 0x29);
    CheckRegisterByte(RegisterType::D, 0x77);
    CheckRegisterByte(RegisterType::E, 0x8C);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xEC);
    CheckRegisterByte(RegisterType::L, 0x5F);
    WriteRegisterWord(RegisterType::PC, 0x20B8);
    WriteRegisterWord(RegisterType::SP, 0x29A9);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x20B8, 0x12);
    CheckMemory(0x778C, 0xC7);
}

void test_12_007E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1992);
    WriteRegisterWord(RegisterType::SP, 0xCAEF);
    WriteRegisterByte(RegisterType::A, 0xF2);
    WriteRegisterByte(RegisterType::B, 0xB6);
    WriteRegisterByte(RegisterType::C, 0x29);
    WriteRegisterByte(RegisterType::D, 0xD9);
    WriteRegisterByte(RegisterType::E, 0x6B);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xC2);
    WriteRegisterByte(RegisterType::L, 0x77);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1992, 0x12);
    WriteMemory(0xD96B, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF2);
    CheckRegisterByte(RegisterType::B, 0xB6);
    CheckRegisterByte(RegisterType::C, 0x29);
    CheckRegisterByte(RegisterType::D, 0xD9);
    CheckRegisterByte(RegisterType::E, 0x6B);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xC2);
    CheckRegisterByte(RegisterType::L, 0x77);
    WriteRegisterWord(RegisterType::PC, 0x1992);
    WriteRegisterWord(RegisterType::SP, 0xCAEF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1992, 0x12);
    CheckMemory(0xD96B, 0xF2);
}

void test_12_007F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB57E);
    WriteRegisterWord(RegisterType::SP, 0x5753);
    WriteRegisterByte(RegisterType::A, 0xB3);
    WriteRegisterByte(RegisterType::B, 0x07);
    WriteRegisterByte(RegisterType::C, 0x3B);
    WriteRegisterByte(RegisterType::D, 0x94);
    WriteRegisterByte(RegisterType::E, 0xD7);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x76);
    WriteRegisterByte(RegisterType::L, 0x4E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x94D7, 0x00);
    WriteMemory(0xB57E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB3);
    CheckRegisterByte(RegisterType::B, 0x07);
    CheckRegisterByte(RegisterType::C, 0x3B);
    CheckRegisterByte(RegisterType::D, 0x94);
    CheckRegisterByte(RegisterType::E, 0xD7);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x76);
    CheckRegisterByte(RegisterType::L, 0x4E);
    WriteRegisterWord(RegisterType::PC, 0xB57E);
    WriteRegisterWord(RegisterType::SP, 0x5753);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x94D7, 0xB3);
    CheckMemory(0xB57E, 0x12);
}

void test_12_0080()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1EA2);
    WriteRegisterWord(RegisterType::SP, 0x36F6);
    WriteRegisterByte(RegisterType::A, 0x12);
    WriteRegisterByte(RegisterType::B, 0xF1);
    WriteRegisterByte(RegisterType::C, 0x85);
    WriteRegisterByte(RegisterType::D, 0xA8);
    WriteRegisterByte(RegisterType::E, 0x5E);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x2E);
    WriteRegisterByte(RegisterType::L, 0xA8);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1EA2, 0x12);
    WriteMemory(0xA85E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x12);
    CheckRegisterByte(RegisterType::B, 0xF1);
    CheckRegisterByte(RegisterType::C, 0x85);
    CheckRegisterByte(RegisterType::D, 0xA8);
    CheckRegisterByte(RegisterType::E, 0x5E);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x2E);
    CheckRegisterByte(RegisterType::L, 0xA8);
    WriteRegisterWord(RegisterType::PC, 0x1EA2);
    WriteRegisterWord(RegisterType::SP, 0x36F6);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1EA2, 0x12);
    CheckMemory(0xA85E, 0x12);
}

void test_12_0081()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x33B5);
    WriteRegisterWord(RegisterType::SP, 0x3514);
    WriteRegisterByte(RegisterType::A, 0xC5);
    WriteRegisterByte(RegisterType::B, 0x82);
    WriteRegisterByte(RegisterType::C, 0x74);
    WriteRegisterByte(RegisterType::D, 0x11);
    WriteRegisterByte(RegisterType::E, 0x47);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x9B);
    WriteRegisterByte(RegisterType::L, 0xEB);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1147, 0x00);
    WriteMemory(0x33B5, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC5);
    CheckRegisterByte(RegisterType::B, 0x82);
    CheckRegisterByte(RegisterType::C, 0x74);
    CheckRegisterByte(RegisterType::D, 0x11);
    CheckRegisterByte(RegisterType::E, 0x47);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x9B);
    CheckRegisterByte(RegisterType::L, 0xEB);
    WriteRegisterWord(RegisterType::PC, 0x33B5);
    WriteRegisterWord(RegisterType::SP, 0x3514);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1147, 0xC5);
    CheckMemory(0x33B5, 0x12);
}

void test_12_0082()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x99AF);
    WriteRegisterWord(RegisterType::SP, 0x2485);
    WriteRegisterByte(RegisterType::A, 0xD7);
    WriteRegisterByte(RegisterType::B, 0xEB);
    WriteRegisterByte(RegisterType::C, 0xC4);
    WriteRegisterByte(RegisterType::D, 0xB5);
    WriteRegisterByte(RegisterType::E, 0x1A);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x2B);
    WriteRegisterByte(RegisterType::L, 0x2A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x99AF, 0x12);
    WriteMemory(0xB51A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD7);
    CheckRegisterByte(RegisterType::B, 0xEB);
    CheckRegisterByte(RegisterType::C, 0xC4);
    CheckRegisterByte(RegisterType::D, 0xB5);
    CheckRegisterByte(RegisterType::E, 0x1A);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x2B);
    CheckRegisterByte(RegisterType::L, 0x2A);
    WriteRegisterWord(RegisterType::PC, 0x99AF);
    WriteRegisterWord(RegisterType::SP, 0x2485);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x99AF, 0x12);
    CheckMemory(0xB51A, 0xD7);
}

void test_12_0083()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0BD5);
    WriteRegisterWord(RegisterType::SP, 0x0AF3);
    WriteRegisterByte(RegisterType::A, 0x86);
    WriteRegisterByte(RegisterType::B, 0x54);
    WriteRegisterByte(RegisterType::C, 0x7B);
    WriteRegisterByte(RegisterType::D, 0xE2);
    WriteRegisterByte(RegisterType::E, 0xD0);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x51);
    WriteRegisterByte(RegisterType::L, 0xF1);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0BD5, 0x12);
    WriteMemory(0xE2D0, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x86);
    CheckRegisterByte(RegisterType::B, 0x54);
    CheckRegisterByte(RegisterType::C, 0x7B);
    CheckRegisterByte(RegisterType::D, 0xE2);
    CheckRegisterByte(RegisterType::E, 0xD0);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x51);
    CheckRegisterByte(RegisterType::L, 0xF1);
    WriteRegisterWord(RegisterType::PC, 0x0BD5);
    WriteRegisterWord(RegisterType::SP, 0x0AF3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0BD5, 0x12);
    CheckMemory(0xE2D0, 0x86);
}

void test_12_0084()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBCA3);
    WriteRegisterWord(RegisterType::SP, 0xB2A5);
    WriteRegisterByte(RegisterType::A, 0xAA);
    WriteRegisterByte(RegisterType::B, 0x00);
    WriteRegisterByte(RegisterType::C, 0x81);
    WriteRegisterByte(RegisterType::D, 0xE6);
    WriteRegisterByte(RegisterType::E, 0x21);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x1D);
    WriteRegisterByte(RegisterType::L, 0x9A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xBCA3, 0x12);
    WriteMemory(0xE621, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAA);
    CheckRegisterByte(RegisterType::B, 0x00);
    CheckRegisterByte(RegisterType::C, 0x81);
    CheckRegisterByte(RegisterType::D, 0xE6);
    CheckRegisterByte(RegisterType::E, 0x21);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x1D);
    CheckRegisterByte(RegisterType::L, 0x9A);
    WriteRegisterWord(RegisterType::PC, 0xBCA3);
    WriteRegisterWord(RegisterType::SP, 0xB2A5);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xBCA3, 0x12);
    CheckMemory(0xE621, 0xAA);
}

void test_12_0085()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9A65);
    WriteRegisterWord(RegisterType::SP, 0x743B);
    WriteRegisterByte(RegisterType::A, 0xD0);
    WriteRegisterByte(RegisterType::B, 0xE4);
    WriteRegisterByte(RegisterType::C, 0x99);
    WriteRegisterByte(RegisterType::D, 0xC5);
    WriteRegisterByte(RegisterType::E, 0x93);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x60);
    WriteRegisterByte(RegisterType::L, 0x1F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9A65, 0x12);
    WriteMemory(0xC593, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD0);
    CheckRegisterByte(RegisterType::B, 0xE4);
    CheckRegisterByte(RegisterType::C, 0x99);
    CheckRegisterByte(RegisterType::D, 0xC5);
    CheckRegisterByte(RegisterType::E, 0x93);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x60);
    CheckRegisterByte(RegisterType::L, 0x1F);
    WriteRegisterWord(RegisterType::PC, 0x9A65);
    WriteRegisterWord(RegisterType::SP, 0x743B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9A65, 0x12);
    CheckMemory(0xC593, 0xD0);
}

void test_12_0086()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEF28);
    WriteRegisterWord(RegisterType::SP, 0xDF7A);
    WriteRegisterByte(RegisterType::A, 0x09);
    WriteRegisterByte(RegisterType::B, 0x88);
    WriteRegisterByte(RegisterType::C, 0x21);
    WriteRegisterByte(RegisterType::D, 0xA2);
    WriteRegisterByte(RegisterType::E, 0x58);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x74);
    WriteRegisterByte(RegisterType::L, 0x87);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xA258, 0x00);
    WriteMemory(0xEF28, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x09);
    CheckRegisterByte(RegisterType::B, 0x88);
    CheckRegisterByte(RegisterType::C, 0x21);
    CheckRegisterByte(RegisterType::D, 0xA2);
    CheckRegisterByte(RegisterType::E, 0x58);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x74);
    CheckRegisterByte(RegisterType::L, 0x87);
    WriteRegisterWord(RegisterType::PC, 0xEF28);
    WriteRegisterWord(RegisterType::SP, 0xDF7A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xA258, 0x09);
    CheckMemory(0xEF28, 0x12);
}

void test_12_0087()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCA1F);
    WriteRegisterWord(RegisterType::SP, 0xE3F0);
    WriteRegisterByte(RegisterType::A, 0x6C);
    WriteRegisterByte(RegisterType::B, 0x87);
    WriteRegisterByte(RegisterType::C, 0x95);
    WriteRegisterByte(RegisterType::D, 0xAB);
    WriteRegisterByte(RegisterType::E, 0x31);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x2C);
    WriteRegisterByte(RegisterType::L, 0x51);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xAB31, 0x00);
    WriteMemory(0xCA1F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6C);
    CheckRegisterByte(RegisterType::B, 0x87);
    CheckRegisterByte(RegisterType::C, 0x95);
    CheckRegisterByte(RegisterType::D, 0xAB);
    CheckRegisterByte(RegisterType::E, 0x31);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x2C);
    CheckRegisterByte(RegisterType::L, 0x51);
    WriteRegisterWord(RegisterType::PC, 0xCA1F);
    WriteRegisterWord(RegisterType::SP, 0xE3F0);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xAB31, 0x6C);
    CheckMemory(0xCA1F, 0x12);
}

void test_12_0088()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x18E8);
    WriteRegisterWord(RegisterType::SP, 0x33C8);
    WriteRegisterByte(RegisterType::A, 0xD4);
    WriteRegisterByte(RegisterType::B, 0xF4);
    WriteRegisterByte(RegisterType::C, 0xB8);
    WriteRegisterByte(RegisterType::D, 0x04);
    WriteRegisterByte(RegisterType::E, 0x98);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x67);
    WriteRegisterByte(RegisterType::L, 0xDB);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0498, 0x00);
    WriteMemory(0x18E8, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD4);
    CheckRegisterByte(RegisterType::B, 0xF4);
    CheckRegisterByte(RegisterType::C, 0xB8);
    CheckRegisterByte(RegisterType::D, 0x04);
    CheckRegisterByte(RegisterType::E, 0x98);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x67);
    CheckRegisterByte(RegisterType::L, 0xDB);
    WriteRegisterWord(RegisterType::PC, 0x18E8);
    WriteRegisterWord(RegisterType::SP, 0x33C8);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0498, 0xD4);
    CheckMemory(0x18E8, 0x12);
}

void test_12_0089()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF860);
    WriteRegisterWord(RegisterType::SP, 0x4816);
    WriteRegisterByte(RegisterType::A, 0x5F);
    WriteRegisterByte(RegisterType::B, 0x03);
    WriteRegisterByte(RegisterType::C, 0x79);
    WriteRegisterByte(RegisterType::D, 0xD0);
    WriteRegisterByte(RegisterType::E, 0x9E);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xAE);
    WriteRegisterByte(RegisterType::L, 0xAF);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xD09E, 0x00);
    WriteMemory(0xF860, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5F);
    CheckRegisterByte(RegisterType::B, 0x03);
    CheckRegisterByte(RegisterType::C, 0x79);
    CheckRegisterByte(RegisterType::D, 0xD0);
    CheckRegisterByte(RegisterType::E, 0x9E);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xAE);
    CheckRegisterByte(RegisterType::L, 0xAF);
    WriteRegisterWord(RegisterType::PC, 0xF860);
    WriteRegisterWord(RegisterType::SP, 0x4816);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xD09E, 0x5F);
    CheckMemory(0xF860, 0x12);
}

void test_12_008A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x70A7);
    WriteRegisterWord(RegisterType::SP, 0xEA4E);
    WriteRegisterByte(RegisterType::A, 0xA6);
    WriteRegisterByte(RegisterType::B, 0x12);
    WriteRegisterByte(RegisterType::C, 0xB9);
    WriteRegisterByte(RegisterType::D, 0xF9);
    WriteRegisterByte(RegisterType::E, 0xEC);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x92);
    WriteRegisterByte(RegisterType::L, 0x2B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x70A7, 0x12);
    WriteMemory(0xF9EC, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA6);
    CheckRegisterByte(RegisterType::B, 0x12);
    CheckRegisterByte(RegisterType::C, 0xB9);
    CheckRegisterByte(RegisterType::D, 0xF9);
    CheckRegisterByte(RegisterType::E, 0xEC);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x92);
    CheckRegisterByte(RegisterType::L, 0x2B);
    WriteRegisterWord(RegisterType::PC, 0x70A7);
    WriteRegisterWord(RegisterType::SP, 0xEA4E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x70A7, 0x12);
    CheckMemory(0xF9EC, 0xA6);
}

void test_12_008B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x73E4);
    WriteRegisterWord(RegisterType::SP, 0xBD98);
    WriteRegisterByte(RegisterType::A, 0x11);
    WriteRegisterByte(RegisterType::B, 0x13);
    WriteRegisterByte(RegisterType::C, 0xB7);
    WriteRegisterByte(RegisterType::D, 0xDE);
    WriteRegisterByte(RegisterType::E, 0xC3);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x12);
    WriteRegisterByte(RegisterType::L, 0xAF);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x73E4, 0x12);
    WriteMemory(0xDEC3, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x11);
    CheckRegisterByte(RegisterType::B, 0x13);
    CheckRegisterByte(RegisterType::C, 0xB7);
    CheckRegisterByte(RegisterType::D, 0xDE);
    CheckRegisterByte(RegisterType::E, 0xC3);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x12);
    CheckRegisterByte(RegisterType::L, 0xAF);
    WriteRegisterWord(RegisterType::PC, 0x73E4);
    WriteRegisterWord(RegisterType::SP, 0xBD98);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x73E4, 0x12);
    CheckMemory(0xDEC3, 0x11);
}

void test_12_008C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD866);
    WriteRegisterWord(RegisterType::SP, 0xD71F);
    WriteRegisterByte(RegisterType::A, 0x42);
    WriteRegisterByte(RegisterType::B, 0xDD);
    WriteRegisterByte(RegisterType::C, 0x21);
    WriteRegisterByte(RegisterType::D, 0x71);
    WriteRegisterByte(RegisterType::E, 0xEA);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x89);
    WriteRegisterByte(RegisterType::L, 0xEB);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x71EA, 0x00);
    WriteMemory(0xD866, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x42);
    CheckRegisterByte(RegisterType::B, 0xDD);
    CheckRegisterByte(RegisterType::C, 0x21);
    CheckRegisterByte(RegisterType::D, 0x71);
    CheckRegisterByte(RegisterType::E, 0xEA);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x89);
    CheckRegisterByte(RegisterType::L, 0xEB);
    WriteRegisterWord(RegisterType::PC, 0xD866);
    WriteRegisterWord(RegisterType::SP, 0xD71F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x71EA, 0x42);
    CheckMemory(0xD866, 0x12);
}

void test_12_008D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5A5C);
    WriteRegisterWord(RegisterType::SP, 0xAA44);
    WriteRegisterByte(RegisterType::A, 0xB9);
    WriteRegisterByte(RegisterType::B, 0xA6);
    WriteRegisterByte(RegisterType::C, 0xD2);
    WriteRegisterByte(RegisterType::D, 0x8B);
    WriteRegisterByte(RegisterType::E, 0x69);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x73);
    WriteRegisterByte(RegisterType::L, 0x65);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5A5C, 0x12);
    WriteMemory(0x8B69, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB9);
    CheckRegisterByte(RegisterType::B, 0xA6);
    CheckRegisterByte(RegisterType::C, 0xD2);
    CheckRegisterByte(RegisterType::D, 0x8B);
    CheckRegisterByte(RegisterType::E, 0x69);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x73);
    CheckRegisterByte(RegisterType::L, 0x65);
    WriteRegisterWord(RegisterType::PC, 0x5A5C);
    WriteRegisterWord(RegisterType::SP, 0xAA44);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5A5C, 0x12);
    CheckMemory(0x8B69, 0xB9);
}

void test_12_008E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3CF5);
    WriteRegisterWord(RegisterType::SP, 0x293F);
    WriteRegisterByte(RegisterType::A, 0x88);
    WriteRegisterByte(RegisterType::B, 0x11);
    WriteRegisterByte(RegisterType::C, 0xD6);
    WriteRegisterByte(RegisterType::D, 0xEE);
    WriteRegisterByte(RegisterType::E, 0x47);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x73);
    WriteRegisterByte(RegisterType::L, 0xF7);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3CF5, 0x12);
    WriteMemory(0xEE47, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x88);
    CheckRegisterByte(RegisterType::B, 0x11);
    CheckRegisterByte(RegisterType::C, 0xD6);
    CheckRegisterByte(RegisterType::D, 0xEE);
    CheckRegisterByte(RegisterType::E, 0x47);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x73);
    CheckRegisterByte(RegisterType::L, 0xF7);
    WriteRegisterWord(RegisterType::PC, 0x3CF5);
    WriteRegisterWord(RegisterType::SP, 0x293F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3CF5, 0x12);
    CheckMemory(0xEE47, 0x88);
}

void test_12_008F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x67BB);
    WriteRegisterWord(RegisterType::SP, 0x8A0B);
    WriteRegisterByte(RegisterType::A, 0xAC);
    WriteRegisterByte(RegisterType::B, 0xB5);
    WriteRegisterByte(RegisterType::C, 0x6B);
    WriteRegisterByte(RegisterType::D, 0x05);
    WriteRegisterByte(RegisterType::E, 0x1D);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xA5);
    WriteRegisterByte(RegisterType::L, 0x98);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x051D, 0x00);
    WriteMemory(0x67BB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAC);
    CheckRegisterByte(RegisterType::B, 0xB5);
    CheckRegisterByte(RegisterType::C, 0x6B);
    CheckRegisterByte(RegisterType::D, 0x05);
    CheckRegisterByte(RegisterType::E, 0x1D);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xA5);
    CheckRegisterByte(RegisterType::L, 0x98);
    WriteRegisterWord(RegisterType::PC, 0x67BB);
    WriteRegisterWord(RegisterType::SP, 0x8A0B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x051D, 0xAC);
    CheckMemory(0x67BB, 0x12);
}

void test_12_0090()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x35AF);
    WriteRegisterWord(RegisterType::SP, 0x2BC8);
    WriteRegisterByte(RegisterType::A, 0x80);
    WriteRegisterByte(RegisterType::B, 0x5F);
    WriteRegisterByte(RegisterType::C, 0x0D);
    WriteRegisterByte(RegisterType::D, 0x19);
    WriteRegisterByte(RegisterType::E, 0x28);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x51);
    WriteRegisterByte(RegisterType::L, 0x23);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1928, 0x00);
    WriteMemory(0x35AF, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x80);
    CheckRegisterByte(RegisterType::B, 0x5F);
    CheckRegisterByte(RegisterType::C, 0x0D);
    CheckRegisterByte(RegisterType::D, 0x19);
    CheckRegisterByte(RegisterType::E, 0x28);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x51);
    CheckRegisterByte(RegisterType::L, 0x23);
    WriteRegisterWord(RegisterType::PC, 0x35AF);
    WriteRegisterWord(RegisterType::SP, 0x2BC8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1928, 0x80);
    CheckMemory(0x35AF, 0x12);
}

void test_12_0091()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE2E3);
    WriteRegisterWord(RegisterType::SP, 0xB587);
    WriteRegisterByte(RegisterType::A, 0xCD);
    WriteRegisterByte(RegisterType::B, 0x3B);
    WriteRegisterByte(RegisterType::C, 0x0F);
    WriteRegisterByte(RegisterType::D, 0x04);
    WriteRegisterByte(RegisterType::E, 0x04);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xDF);
    WriteRegisterByte(RegisterType::L, 0x94);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0404, 0x00);
    WriteMemory(0xE2E3, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCD);
    CheckRegisterByte(RegisterType::B, 0x3B);
    CheckRegisterByte(RegisterType::C, 0x0F);
    CheckRegisterByte(RegisterType::D, 0x04);
    CheckRegisterByte(RegisterType::E, 0x04);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xDF);
    CheckRegisterByte(RegisterType::L, 0x94);
    WriteRegisterWord(RegisterType::PC, 0xE2E3);
    WriteRegisterWord(RegisterType::SP, 0xB587);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0404, 0xCD);
    CheckMemory(0xE2E3, 0x12);
}

void test_12_0092()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xABCA);
    WriteRegisterWord(RegisterType::SP, 0xC6F6);
    WriteRegisterByte(RegisterType::A, 0xE5);
    WriteRegisterByte(RegisterType::B, 0x2E);
    WriteRegisterByte(RegisterType::C, 0x02);
    WriteRegisterByte(RegisterType::D, 0xEB);
    WriteRegisterByte(RegisterType::E, 0x64);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x58);
    WriteRegisterByte(RegisterType::L, 0x14);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xABCA, 0x12);
    WriteMemory(0xEB64, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE5);
    CheckRegisterByte(RegisterType::B, 0x2E);
    CheckRegisterByte(RegisterType::C, 0x02);
    CheckRegisterByte(RegisterType::D, 0xEB);
    CheckRegisterByte(RegisterType::E, 0x64);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x58);
    CheckRegisterByte(RegisterType::L, 0x14);
    WriteRegisterWord(RegisterType::PC, 0xABCA);
    WriteRegisterWord(RegisterType::SP, 0xC6F6);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xABCA, 0x12);
    CheckMemory(0xEB64, 0xE5);
}

void test_12_0093()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2B21);
    WriteRegisterWord(RegisterType::SP, 0x8746);
    WriteRegisterByte(RegisterType::A, 0x8D);
    WriteRegisterByte(RegisterType::B, 0xEC);
    WriteRegisterByte(RegisterType::C, 0x64);
    WriteRegisterByte(RegisterType::D, 0x54);
    WriteRegisterByte(RegisterType::E, 0x2C);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x1B);
    WriteRegisterByte(RegisterType::L, 0x4B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2B21, 0x12);
    WriteMemory(0x542C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8D);
    CheckRegisterByte(RegisterType::B, 0xEC);
    CheckRegisterByte(RegisterType::C, 0x64);
    CheckRegisterByte(RegisterType::D, 0x54);
    CheckRegisterByte(RegisterType::E, 0x2C);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x1B);
    CheckRegisterByte(RegisterType::L, 0x4B);
    WriteRegisterWord(RegisterType::PC, 0x2B21);
    WriteRegisterWord(RegisterType::SP, 0x8746);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2B21, 0x12);
    CheckMemory(0x542C, 0x8D);
}

void test_12_0094()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x193B);
    WriteRegisterWord(RegisterType::SP, 0xC2C5);
    WriteRegisterByte(RegisterType::A, 0xE5);
    WriteRegisterByte(RegisterType::B, 0x7D);
    WriteRegisterByte(RegisterType::C, 0xF3);
    WriteRegisterByte(RegisterType::D, 0x9D);
    WriteRegisterByte(RegisterType::E, 0x87);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x78);
    WriteRegisterByte(RegisterType::L, 0x72);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x193B, 0x12);
    WriteMemory(0x9D87, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE5);
    CheckRegisterByte(RegisterType::B, 0x7D);
    CheckRegisterByte(RegisterType::C, 0xF3);
    CheckRegisterByte(RegisterType::D, 0x9D);
    CheckRegisterByte(RegisterType::E, 0x87);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x78);
    CheckRegisterByte(RegisterType::L, 0x72);
    WriteRegisterWord(RegisterType::PC, 0x193B);
    WriteRegisterWord(RegisterType::SP, 0xC2C5);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x193B, 0x12);
    CheckMemory(0x9D87, 0xE5);
}

void test_12_0095()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5090);
    WriteRegisterWord(RegisterType::SP, 0x4EDA);
    WriteRegisterByte(RegisterType::A, 0x1F);
    WriteRegisterByte(RegisterType::B, 0x1A);
    WriteRegisterByte(RegisterType::C, 0x17);
    WriteRegisterByte(RegisterType::D, 0x60);
    WriteRegisterByte(RegisterType::E, 0x19);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x41);
    WriteRegisterByte(RegisterType::L, 0x44);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5090, 0x12);
    WriteMemory(0x6019, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1F);
    CheckRegisterByte(RegisterType::B, 0x1A);
    CheckRegisterByte(RegisterType::C, 0x17);
    CheckRegisterByte(RegisterType::D, 0x60);
    CheckRegisterByte(RegisterType::E, 0x19);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x41);
    CheckRegisterByte(RegisterType::L, 0x44);
    WriteRegisterWord(RegisterType::PC, 0x5090);
    WriteRegisterWord(RegisterType::SP, 0x4EDA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5090, 0x12);
    CheckMemory(0x6019, 0x1F);
}

void test_12_0096()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x29F6);
    WriteRegisterWord(RegisterType::SP, 0xEA48);
    WriteRegisterByte(RegisterType::A, 0x16);
    WriteRegisterByte(RegisterType::B, 0xFC);
    WriteRegisterByte(RegisterType::C, 0x67);
    WriteRegisterByte(RegisterType::D, 0xD1);
    WriteRegisterByte(RegisterType::E, 0x5F);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x90);
    WriteRegisterByte(RegisterType::L, 0x39);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x29F6, 0x12);
    WriteMemory(0xD15F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x16);
    CheckRegisterByte(RegisterType::B, 0xFC);
    CheckRegisterByte(RegisterType::C, 0x67);
    CheckRegisterByte(RegisterType::D, 0xD1);
    CheckRegisterByte(RegisterType::E, 0x5F);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x90);
    CheckRegisterByte(RegisterType::L, 0x39);
    WriteRegisterWord(RegisterType::PC, 0x29F6);
    WriteRegisterWord(RegisterType::SP, 0xEA48);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x29F6, 0x12);
    CheckMemory(0xD15F, 0x16);
}

void test_12_0097()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0A53);
    WriteRegisterWord(RegisterType::SP, 0x7FB5);
    WriteRegisterByte(RegisterType::A, 0xA2);
    WriteRegisterByte(RegisterType::B, 0xF2);
    WriteRegisterByte(RegisterType::C, 0xB4);
    WriteRegisterByte(RegisterType::D, 0x3A);
    WriteRegisterByte(RegisterType::E, 0x5B);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xD2);
    WriteRegisterByte(RegisterType::L, 0xFD);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0A53, 0x12);
    WriteMemory(0x3A5B, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA2);
    CheckRegisterByte(RegisterType::B, 0xF2);
    CheckRegisterByte(RegisterType::C, 0xB4);
    CheckRegisterByte(RegisterType::D, 0x3A);
    CheckRegisterByte(RegisterType::E, 0x5B);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xD2);
    CheckRegisterByte(RegisterType::L, 0xFD);
    WriteRegisterWord(RegisterType::PC, 0x0A53);
    WriteRegisterWord(RegisterType::SP, 0x7FB5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0A53, 0x12);
    CheckMemory(0x3A5B, 0xA2);
}

void test_12_0098()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1152);
    WriteRegisterWord(RegisterType::SP, 0x3BAF);
    WriteRegisterByte(RegisterType::A, 0xE4);
    WriteRegisterByte(RegisterType::B, 0x83);
    WriteRegisterByte(RegisterType::C, 0x52);
    WriteRegisterByte(RegisterType::D, 0x80);
    WriteRegisterByte(RegisterType::E, 0x26);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x01);
    WriteRegisterByte(RegisterType::L, 0x08);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1152, 0x12);
    WriteMemory(0x8026, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE4);
    CheckRegisterByte(RegisterType::B, 0x83);
    CheckRegisterByte(RegisterType::C, 0x52);
    CheckRegisterByte(RegisterType::D, 0x80);
    CheckRegisterByte(RegisterType::E, 0x26);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x01);
    CheckRegisterByte(RegisterType::L, 0x08);
    WriteRegisterWord(RegisterType::PC, 0x1152);
    WriteRegisterWord(RegisterType::SP, 0x3BAF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1152, 0x12);
    CheckMemory(0x8026, 0xE4);
}

void test_12_0099()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x73AA);
    WriteRegisterWord(RegisterType::SP, 0xADA8);
    WriteRegisterByte(RegisterType::A, 0x02);
    WriteRegisterByte(RegisterType::B, 0x76);
    WriteRegisterByte(RegisterType::C, 0xA9);
    WriteRegisterByte(RegisterType::D, 0x9F);
    WriteRegisterByte(RegisterType::E, 0x3C);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x3F);
    WriteRegisterByte(RegisterType::L, 0x7F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x73AA, 0x12);
    WriteMemory(0x9F3C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x02);
    CheckRegisterByte(RegisterType::B, 0x76);
    CheckRegisterByte(RegisterType::C, 0xA9);
    CheckRegisterByte(RegisterType::D, 0x9F);
    CheckRegisterByte(RegisterType::E, 0x3C);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x3F);
    CheckRegisterByte(RegisterType::L, 0x7F);
    WriteRegisterWord(RegisterType::PC, 0x73AA);
    WriteRegisterWord(RegisterType::SP, 0xADA8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x73AA, 0x12);
    CheckMemory(0x9F3C, 0x02);
}

void test_12_009A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x425B);
    WriteRegisterWord(RegisterType::SP, 0x549F);
    WriteRegisterByte(RegisterType::A, 0xD1);
    WriteRegisterByte(RegisterType::B, 0x60);
    WriteRegisterByte(RegisterType::C, 0xDA);
    WriteRegisterByte(RegisterType::D, 0x4E);
    WriteRegisterByte(RegisterType::E, 0x64);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x13);
    WriteRegisterByte(RegisterType::L, 0xD1);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x425B, 0x12);
    WriteMemory(0x4E64, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD1);
    CheckRegisterByte(RegisterType::B, 0x60);
    CheckRegisterByte(RegisterType::C, 0xDA);
    CheckRegisterByte(RegisterType::D, 0x4E);
    CheckRegisterByte(RegisterType::E, 0x64);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x13);
    CheckRegisterByte(RegisterType::L, 0xD1);
    WriteRegisterWord(RegisterType::PC, 0x425B);
    WriteRegisterWord(RegisterType::SP, 0x549F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x425B, 0x12);
    CheckMemory(0x4E64, 0xD1);
}

void test_12_009B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF0CF);
    WriteRegisterWord(RegisterType::SP, 0xB68A);
    WriteRegisterByte(RegisterType::A, 0x2E);
    WriteRegisterByte(RegisterType::B, 0xE4);
    WriteRegisterByte(RegisterType::C, 0xA4);
    WriteRegisterByte(RegisterType::D, 0x0E);
    WriteRegisterByte(RegisterType::E, 0x9D);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x8B);
    WriteRegisterByte(RegisterType::L, 0xF1);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0E9D, 0x00);
    WriteMemory(0xF0CF, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2E);
    CheckRegisterByte(RegisterType::B, 0xE4);
    CheckRegisterByte(RegisterType::C, 0xA4);
    CheckRegisterByte(RegisterType::D, 0x0E);
    CheckRegisterByte(RegisterType::E, 0x9D);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x8B);
    CheckRegisterByte(RegisterType::L, 0xF1);
    WriteRegisterWord(RegisterType::PC, 0xF0CF);
    WriteRegisterWord(RegisterType::SP, 0xB68A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0E9D, 0x2E);
    CheckMemory(0xF0CF, 0x12);
}

void test_12_009C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7A67);
    WriteRegisterWord(RegisterType::SP, 0xCB1E);
    WriteRegisterByte(RegisterType::A, 0x6C);
    WriteRegisterByte(RegisterType::B, 0xD2);
    WriteRegisterByte(RegisterType::C, 0x11);
    WriteRegisterByte(RegisterType::D, 0xC9);
    WriteRegisterByte(RegisterType::E, 0x2E);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x96);
    WriteRegisterByte(RegisterType::L, 0x5B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7A67, 0x12);
    WriteMemory(0xC92E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6C);
    CheckRegisterByte(RegisterType::B, 0xD2);
    CheckRegisterByte(RegisterType::C, 0x11);
    CheckRegisterByte(RegisterType::D, 0xC9);
    CheckRegisterByte(RegisterType::E, 0x2E);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x96);
    CheckRegisterByte(RegisterType::L, 0x5B);
    WriteRegisterWord(RegisterType::PC, 0x7A67);
    WriteRegisterWord(RegisterType::SP, 0xCB1E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7A67, 0x12);
    CheckMemory(0xC92E, 0x6C);
}

void test_12_009D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7F7B);
    WriteRegisterWord(RegisterType::SP, 0x5C07);
    WriteRegisterByte(RegisterType::A, 0xE1);
    WriteRegisterByte(RegisterType::B, 0x79);
    WriteRegisterByte(RegisterType::C, 0x2F);
    WriteRegisterByte(RegisterType::D, 0x67);
    WriteRegisterByte(RegisterType::E, 0x66);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xD7);
    WriteRegisterByte(RegisterType::L, 0x77);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6766, 0x00);
    WriteMemory(0x7F7B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE1);
    CheckRegisterByte(RegisterType::B, 0x79);
    CheckRegisterByte(RegisterType::C, 0x2F);
    CheckRegisterByte(RegisterType::D, 0x67);
    CheckRegisterByte(RegisterType::E, 0x66);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xD7);
    CheckRegisterByte(RegisterType::L, 0x77);
    WriteRegisterWord(RegisterType::PC, 0x7F7B);
    WriteRegisterWord(RegisterType::SP, 0x5C07);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6766, 0xE1);
    CheckMemory(0x7F7B, 0x12);
}

void test_12_009E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x670A);
    WriteRegisterWord(RegisterType::SP, 0xF886);
    WriteRegisterByte(RegisterType::A, 0x53);
    WriteRegisterByte(RegisterType::B, 0xC3);
    WriteRegisterByte(RegisterType::C, 0x94);
    WriteRegisterByte(RegisterType::D, 0x4D);
    WriteRegisterByte(RegisterType::E, 0x8C);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x35);
    WriteRegisterByte(RegisterType::L, 0xDF);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4D8C, 0x00);
    WriteMemory(0x670A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x53);
    CheckRegisterByte(RegisterType::B, 0xC3);
    CheckRegisterByte(RegisterType::C, 0x94);
    CheckRegisterByte(RegisterType::D, 0x4D);
    CheckRegisterByte(RegisterType::E, 0x8C);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x35);
    CheckRegisterByte(RegisterType::L, 0xDF);
    WriteRegisterWord(RegisterType::PC, 0x670A);
    WriteRegisterWord(RegisterType::SP, 0xF886);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4D8C, 0x53);
    CheckMemory(0x670A, 0x12);
}

void test_12_009F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEB7D);
    WriteRegisterWord(RegisterType::SP, 0x52E0);
    WriteRegisterByte(RegisterType::A, 0x74);
    WriteRegisterByte(RegisterType::B, 0x0E);
    WriteRegisterByte(RegisterType::C, 0xC4);
    WriteRegisterByte(RegisterType::D, 0xE6);
    WriteRegisterByte(RegisterType::E, 0x1B);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xD7);
    WriteRegisterByte(RegisterType::L, 0x51);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xE61B, 0x00);
    WriteMemory(0xEB7D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x74);
    CheckRegisterByte(RegisterType::B, 0x0E);
    CheckRegisterByte(RegisterType::C, 0xC4);
    CheckRegisterByte(RegisterType::D, 0xE6);
    CheckRegisterByte(RegisterType::E, 0x1B);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xD7);
    CheckRegisterByte(RegisterType::L, 0x51);
    WriteRegisterWord(RegisterType::PC, 0xEB7D);
    WriteRegisterWord(RegisterType::SP, 0x52E0);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xE61B, 0x74);
    CheckMemory(0xEB7D, 0x12);
}

void test_12_00A0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x12A7);
    WriteRegisterWord(RegisterType::SP, 0x1615);
    WriteRegisterByte(RegisterType::A, 0xB7);
    WriteRegisterByte(RegisterType::B, 0x25);
    WriteRegisterByte(RegisterType::C, 0x0B);
    WriteRegisterByte(RegisterType::D, 0x8F);
    WriteRegisterByte(RegisterType::E, 0x47);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x34);
    WriteRegisterByte(RegisterType::L, 0x4A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x12A7, 0x12);
    WriteMemory(0x8F47, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB7);
    CheckRegisterByte(RegisterType::B, 0x25);
    CheckRegisterByte(RegisterType::C, 0x0B);
    CheckRegisterByte(RegisterType::D, 0x8F);
    CheckRegisterByte(RegisterType::E, 0x47);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x34);
    CheckRegisterByte(RegisterType::L, 0x4A);
    WriteRegisterWord(RegisterType::PC, 0x12A7);
    WriteRegisterWord(RegisterType::SP, 0x1615);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x12A7, 0x12);
    CheckMemory(0x8F47, 0xB7);
}

void test_12_00A1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCBB6);
    WriteRegisterWord(RegisterType::SP, 0x2D4B);
    WriteRegisterByte(RegisterType::A, 0xDF);
    WriteRegisterByte(RegisterType::B, 0x83);
    WriteRegisterByte(RegisterType::C, 0x13);
    WriteRegisterByte(RegisterType::D, 0x6B);
    WriteRegisterByte(RegisterType::E, 0x83);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xDB);
    WriteRegisterByte(RegisterType::L, 0x6D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6B83, 0x00);
    WriteMemory(0xCBB6, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDF);
    CheckRegisterByte(RegisterType::B, 0x83);
    CheckRegisterByte(RegisterType::C, 0x13);
    CheckRegisterByte(RegisterType::D, 0x6B);
    CheckRegisterByte(RegisterType::E, 0x83);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xDB);
    CheckRegisterByte(RegisterType::L, 0x6D);
    WriteRegisterWord(RegisterType::PC, 0xCBB6);
    WriteRegisterWord(RegisterType::SP, 0x2D4B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6B83, 0xDF);
    CheckMemory(0xCBB6, 0x12);
}

void test_12_00A2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9320);
    WriteRegisterWord(RegisterType::SP, 0x83D4);
    WriteRegisterByte(RegisterType::A, 0xB7);
    WriteRegisterByte(RegisterType::B, 0x16);
    WriteRegisterByte(RegisterType::C, 0x24);
    WriteRegisterByte(RegisterType::D, 0xD2);
    WriteRegisterByte(RegisterType::E, 0xC0);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xAA);
    WriteRegisterByte(RegisterType::L, 0xF3);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9320, 0x12);
    WriteMemory(0xD2C0, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB7);
    CheckRegisterByte(RegisterType::B, 0x16);
    CheckRegisterByte(RegisterType::C, 0x24);
    CheckRegisterByte(RegisterType::D, 0xD2);
    CheckRegisterByte(RegisterType::E, 0xC0);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xAA);
    CheckRegisterByte(RegisterType::L, 0xF3);
    WriteRegisterWord(RegisterType::PC, 0x9320);
    WriteRegisterWord(RegisterType::SP, 0x83D4);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9320, 0x12);
    CheckMemory(0xD2C0, 0xB7);
}

void test_12_00A3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x072E);
    WriteRegisterWord(RegisterType::SP, 0xD809);
    WriteRegisterByte(RegisterType::A, 0xFF);
    WriteRegisterByte(RegisterType::B, 0x0B);
    WriteRegisterByte(RegisterType::C, 0xD8);
    WriteRegisterByte(RegisterType::D, 0x26);
    WriteRegisterByte(RegisterType::E, 0xD9);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x9B);
    WriteRegisterByte(RegisterType::L, 0x1A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x072E, 0x12);
    WriteMemory(0x26D9, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFF);
    CheckRegisterByte(RegisterType::B, 0x0B);
    CheckRegisterByte(RegisterType::C, 0xD8);
    CheckRegisterByte(RegisterType::D, 0x26);
    CheckRegisterByte(RegisterType::E, 0xD9);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x9B);
    CheckRegisterByte(RegisterType::L, 0x1A);
    WriteRegisterWord(RegisterType::PC, 0x072E);
    WriteRegisterWord(RegisterType::SP, 0xD809);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x072E, 0x12);
    CheckMemory(0x26D9, 0xFF);
}

void test_12_00A4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD27C);
    WriteRegisterWord(RegisterType::SP, 0x461A);
    WriteRegisterByte(RegisterType::A, 0x66);
    WriteRegisterByte(RegisterType::B, 0x33);
    WriteRegisterByte(RegisterType::C, 0xF5);
    WriteRegisterByte(RegisterType::D, 0xFC);
    WriteRegisterByte(RegisterType::E, 0xC4);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x20);
    WriteRegisterByte(RegisterType::L, 0x5E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xD27C, 0x12);
    WriteMemory(0xFCC4, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x66);
    CheckRegisterByte(RegisterType::B, 0x33);
    CheckRegisterByte(RegisterType::C, 0xF5);
    CheckRegisterByte(RegisterType::D, 0xFC);
    CheckRegisterByte(RegisterType::E, 0xC4);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x20);
    CheckRegisterByte(RegisterType::L, 0x5E);
    WriteRegisterWord(RegisterType::PC, 0xD27C);
    WriteRegisterWord(RegisterType::SP, 0x461A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xD27C, 0x12);
    CheckMemory(0xFCC4, 0x66);
}

void test_12_00A5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8417);
    WriteRegisterWord(RegisterType::SP, 0x919E);
    WriteRegisterByte(RegisterType::A, 0xFA);
    WriteRegisterByte(RegisterType::B, 0x6B);
    WriteRegisterByte(RegisterType::C, 0xF5);
    WriteRegisterByte(RegisterType::D, 0x78);
    WriteRegisterByte(RegisterType::E, 0x0B);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xB4);
    WriteRegisterByte(RegisterType::L, 0x32);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x780B, 0x00);
    WriteMemory(0x8417, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFA);
    CheckRegisterByte(RegisterType::B, 0x6B);
    CheckRegisterByte(RegisterType::C, 0xF5);
    CheckRegisterByte(RegisterType::D, 0x78);
    CheckRegisterByte(RegisterType::E, 0x0B);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xB4);
    CheckRegisterByte(RegisterType::L, 0x32);
    WriteRegisterWord(RegisterType::PC, 0x8417);
    WriteRegisterWord(RegisterType::SP, 0x919E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x780B, 0xFA);
    CheckMemory(0x8417, 0x12);
}

void test_12_00A6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7DE4);
    WriteRegisterWord(RegisterType::SP, 0x9B06);
    WriteRegisterByte(RegisterType::A, 0x22);
    WriteRegisterByte(RegisterType::B, 0x8B);
    WriteRegisterByte(RegisterType::C, 0xD8);
    WriteRegisterByte(RegisterType::D, 0xC3);
    WriteRegisterByte(RegisterType::E, 0xC5);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x35);
    WriteRegisterByte(RegisterType::L, 0xC0);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7DE4, 0x12);
    WriteMemory(0xC3C5, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x22);
    CheckRegisterByte(RegisterType::B, 0x8B);
    CheckRegisterByte(RegisterType::C, 0xD8);
    CheckRegisterByte(RegisterType::D, 0xC3);
    CheckRegisterByte(RegisterType::E, 0xC5);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x35);
    CheckRegisterByte(RegisterType::L, 0xC0);
    WriteRegisterWord(RegisterType::PC, 0x7DE4);
    WriteRegisterWord(RegisterType::SP, 0x9B06);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7DE4, 0x12);
    CheckMemory(0xC3C5, 0x22);
}

void test_12_00A7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x463B);
    WriteRegisterWord(RegisterType::SP, 0x701A);
    WriteRegisterByte(RegisterType::A, 0xDB);
    WriteRegisterByte(RegisterType::B, 0x73);
    WriteRegisterByte(RegisterType::C, 0x79);
    WriteRegisterByte(RegisterType::D, 0xA7);
    WriteRegisterByte(RegisterType::E, 0x4E);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x14);
    WriteRegisterByte(RegisterType::L, 0x53);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x463B, 0x12);
    WriteMemory(0xA74E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDB);
    CheckRegisterByte(RegisterType::B, 0x73);
    CheckRegisterByte(RegisterType::C, 0x79);
    CheckRegisterByte(RegisterType::D, 0xA7);
    CheckRegisterByte(RegisterType::E, 0x4E);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x14);
    CheckRegisterByte(RegisterType::L, 0x53);
    WriteRegisterWord(RegisterType::PC, 0x463B);
    WriteRegisterWord(RegisterType::SP, 0x701A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x463B, 0x12);
    CheckMemory(0xA74E, 0xDB);
}

void test_12_00A8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0508);
    WriteRegisterWord(RegisterType::SP, 0x1397);
    WriteRegisterByte(RegisterType::A, 0x30);
    WriteRegisterByte(RegisterType::B, 0x7A);
    WriteRegisterByte(RegisterType::C, 0x6F);
    WriteRegisterByte(RegisterType::D, 0x37);
    WriteRegisterByte(RegisterType::E, 0x62);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x1A);
    WriteRegisterByte(RegisterType::L, 0x12);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0508, 0x12);
    WriteMemory(0x3762, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x30);
    CheckRegisterByte(RegisterType::B, 0x7A);
    CheckRegisterByte(RegisterType::C, 0x6F);
    CheckRegisterByte(RegisterType::D, 0x37);
    CheckRegisterByte(RegisterType::E, 0x62);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x1A);
    CheckRegisterByte(RegisterType::L, 0x12);
    WriteRegisterWord(RegisterType::PC, 0x0508);
    WriteRegisterWord(RegisterType::SP, 0x1397);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0508, 0x12);
    CheckMemory(0x3762, 0x30);
}

void test_12_00A9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE03B);
    WriteRegisterWord(RegisterType::SP, 0xB2B3);
    WriteRegisterByte(RegisterType::A, 0xCB);
    WriteRegisterByte(RegisterType::B, 0xA5);
    WriteRegisterByte(RegisterType::C, 0x2E);
    WriteRegisterByte(RegisterType::D, 0xC1);
    WriteRegisterByte(RegisterType::E, 0x45);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xCC);
    WriteRegisterByte(RegisterType::L, 0xF1);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xC145, 0x00);
    WriteMemory(0xE03B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCB);
    CheckRegisterByte(RegisterType::B, 0xA5);
    CheckRegisterByte(RegisterType::C, 0x2E);
    CheckRegisterByte(RegisterType::D, 0xC1);
    CheckRegisterByte(RegisterType::E, 0x45);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xCC);
    CheckRegisterByte(RegisterType::L, 0xF1);
    WriteRegisterWord(RegisterType::PC, 0xE03B);
    WriteRegisterWord(RegisterType::SP, 0xB2B3);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xC145, 0xCB);
    CheckMemory(0xE03B, 0x12);
}

void test_12_00AA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE21C);
    WriteRegisterWord(RegisterType::SP, 0x6486);
    WriteRegisterByte(RegisterType::A, 0x86);
    WriteRegisterByte(RegisterType::B, 0x4C);
    WriteRegisterByte(RegisterType::C, 0xD9);
    WriteRegisterByte(RegisterType::D, 0xA4);
    WriteRegisterByte(RegisterType::E, 0x7C);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x90);
    WriteRegisterByte(RegisterType::L, 0x3A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xA47C, 0x00);
    WriteMemory(0xE21C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x86);
    CheckRegisterByte(RegisterType::B, 0x4C);
    CheckRegisterByte(RegisterType::C, 0xD9);
    CheckRegisterByte(RegisterType::D, 0xA4);
    CheckRegisterByte(RegisterType::E, 0x7C);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x90);
    CheckRegisterByte(RegisterType::L, 0x3A);
    WriteRegisterWord(RegisterType::PC, 0xE21C);
    WriteRegisterWord(RegisterType::SP, 0x6486);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xA47C, 0x86);
    CheckMemory(0xE21C, 0x12);
}

void test_12_00AB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7C59);
    WriteRegisterWord(RegisterType::SP, 0x76CB);
    WriteRegisterByte(RegisterType::A, 0xF7);
    WriteRegisterByte(RegisterType::B, 0xF1);
    WriteRegisterByte(RegisterType::C, 0xE8);
    WriteRegisterByte(RegisterType::D, 0x08);
    WriteRegisterByte(RegisterType::E, 0xC1);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xEC);
    WriteRegisterByte(RegisterType::L, 0xFD);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x08C1, 0x00);
    WriteMemory(0x7C59, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF7);
    CheckRegisterByte(RegisterType::B, 0xF1);
    CheckRegisterByte(RegisterType::C, 0xE8);
    CheckRegisterByte(RegisterType::D, 0x08);
    CheckRegisterByte(RegisterType::E, 0xC1);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xEC);
    CheckRegisterByte(RegisterType::L, 0xFD);
    WriteRegisterWord(RegisterType::PC, 0x7C59);
    WriteRegisterWord(RegisterType::SP, 0x76CB);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x08C1, 0xF7);
    CheckMemory(0x7C59, 0x12);
}

void test_12_00AC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5AF2);
    WriteRegisterWord(RegisterType::SP, 0x0A50);
    WriteRegisterByte(RegisterType::A, 0x84);
    WriteRegisterByte(RegisterType::B, 0x7C);
    WriteRegisterByte(RegisterType::C, 0x48);
    WriteRegisterByte(RegisterType::D, 0x10);
    WriteRegisterByte(RegisterType::E, 0xB0);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x35);
    WriteRegisterByte(RegisterType::L, 0xF5);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x10B0, 0x00);
    WriteMemory(0x5AF2, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x84);
    CheckRegisterByte(RegisterType::B, 0x7C);
    CheckRegisterByte(RegisterType::C, 0x48);
    CheckRegisterByte(RegisterType::D, 0x10);
    CheckRegisterByte(RegisterType::E, 0xB0);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x35);
    CheckRegisterByte(RegisterType::L, 0xF5);
    WriteRegisterWord(RegisterType::PC, 0x5AF2);
    WriteRegisterWord(RegisterType::SP, 0x0A50);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x10B0, 0x84);
    CheckMemory(0x5AF2, 0x12);
}

void test_12_00AD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4FA1);
    WriteRegisterWord(RegisterType::SP, 0xE5E1);
    WriteRegisterByte(RegisterType::A, 0x59);
    WriteRegisterByte(RegisterType::B, 0x4F);
    WriteRegisterByte(RegisterType::C, 0x16);
    WriteRegisterByte(RegisterType::D, 0x35);
    WriteRegisterByte(RegisterType::E, 0x40);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x24);
    WriteRegisterByte(RegisterType::L, 0x84);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3540, 0x00);
    WriteMemory(0x4FA1, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x59);
    CheckRegisterByte(RegisterType::B, 0x4F);
    CheckRegisterByte(RegisterType::C, 0x16);
    CheckRegisterByte(RegisterType::D, 0x35);
    CheckRegisterByte(RegisterType::E, 0x40);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x24);
    CheckRegisterByte(RegisterType::L, 0x84);
    WriteRegisterWord(RegisterType::PC, 0x4FA1);
    WriteRegisterWord(RegisterType::SP, 0xE5E1);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3540, 0x59);
    CheckMemory(0x4FA1, 0x12);
}

void test_12_00AE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD782);
    WriteRegisterWord(RegisterType::SP, 0x2878);
    WriteRegisterByte(RegisterType::A, 0x2F);
    WriteRegisterByte(RegisterType::B, 0xB9);
    WriteRegisterByte(RegisterType::C, 0xCD);
    WriteRegisterByte(RegisterType::D, 0xE1);
    WriteRegisterByte(RegisterType::E, 0x58);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xD3);
    WriteRegisterByte(RegisterType::L, 0x39);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xD782, 0x12);
    WriteMemory(0xE158, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2F);
    CheckRegisterByte(RegisterType::B, 0xB9);
    CheckRegisterByte(RegisterType::C, 0xCD);
    CheckRegisterByte(RegisterType::D, 0xE1);
    CheckRegisterByte(RegisterType::E, 0x58);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xD3);
    CheckRegisterByte(RegisterType::L, 0x39);
    WriteRegisterWord(RegisterType::PC, 0xD782);
    WriteRegisterWord(RegisterType::SP, 0x2878);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xD782, 0x12);
    CheckMemory(0xE158, 0x2F);
}

void test_12_00AF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2CD6);
    WriteRegisterWord(RegisterType::SP, 0x5295);
    WriteRegisterByte(RegisterType::A, 0xBB);
    WriteRegisterByte(RegisterType::B, 0x76);
    WriteRegisterByte(RegisterType::C, 0x2C);
    WriteRegisterByte(RegisterType::D, 0x9D);
    WriteRegisterByte(RegisterType::E, 0x90);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x04);
    WriteRegisterByte(RegisterType::L, 0xC5);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2CD6, 0x12);
    WriteMemory(0x9D90, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBB);
    CheckRegisterByte(RegisterType::B, 0x76);
    CheckRegisterByte(RegisterType::C, 0x2C);
    CheckRegisterByte(RegisterType::D, 0x9D);
    CheckRegisterByte(RegisterType::E, 0x90);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x04);
    CheckRegisterByte(RegisterType::L, 0xC5);
    WriteRegisterWord(RegisterType::PC, 0x2CD6);
    WriteRegisterWord(RegisterType::SP, 0x5295);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2CD6, 0x12);
    CheckMemory(0x9D90, 0xBB);
}

void test_12_00B0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE29D);
    WriteRegisterWord(RegisterType::SP, 0xCCD3);
    WriteRegisterByte(RegisterType::A, 0x15);
    WriteRegisterByte(RegisterType::B, 0x29);
    WriteRegisterByte(RegisterType::C, 0xC1);
    WriteRegisterByte(RegisterType::D, 0x18);
    WriteRegisterByte(RegisterType::E, 0xBE);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xF2);
    WriteRegisterByte(RegisterType::L, 0xF3);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x18BE, 0x00);
    WriteMemory(0xE29D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x15);
    CheckRegisterByte(RegisterType::B, 0x29);
    CheckRegisterByte(RegisterType::C, 0xC1);
    CheckRegisterByte(RegisterType::D, 0x18);
    CheckRegisterByte(RegisterType::E, 0xBE);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xF2);
    CheckRegisterByte(RegisterType::L, 0xF3);
    WriteRegisterWord(RegisterType::PC, 0xE29D);
    WriteRegisterWord(RegisterType::SP, 0xCCD3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x18BE, 0x15);
    CheckMemory(0xE29D, 0x12);
}

void test_12_00B1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFF90);
    WriteRegisterWord(RegisterType::SP, 0xC0F0);
    WriteRegisterByte(RegisterType::A, 0xFA);
    WriteRegisterByte(RegisterType::B, 0xF8);
    WriteRegisterByte(RegisterType::C, 0x80);
    WriteRegisterByte(RegisterType::D, 0x0F);
    WriteRegisterByte(RegisterType::E, 0x58);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x0A);
    WriteRegisterByte(RegisterType::L, 0x99);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0F58, 0x00);
    WriteMemory(0xFF90, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFA);
    CheckRegisterByte(RegisterType::B, 0xF8);
    CheckRegisterByte(RegisterType::C, 0x80);
    CheckRegisterByte(RegisterType::D, 0x0F);
    CheckRegisterByte(RegisterType::E, 0x58);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x0A);
    CheckRegisterByte(RegisterType::L, 0x99);
    WriteRegisterWord(RegisterType::PC, 0xFF90);
    WriteRegisterWord(RegisterType::SP, 0xC0F0);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0F58, 0xFA);
    CheckMemory(0xFF90, 0x12);
}

void test_12_00B2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8FB3);
    WriteRegisterWord(RegisterType::SP, 0x0169);
    WriteRegisterByte(RegisterType::A, 0x12);
    WriteRegisterByte(RegisterType::B, 0x3D);
    WriteRegisterByte(RegisterType::C, 0x83);
    WriteRegisterByte(RegisterType::D, 0x10);
    WriteRegisterByte(RegisterType::E, 0xF8);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xBF);
    WriteRegisterByte(RegisterType::L, 0xF6);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x10F8, 0x00);
    WriteMemory(0x8FB3, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x12);
    CheckRegisterByte(RegisterType::B, 0x3D);
    CheckRegisterByte(RegisterType::C, 0x83);
    CheckRegisterByte(RegisterType::D, 0x10);
    CheckRegisterByte(RegisterType::E, 0xF8);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xBF);
    CheckRegisterByte(RegisterType::L, 0xF6);
    WriteRegisterWord(RegisterType::PC, 0x8FB3);
    WriteRegisterWord(RegisterType::SP, 0x0169);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x10F8, 0x12);
    CheckMemory(0x8FB3, 0x12);
}

void test_12_00B3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2C01);
    WriteRegisterWord(RegisterType::SP, 0xD4F8);
    WriteRegisterByte(RegisterType::A, 0xCA);
    WriteRegisterByte(RegisterType::B, 0x21);
    WriteRegisterByte(RegisterType::C, 0x3F);
    WriteRegisterByte(RegisterType::D, 0x3D);
    WriteRegisterByte(RegisterType::E, 0x38);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x08);
    WriteRegisterByte(RegisterType::L, 0xF8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2C01, 0x12);
    WriteMemory(0x3D38, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCA);
    CheckRegisterByte(RegisterType::B, 0x21);
    CheckRegisterByte(RegisterType::C, 0x3F);
    CheckRegisterByte(RegisterType::D, 0x3D);
    CheckRegisterByte(RegisterType::E, 0x38);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x08);
    CheckRegisterByte(RegisterType::L, 0xF8);
    WriteRegisterWord(RegisterType::PC, 0x2C01);
    WriteRegisterWord(RegisterType::SP, 0xD4F8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2C01, 0x12);
    CheckMemory(0x3D38, 0xCA);
}

void test_12_00B4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5D8C);
    WriteRegisterWord(RegisterType::SP, 0x9E45);
    WriteRegisterByte(RegisterType::A, 0xD7);
    WriteRegisterByte(RegisterType::B, 0xF2);
    WriteRegisterByte(RegisterType::C, 0x19);
    WriteRegisterByte(RegisterType::D, 0x49);
    WriteRegisterByte(RegisterType::E, 0x75);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x14);
    WriteRegisterByte(RegisterType::L, 0xDB);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4975, 0x00);
    WriteMemory(0x5D8C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD7);
    CheckRegisterByte(RegisterType::B, 0xF2);
    CheckRegisterByte(RegisterType::C, 0x19);
    CheckRegisterByte(RegisterType::D, 0x49);
    CheckRegisterByte(RegisterType::E, 0x75);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x14);
    CheckRegisterByte(RegisterType::L, 0xDB);
    WriteRegisterWord(RegisterType::PC, 0x5D8C);
    WriteRegisterWord(RegisterType::SP, 0x9E45);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4975, 0xD7);
    CheckMemory(0x5D8C, 0x12);
}

void test_12_00B5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x26FB);
    WriteRegisterWord(RegisterType::SP, 0xB6B9);
    WriteRegisterByte(RegisterType::A, 0xFF);
    WriteRegisterByte(RegisterType::B, 0x01);
    WriteRegisterByte(RegisterType::C, 0xE5);
    WriteRegisterByte(RegisterType::D, 0x24);
    WriteRegisterByte(RegisterType::E, 0x7A);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x83);
    WriteRegisterByte(RegisterType::L, 0x63);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x247A, 0x00);
    WriteMemory(0x26FB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFF);
    CheckRegisterByte(RegisterType::B, 0x01);
    CheckRegisterByte(RegisterType::C, 0xE5);
    CheckRegisterByte(RegisterType::D, 0x24);
    CheckRegisterByte(RegisterType::E, 0x7A);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x83);
    CheckRegisterByte(RegisterType::L, 0x63);
    WriteRegisterWord(RegisterType::PC, 0x26FB);
    WriteRegisterWord(RegisterType::SP, 0xB6B9);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x247A, 0xFF);
    CheckMemory(0x26FB, 0x12);
}

void test_12_00B6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8066);
    WriteRegisterWord(RegisterType::SP, 0x02F5);
    WriteRegisterByte(RegisterType::A, 0x6B);
    WriteRegisterByte(RegisterType::B, 0x19);
    WriteRegisterByte(RegisterType::C, 0x6C);
    WriteRegisterByte(RegisterType::D, 0xCC);
    WriteRegisterByte(RegisterType::E, 0xA8);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x8B);
    WriteRegisterByte(RegisterType::L, 0x74);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x8066, 0x12);
    WriteMemory(0xCCA8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6B);
    CheckRegisterByte(RegisterType::B, 0x19);
    CheckRegisterByte(RegisterType::C, 0x6C);
    CheckRegisterByte(RegisterType::D, 0xCC);
    CheckRegisterByte(RegisterType::E, 0xA8);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x8B);
    CheckRegisterByte(RegisterType::L, 0x74);
    WriteRegisterWord(RegisterType::PC, 0x8066);
    WriteRegisterWord(RegisterType::SP, 0x02F5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x8066, 0x12);
    CheckMemory(0xCCA8, 0x6B);
}

void test_12_00B7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0A0E);
    WriteRegisterWord(RegisterType::SP, 0x09EC);
    WriteRegisterByte(RegisterType::A, 0x72);
    WriteRegisterByte(RegisterType::B, 0x17);
    WriteRegisterByte(RegisterType::C, 0x6E);
    WriteRegisterByte(RegisterType::D, 0x2E);
    WriteRegisterByte(RegisterType::E, 0x70);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xCF);
    WriteRegisterByte(RegisterType::L, 0xA5);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0A0E, 0x12);
    WriteMemory(0x2E70, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x72);
    CheckRegisterByte(RegisterType::B, 0x17);
    CheckRegisterByte(RegisterType::C, 0x6E);
    CheckRegisterByte(RegisterType::D, 0x2E);
    CheckRegisterByte(RegisterType::E, 0x70);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xCF);
    CheckRegisterByte(RegisterType::L, 0xA5);
    WriteRegisterWord(RegisterType::PC, 0x0A0E);
    WriteRegisterWord(RegisterType::SP, 0x09EC);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0A0E, 0x12);
    CheckMemory(0x2E70, 0x72);
}

void test_12_00B8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5843);
    WriteRegisterWord(RegisterType::SP, 0x0835);
    WriteRegisterByte(RegisterType::A, 0x03);
    WriteRegisterByte(RegisterType::B, 0x76);
    WriteRegisterByte(RegisterType::C, 0x9E);
    WriteRegisterByte(RegisterType::D, 0x22);
    WriteRegisterByte(RegisterType::E, 0x89);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x42);
    WriteRegisterByte(RegisterType::L, 0xB2);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2289, 0x00);
    WriteMemory(0x5843, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x03);
    CheckRegisterByte(RegisterType::B, 0x76);
    CheckRegisterByte(RegisterType::C, 0x9E);
    CheckRegisterByte(RegisterType::D, 0x22);
    CheckRegisterByte(RegisterType::E, 0x89);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x42);
    CheckRegisterByte(RegisterType::L, 0xB2);
    WriteRegisterWord(RegisterType::PC, 0x5843);
    WriteRegisterWord(RegisterType::SP, 0x0835);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2289, 0x03);
    CheckMemory(0x5843, 0x12);
}

void test_12_00B9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x065E);
    WriteRegisterWord(RegisterType::SP, 0xE726);
    WriteRegisterByte(RegisterType::A, 0xAE);
    WriteRegisterByte(RegisterType::B, 0xE3);
    WriteRegisterByte(RegisterType::C, 0xF0);
    WriteRegisterByte(RegisterType::D, 0xD9);
    WriteRegisterByte(RegisterType::E, 0x6C);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x43);
    WriteRegisterByte(RegisterType::L, 0xAC);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x065E, 0x12);
    WriteMemory(0xD96C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAE);
    CheckRegisterByte(RegisterType::B, 0xE3);
    CheckRegisterByte(RegisterType::C, 0xF0);
    CheckRegisterByte(RegisterType::D, 0xD9);
    CheckRegisterByte(RegisterType::E, 0x6C);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x43);
    CheckRegisterByte(RegisterType::L, 0xAC);
    WriteRegisterWord(RegisterType::PC, 0x065E);
    WriteRegisterWord(RegisterType::SP, 0xE726);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x065E, 0x12);
    CheckMemory(0xD96C, 0xAE);
}

void test_12_00BA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAA45);
    WriteRegisterWord(RegisterType::SP, 0x73E6);
    WriteRegisterByte(RegisterType::A, 0xE2);
    WriteRegisterByte(RegisterType::B, 0x5A);
    WriteRegisterByte(RegisterType::C, 0x3F);
    WriteRegisterByte(RegisterType::D, 0x9F);
    WriteRegisterByte(RegisterType::E, 0x95);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x86);
    WriteRegisterByte(RegisterType::L, 0x6B);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9F95, 0x00);
    WriteMemory(0xAA45, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE2);
    CheckRegisterByte(RegisterType::B, 0x5A);
    CheckRegisterByte(RegisterType::C, 0x3F);
    CheckRegisterByte(RegisterType::D, 0x9F);
    CheckRegisterByte(RegisterType::E, 0x95);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x86);
    CheckRegisterByte(RegisterType::L, 0x6B);
    WriteRegisterWord(RegisterType::PC, 0xAA45);
    WriteRegisterWord(RegisterType::SP, 0x73E6);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9F95, 0xE2);
    CheckMemory(0xAA45, 0x12);
}

void test_12_00BB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x06B6);
    WriteRegisterWord(RegisterType::SP, 0x988A);
    WriteRegisterByte(RegisterType::A, 0x9E);
    WriteRegisterByte(RegisterType::B, 0x9B);
    WriteRegisterByte(RegisterType::C, 0x05);
    WriteRegisterByte(RegisterType::D, 0xEE);
    WriteRegisterByte(RegisterType::E, 0xCA);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x87);
    WriteRegisterByte(RegisterType::L, 0x04);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x06B6, 0x12);
    WriteMemory(0xEECA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9E);
    CheckRegisterByte(RegisterType::B, 0x9B);
    CheckRegisterByte(RegisterType::C, 0x05);
    CheckRegisterByte(RegisterType::D, 0xEE);
    CheckRegisterByte(RegisterType::E, 0xCA);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x87);
    CheckRegisterByte(RegisterType::L, 0x04);
    WriteRegisterWord(RegisterType::PC, 0x06B6);
    WriteRegisterWord(RegisterType::SP, 0x988A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x06B6, 0x12);
    CheckMemory(0xEECA, 0x9E);
}

void test_12_00BC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF4C3);
    WriteRegisterWord(RegisterType::SP, 0x2AF6);
    WriteRegisterByte(RegisterType::A, 0xCE);
    WriteRegisterByte(RegisterType::B, 0xCE);
    WriteRegisterByte(RegisterType::C, 0x21);
    WriteRegisterByte(RegisterType::D, 0xF8);
    WriteRegisterByte(RegisterType::E, 0xDC);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x02);
    WriteRegisterByte(RegisterType::L, 0xE0);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xF4C3, 0x12);
    WriteMemory(0xF8DC, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCE);
    CheckRegisterByte(RegisterType::B, 0xCE);
    CheckRegisterByte(RegisterType::C, 0x21);
    CheckRegisterByte(RegisterType::D, 0xF8);
    CheckRegisterByte(RegisterType::E, 0xDC);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x02);
    CheckRegisterByte(RegisterType::L, 0xE0);
    WriteRegisterWord(RegisterType::PC, 0xF4C3);
    WriteRegisterWord(RegisterType::SP, 0x2AF6);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xF4C3, 0x12);
    CheckMemory(0xF8DC, 0xCE);
}

void test_12_00BD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x937B);
    WriteRegisterWord(RegisterType::SP, 0x541C);
    WriteRegisterByte(RegisterType::A, 0x40);
    WriteRegisterByte(RegisterType::B, 0x9B);
    WriteRegisterByte(RegisterType::C, 0x66);
    WriteRegisterByte(RegisterType::D, 0xBE);
    WriteRegisterByte(RegisterType::E, 0xF0);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xA6);
    WriteRegisterByte(RegisterType::L, 0x76);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x937B, 0x12);
    WriteMemory(0xBEF0, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x40);
    CheckRegisterByte(RegisterType::B, 0x9B);
    CheckRegisterByte(RegisterType::C, 0x66);
    CheckRegisterByte(RegisterType::D, 0xBE);
    CheckRegisterByte(RegisterType::E, 0xF0);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xA6);
    CheckRegisterByte(RegisterType::L, 0x76);
    WriteRegisterWord(RegisterType::PC, 0x937B);
    WriteRegisterWord(RegisterType::SP, 0x541C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x937B, 0x12);
    CheckMemory(0xBEF0, 0x40);
}

void test_12_00BE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3BE2);
    WriteRegisterWord(RegisterType::SP, 0xE759);
    WriteRegisterByte(RegisterType::A, 0xEB);
    WriteRegisterByte(RegisterType::B, 0xFE);
    WriteRegisterByte(RegisterType::C, 0xD8);
    WriteRegisterByte(RegisterType::D, 0x41);
    WriteRegisterByte(RegisterType::E, 0xF8);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xB3);
    WriteRegisterByte(RegisterType::L, 0x5D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3BE2, 0x12);
    WriteMemory(0x41F8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xEB);
    CheckRegisterByte(RegisterType::B, 0xFE);
    CheckRegisterByte(RegisterType::C, 0xD8);
    CheckRegisterByte(RegisterType::D, 0x41);
    CheckRegisterByte(RegisterType::E, 0xF8);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xB3);
    CheckRegisterByte(RegisterType::L, 0x5D);
    WriteRegisterWord(RegisterType::PC, 0x3BE2);
    WriteRegisterWord(RegisterType::SP, 0xE759);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3BE2, 0x12);
    CheckMemory(0x41F8, 0xEB);
}

void test_12_00BF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF610);
    WriteRegisterWord(RegisterType::SP, 0x9D4C);
    WriteRegisterByte(RegisterType::A, 0xF6);
    WriteRegisterByte(RegisterType::B, 0xA6);
    WriteRegisterByte(RegisterType::C, 0x8A);
    WriteRegisterByte(RegisterType::D, 0x9F);
    WriteRegisterByte(RegisterType::E, 0xCC);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x52);
    WriteRegisterByte(RegisterType::L, 0x48);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9FCC, 0x00);
    WriteMemory(0xF610, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF6);
    CheckRegisterByte(RegisterType::B, 0xA6);
    CheckRegisterByte(RegisterType::C, 0x8A);
    CheckRegisterByte(RegisterType::D, 0x9F);
    CheckRegisterByte(RegisterType::E, 0xCC);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x52);
    CheckRegisterByte(RegisterType::L, 0x48);
    WriteRegisterWord(RegisterType::PC, 0xF610);
    WriteRegisterWord(RegisterType::SP, 0x9D4C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9FCC, 0xF6);
    CheckMemory(0xF610, 0x12);
}

void test_12_00C0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x65B9);
    WriteRegisterWord(RegisterType::SP, 0x21C8);
    WriteRegisterByte(RegisterType::A, 0x05);
    WriteRegisterByte(RegisterType::B, 0x67);
    WriteRegisterByte(RegisterType::C, 0xC2);
    WriteRegisterByte(RegisterType::D, 0xAF);
    WriteRegisterByte(RegisterType::E, 0x99);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x53);
    WriteRegisterByte(RegisterType::L, 0x24);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x65B9, 0x12);
    WriteMemory(0xAF99, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x05);
    CheckRegisterByte(RegisterType::B, 0x67);
    CheckRegisterByte(RegisterType::C, 0xC2);
    CheckRegisterByte(RegisterType::D, 0xAF);
    CheckRegisterByte(RegisterType::E, 0x99);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x53);
    CheckRegisterByte(RegisterType::L, 0x24);
    WriteRegisterWord(RegisterType::PC, 0x65B9);
    WriteRegisterWord(RegisterType::SP, 0x21C8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x65B9, 0x12);
    CheckMemory(0xAF99, 0x05);
}

void test_12_00C1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x056D);
    WriteRegisterWord(RegisterType::SP, 0x18D3);
    WriteRegisterByte(RegisterType::A, 0x0A);
    WriteRegisterByte(RegisterType::B, 0xEF);
    WriteRegisterByte(RegisterType::C, 0xDE);
    WriteRegisterByte(RegisterType::D, 0x32);
    WriteRegisterByte(RegisterType::E, 0x73);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x1C);
    WriteRegisterByte(RegisterType::L, 0x29);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x056D, 0x12);
    WriteMemory(0x3273, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0A);
    CheckRegisterByte(RegisterType::B, 0xEF);
    CheckRegisterByte(RegisterType::C, 0xDE);
    CheckRegisterByte(RegisterType::D, 0x32);
    CheckRegisterByte(RegisterType::E, 0x73);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x1C);
    CheckRegisterByte(RegisterType::L, 0x29);
    WriteRegisterWord(RegisterType::PC, 0x056D);
    WriteRegisterWord(RegisterType::SP, 0x18D3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x056D, 0x12);
    CheckMemory(0x3273, 0x0A);
}

void test_12_00C2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x64E2);
    WriteRegisterWord(RegisterType::SP, 0x66F6);
    WriteRegisterByte(RegisterType::A, 0xAB);
    WriteRegisterByte(RegisterType::B, 0x29);
    WriteRegisterByte(RegisterType::C, 0x8C);
    WriteRegisterByte(RegisterType::D, 0x5B);
    WriteRegisterByte(RegisterType::E, 0x73);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x6D);
    WriteRegisterByte(RegisterType::L, 0x67);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5B73, 0x00);
    WriteMemory(0x64E2, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAB);
    CheckRegisterByte(RegisterType::B, 0x29);
    CheckRegisterByte(RegisterType::C, 0x8C);
    CheckRegisterByte(RegisterType::D, 0x5B);
    CheckRegisterByte(RegisterType::E, 0x73);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x6D);
    CheckRegisterByte(RegisterType::L, 0x67);
    WriteRegisterWord(RegisterType::PC, 0x64E2);
    WriteRegisterWord(RegisterType::SP, 0x66F6);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5B73, 0xAB);
    CheckMemory(0x64E2, 0x12);
}

void test_12_00C3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1945);
    WriteRegisterWord(RegisterType::SP, 0x0587);
    WriteRegisterByte(RegisterType::A, 0x5F);
    WriteRegisterByte(RegisterType::B, 0x53);
    WriteRegisterByte(RegisterType::C, 0x52);
    WriteRegisterByte(RegisterType::D, 0xBA);
    WriteRegisterByte(RegisterType::E, 0xB9);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x89);
    WriteRegisterByte(RegisterType::L, 0xCF);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1945, 0x12);
    WriteMemory(0xBAB9, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5F);
    CheckRegisterByte(RegisterType::B, 0x53);
    CheckRegisterByte(RegisterType::C, 0x52);
    CheckRegisterByte(RegisterType::D, 0xBA);
    CheckRegisterByte(RegisterType::E, 0xB9);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x89);
    CheckRegisterByte(RegisterType::L, 0xCF);
    WriteRegisterWord(RegisterType::PC, 0x1945);
    WriteRegisterWord(RegisterType::SP, 0x0587);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1945, 0x12);
    CheckMemory(0xBAB9, 0x5F);
}

void test_12_00C4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAF99);
    WriteRegisterWord(RegisterType::SP, 0x57C8);
    WriteRegisterByte(RegisterType::A, 0xB0);
    WriteRegisterByte(RegisterType::B, 0x2D);
    WriteRegisterByte(RegisterType::C, 0xFE);
    WriteRegisterByte(RegisterType::D, 0x3A);
    WriteRegisterByte(RegisterType::E, 0x28);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xDF);
    WriteRegisterByte(RegisterType::L, 0xDB);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3A28, 0x00);
    WriteMemory(0xAF99, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB0);
    CheckRegisterByte(RegisterType::B, 0x2D);
    CheckRegisterByte(RegisterType::C, 0xFE);
    CheckRegisterByte(RegisterType::D, 0x3A);
    CheckRegisterByte(RegisterType::E, 0x28);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xDF);
    CheckRegisterByte(RegisterType::L, 0xDB);
    WriteRegisterWord(RegisterType::PC, 0xAF99);
    WriteRegisterWord(RegisterType::SP, 0x57C8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3A28, 0xB0);
    CheckMemory(0xAF99, 0x12);
}

void test_12_00C5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8D49);
    WriteRegisterWord(RegisterType::SP, 0x117F);
    WriteRegisterByte(RegisterType::A, 0xD1);
    WriteRegisterByte(RegisterType::B, 0xA7);
    WriteRegisterByte(RegisterType::C, 0x77);
    WriteRegisterByte(RegisterType::D, 0xC2);
    WriteRegisterByte(RegisterType::E, 0xE7);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x7D);
    WriteRegisterByte(RegisterType::L, 0x3E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x8D49, 0x12);
    WriteMemory(0xC2E7, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD1);
    CheckRegisterByte(RegisterType::B, 0xA7);
    CheckRegisterByte(RegisterType::C, 0x77);
    CheckRegisterByte(RegisterType::D, 0xC2);
    CheckRegisterByte(RegisterType::E, 0xE7);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x7D);
    CheckRegisterByte(RegisterType::L, 0x3E);
    WriteRegisterWord(RegisterType::PC, 0x8D49);
    WriteRegisterWord(RegisterType::SP, 0x117F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x8D49, 0x12);
    CheckMemory(0xC2E7, 0xD1);
}

void test_12_00C6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x406D);
    WriteRegisterWord(RegisterType::SP, 0x2CED);
    WriteRegisterByte(RegisterType::A, 0xFC);
    WriteRegisterByte(RegisterType::B, 0x5B);
    WriteRegisterByte(RegisterType::C, 0x1D);
    WriteRegisterByte(RegisterType::D, 0x1C);
    WriteRegisterByte(RegisterType::E, 0xE6);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xFE);
    WriteRegisterByte(RegisterType::L, 0x2D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1CE6, 0x00);
    WriteMemory(0x406D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFC);
    CheckRegisterByte(RegisterType::B, 0x5B);
    CheckRegisterByte(RegisterType::C, 0x1D);
    CheckRegisterByte(RegisterType::D, 0x1C);
    CheckRegisterByte(RegisterType::E, 0xE6);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xFE);
    CheckRegisterByte(RegisterType::L, 0x2D);
    WriteRegisterWord(RegisterType::PC, 0x406D);
    WriteRegisterWord(RegisterType::SP, 0x2CED);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1CE6, 0xFC);
    CheckMemory(0x406D, 0x12);
}

void test_12_00C7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF04D);
    WriteRegisterWord(RegisterType::SP, 0x2094);
    WriteRegisterByte(RegisterType::A, 0x1B);
    WriteRegisterByte(RegisterType::B, 0xA6);
    WriteRegisterByte(RegisterType::C, 0x5A);
    WriteRegisterByte(RegisterType::D, 0x32);
    WriteRegisterByte(RegisterType::E, 0x9F);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x9B);
    WriteRegisterByte(RegisterType::L, 0xBA);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x329F, 0x00);
    WriteMemory(0xF04D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1B);
    CheckRegisterByte(RegisterType::B, 0xA6);
    CheckRegisterByte(RegisterType::C, 0x5A);
    CheckRegisterByte(RegisterType::D, 0x32);
    CheckRegisterByte(RegisterType::E, 0x9F);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x9B);
    CheckRegisterByte(RegisterType::L, 0xBA);
    WriteRegisterWord(RegisterType::PC, 0xF04D);
    WriteRegisterWord(RegisterType::SP, 0x2094);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x329F, 0x1B);
    CheckMemory(0xF04D, 0x12);
}

void test_12_00C8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF37E);
    WriteRegisterWord(RegisterType::SP, 0x7574);
    WriteRegisterByte(RegisterType::A, 0xBF);
    WriteRegisterByte(RegisterType::B, 0x04);
    WriteRegisterByte(RegisterType::C, 0x97);
    WriteRegisterByte(RegisterType::D, 0xCB);
    WriteRegisterByte(RegisterType::E, 0x90);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x3B);
    WriteRegisterByte(RegisterType::L, 0x88);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xCB90, 0x00);
    WriteMemory(0xF37E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBF);
    CheckRegisterByte(RegisterType::B, 0x04);
    CheckRegisterByte(RegisterType::C, 0x97);
    CheckRegisterByte(RegisterType::D, 0xCB);
    CheckRegisterByte(RegisterType::E, 0x90);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x3B);
    CheckRegisterByte(RegisterType::L, 0x88);
    WriteRegisterWord(RegisterType::PC, 0xF37E);
    WriteRegisterWord(RegisterType::SP, 0x7574);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xCB90, 0xBF);
    CheckMemory(0xF37E, 0x12);
}

void test_12_00C9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2CAE);
    WriteRegisterWord(RegisterType::SP, 0xBB03);
    WriteRegisterByte(RegisterType::A, 0xB2);
    WriteRegisterByte(RegisterType::B, 0xE6);
    WriteRegisterByte(RegisterType::C, 0x6C);
    WriteRegisterByte(RegisterType::D, 0xD6);
    WriteRegisterByte(RegisterType::E, 0x7E);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xCA);
    WriteRegisterByte(RegisterType::L, 0xAF);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2CAE, 0x12);
    WriteMemory(0xD67E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB2);
    CheckRegisterByte(RegisterType::B, 0xE6);
    CheckRegisterByte(RegisterType::C, 0x6C);
    CheckRegisterByte(RegisterType::D, 0xD6);
    CheckRegisterByte(RegisterType::E, 0x7E);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xCA);
    CheckRegisterByte(RegisterType::L, 0xAF);
    WriteRegisterWord(RegisterType::PC, 0x2CAE);
    WriteRegisterWord(RegisterType::SP, 0xBB03);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2CAE, 0x12);
    CheckMemory(0xD67E, 0xB2);
}

void test_12_00CA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2A39);
    WriteRegisterWord(RegisterType::SP, 0xFBD3);
    WriteRegisterByte(RegisterType::A, 0x54);
    WriteRegisterByte(RegisterType::B, 0x3D);
    WriteRegisterByte(RegisterType::C, 0x47);
    WriteRegisterByte(RegisterType::D, 0xBF);
    WriteRegisterByte(RegisterType::E, 0x40);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x51);
    WriteRegisterByte(RegisterType::L, 0x20);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2A39, 0x12);
    WriteMemory(0xBF40, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x54);
    CheckRegisterByte(RegisterType::B, 0x3D);
    CheckRegisterByte(RegisterType::C, 0x47);
    CheckRegisterByte(RegisterType::D, 0xBF);
    CheckRegisterByte(RegisterType::E, 0x40);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x51);
    CheckRegisterByte(RegisterType::L, 0x20);
    WriteRegisterWord(RegisterType::PC, 0x2A39);
    WriteRegisterWord(RegisterType::SP, 0xFBD3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2A39, 0x12);
    CheckMemory(0xBF40, 0x54);
}

void test_12_00CB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4A26);
    WriteRegisterWord(RegisterType::SP, 0x14C8);
    WriteRegisterByte(RegisterType::A, 0x20);
    WriteRegisterByte(RegisterType::B, 0x24);
    WriteRegisterByte(RegisterType::C, 0xD1);
    WriteRegisterByte(RegisterType::D, 0xFD);
    WriteRegisterByte(RegisterType::E, 0xC8);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x5F);
    WriteRegisterByte(RegisterType::L, 0x03);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4A26, 0x12);
    WriteMemory(0xFDC8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x20);
    CheckRegisterByte(RegisterType::B, 0x24);
    CheckRegisterByte(RegisterType::C, 0xD1);
    CheckRegisterByte(RegisterType::D, 0xFD);
    CheckRegisterByte(RegisterType::E, 0xC8);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x5F);
    CheckRegisterByte(RegisterType::L, 0x03);
    WriteRegisterWord(RegisterType::PC, 0x4A26);
    WriteRegisterWord(RegisterType::SP, 0x14C8);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4A26, 0x12);
    CheckMemory(0xFDC8, 0x20);
}

void test_12_00CC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x37FF);
    WriteRegisterWord(RegisterType::SP, 0x5304);
    WriteRegisterByte(RegisterType::A, 0xAF);
    WriteRegisterByte(RegisterType::B, 0x42);
    WriteRegisterByte(RegisterType::C, 0xD8);
    WriteRegisterByte(RegisterType::D, 0x80);
    WriteRegisterByte(RegisterType::E, 0xCD);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x74);
    WriteRegisterByte(RegisterType::L, 0xB7);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x37FF, 0x12);
    WriteMemory(0x80CD, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAF);
    CheckRegisterByte(RegisterType::B, 0x42);
    CheckRegisterByte(RegisterType::C, 0xD8);
    CheckRegisterByte(RegisterType::D, 0x80);
    CheckRegisterByte(RegisterType::E, 0xCD);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x74);
    CheckRegisterByte(RegisterType::L, 0xB7);
    WriteRegisterWord(RegisterType::PC, 0x37FF);
    WriteRegisterWord(RegisterType::SP, 0x5304);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x37FF, 0x12);
    CheckMemory(0x80CD, 0xAF);
}

void test_12_00CD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x416E);
    WriteRegisterWord(RegisterType::SP, 0x60C1);
    WriteRegisterByte(RegisterType::A, 0x44);
    WriteRegisterByte(RegisterType::B, 0x3D);
    WriteRegisterByte(RegisterType::C, 0x4F);
    WriteRegisterByte(RegisterType::D, 0xAB);
    WriteRegisterByte(RegisterType::E, 0x7D);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x9A);
    WriteRegisterByte(RegisterType::L, 0x70);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x416E, 0x12);
    WriteMemory(0xAB7D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x44);
    CheckRegisterByte(RegisterType::B, 0x3D);
    CheckRegisterByte(RegisterType::C, 0x4F);
    CheckRegisterByte(RegisterType::D, 0xAB);
    CheckRegisterByte(RegisterType::E, 0x7D);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x9A);
    CheckRegisterByte(RegisterType::L, 0x70);
    WriteRegisterWord(RegisterType::PC, 0x416E);
    WriteRegisterWord(RegisterType::SP, 0x60C1);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x416E, 0x12);
    CheckMemory(0xAB7D, 0x44);
}

void test_12_00CE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x59D1);
    WriteRegisterWord(RegisterType::SP, 0xE350);
    WriteRegisterByte(RegisterType::A, 0xD5);
    WriteRegisterByte(RegisterType::B, 0xC4);
    WriteRegisterByte(RegisterType::C, 0x93);
    WriteRegisterByte(RegisterType::D, 0x39);
    WriteRegisterByte(RegisterType::E, 0x6A);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xA8);
    WriteRegisterByte(RegisterType::L, 0x61);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x396A, 0x00);
    WriteMemory(0x59D1, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD5);
    CheckRegisterByte(RegisterType::B, 0xC4);
    CheckRegisterByte(RegisterType::C, 0x93);
    CheckRegisterByte(RegisterType::D, 0x39);
    CheckRegisterByte(RegisterType::E, 0x6A);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xA8);
    CheckRegisterByte(RegisterType::L, 0x61);
    WriteRegisterWord(RegisterType::PC, 0x59D1);
    WriteRegisterWord(RegisterType::SP, 0xE350);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x396A, 0xD5);
    CheckMemory(0x59D1, 0x12);
}

void test_12_00CF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3080);
    WriteRegisterWord(RegisterType::SP, 0xFE05);
    WriteRegisterByte(RegisterType::A, 0x9F);
    WriteRegisterByte(RegisterType::B, 0xBE);
    WriteRegisterByte(RegisterType::C, 0x36);
    WriteRegisterByte(RegisterType::D, 0x4C);
    WriteRegisterByte(RegisterType::E, 0x7C);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x23);
    WriteRegisterByte(RegisterType::L, 0x11);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3080, 0x12);
    WriteMemory(0x4C7C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9F);
    CheckRegisterByte(RegisterType::B, 0xBE);
    CheckRegisterByte(RegisterType::C, 0x36);
    CheckRegisterByte(RegisterType::D, 0x4C);
    CheckRegisterByte(RegisterType::E, 0x7C);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x23);
    CheckRegisterByte(RegisterType::L, 0x11);
    WriteRegisterWord(RegisterType::PC, 0x3080);
    WriteRegisterWord(RegisterType::SP, 0xFE05);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3080, 0x12);
    CheckMemory(0x4C7C, 0x9F);
}

void test_12_00D0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5C1A);
    WriteRegisterWord(RegisterType::SP, 0x2943);
    WriteRegisterByte(RegisterType::A, 0xD6);
    WriteRegisterByte(RegisterType::B, 0x9C);
    WriteRegisterByte(RegisterType::C, 0x36);
    WriteRegisterByte(RegisterType::D, 0x83);
    WriteRegisterByte(RegisterType::E, 0x0C);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x4B);
    WriteRegisterByte(RegisterType::L, 0xCF);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5C1A, 0x12);
    WriteMemory(0x830C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD6);
    CheckRegisterByte(RegisterType::B, 0x9C);
    CheckRegisterByte(RegisterType::C, 0x36);
    CheckRegisterByte(RegisterType::D, 0x83);
    CheckRegisterByte(RegisterType::E, 0x0C);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x4B);
    CheckRegisterByte(RegisterType::L, 0xCF);
    WriteRegisterWord(RegisterType::PC, 0x5C1A);
    WriteRegisterWord(RegisterType::SP, 0x2943);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5C1A, 0x12);
    CheckMemory(0x830C, 0xD6);
}

void test_12_00D1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCB4A);
    WriteRegisterWord(RegisterType::SP, 0x1EEA);
    WriteRegisterByte(RegisterType::A, 0x6F);
    WriteRegisterByte(RegisterType::B, 0xBF);
    WriteRegisterByte(RegisterType::C, 0xD2);
    WriteRegisterByte(RegisterType::D, 0x0B);
    WriteRegisterByte(RegisterType::E, 0x46);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x45);
    WriteRegisterByte(RegisterType::L, 0xFC);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0B46, 0x00);
    WriteMemory(0xCB4A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6F);
    CheckRegisterByte(RegisterType::B, 0xBF);
    CheckRegisterByte(RegisterType::C, 0xD2);
    CheckRegisterByte(RegisterType::D, 0x0B);
    CheckRegisterByte(RegisterType::E, 0x46);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x45);
    CheckRegisterByte(RegisterType::L, 0xFC);
    WriteRegisterWord(RegisterType::PC, 0xCB4A);
    WriteRegisterWord(RegisterType::SP, 0x1EEA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0B46, 0x6F);
    CheckMemory(0xCB4A, 0x12);
}

void test_12_00D2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA6E5);
    WriteRegisterWord(RegisterType::SP, 0xF9A6);
    WriteRegisterByte(RegisterType::A, 0xF3);
    WriteRegisterByte(RegisterType::B, 0x1B);
    WriteRegisterByte(RegisterType::C, 0x04);
    WriteRegisterByte(RegisterType::D, 0x40);
    WriteRegisterByte(RegisterType::E, 0xBF);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x6C);
    WriteRegisterByte(RegisterType::L, 0x7C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x40BF, 0x00);
    WriteMemory(0xA6E5, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF3);
    CheckRegisterByte(RegisterType::B, 0x1B);
    CheckRegisterByte(RegisterType::C, 0x04);
    CheckRegisterByte(RegisterType::D, 0x40);
    CheckRegisterByte(RegisterType::E, 0xBF);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x6C);
    CheckRegisterByte(RegisterType::L, 0x7C);
    WriteRegisterWord(RegisterType::PC, 0xA6E5);
    WriteRegisterWord(RegisterType::SP, 0xF9A6);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x40BF, 0xF3);
    CheckMemory(0xA6E5, 0x12);
}

void test_12_00D3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9438);
    WriteRegisterWord(RegisterType::SP, 0xBE64);
    WriteRegisterByte(RegisterType::A, 0x96);
    WriteRegisterByte(RegisterType::B, 0xF8);
    WriteRegisterByte(RegisterType::C, 0xCE);
    WriteRegisterByte(RegisterType::D, 0xDC);
    WriteRegisterByte(RegisterType::E, 0xF8);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x20);
    WriteRegisterByte(RegisterType::L, 0x21);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9438, 0x12);
    WriteMemory(0xDCF8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x96);
    CheckRegisterByte(RegisterType::B, 0xF8);
    CheckRegisterByte(RegisterType::C, 0xCE);
    CheckRegisterByte(RegisterType::D, 0xDC);
    CheckRegisterByte(RegisterType::E, 0xF8);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x20);
    CheckRegisterByte(RegisterType::L, 0x21);
    WriteRegisterWord(RegisterType::PC, 0x9438);
    WriteRegisterWord(RegisterType::SP, 0xBE64);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9438, 0x12);
    CheckMemory(0xDCF8, 0x96);
}

void test_12_00D4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF66F);
    WriteRegisterWord(RegisterType::SP, 0x6BC0);
    WriteRegisterByte(RegisterType::A, 0x97);
    WriteRegisterByte(RegisterType::B, 0x12);
    WriteRegisterByte(RegisterType::C, 0xD5);
    WriteRegisterByte(RegisterType::D, 0x4F);
    WriteRegisterByte(RegisterType::E, 0xA6);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xFE);
    WriteRegisterByte(RegisterType::L, 0x62);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4FA6, 0x00);
    WriteMemory(0xF66F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x97);
    CheckRegisterByte(RegisterType::B, 0x12);
    CheckRegisterByte(RegisterType::C, 0xD5);
    CheckRegisterByte(RegisterType::D, 0x4F);
    CheckRegisterByte(RegisterType::E, 0xA6);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xFE);
    CheckRegisterByte(RegisterType::L, 0x62);
    WriteRegisterWord(RegisterType::PC, 0xF66F);
    WriteRegisterWord(RegisterType::SP, 0x6BC0);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4FA6, 0x97);
    CheckMemory(0xF66F, 0x12);
}

void test_12_00D5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x155E);
    WriteRegisterWord(RegisterType::SP, 0xB89A);
    WriteRegisterByte(RegisterType::A, 0x90);
    WriteRegisterByte(RegisterType::B, 0x49);
    WriteRegisterByte(RegisterType::C, 0xA6);
    WriteRegisterByte(RegisterType::D, 0x30);
    WriteRegisterByte(RegisterType::E, 0xE6);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x65);
    WriteRegisterByte(RegisterType::L, 0x03);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x155E, 0x12);
    WriteMemory(0x30E6, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x90);
    CheckRegisterByte(RegisterType::B, 0x49);
    CheckRegisterByte(RegisterType::C, 0xA6);
    CheckRegisterByte(RegisterType::D, 0x30);
    CheckRegisterByte(RegisterType::E, 0xE6);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x65);
    CheckRegisterByte(RegisterType::L, 0x03);
    WriteRegisterWord(RegisterType::PC, 0x155E);
    WriteRegisterWord(RegisterType::SP, 0xB89A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x155E, 0x12);
    CheckMemory(0x30E6, 0x90);
}

void test_12_00D6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDC7B);
    WriteRegisterWord(RegisterType::SP, 0xE589);
    WriteRegisterByte(RegisterType::A, 0xD5);
    WriteRegisterByte(RegisterType::B, 0xC2);
    WriteRegisterByte(RegisterType::C, 0xFD);
    WriteRegisterByte(RegisterType::D, 0x6C);
    WriteRegisterByte(RegisterType::E, 0x73);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x25);
    WriteRegisterByte(RegisterType::L, 0x7C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6C73, 0x00);
    WriteMemory(0xDC7B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD5);
    CheckRegisterByte(RegisterType::B, 0xC2);
    CheckRegisterByte(RegisterType::C, 0xFD);
    CheckRegisterByte(RegisterType::D, 0x6C);
    CheckRegisterByte(RegisterType::E, 0x73);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x25);
    CheckRegisterByte(RegisterType::L, 0x7C);
    WriteRegisterWord(RegisterType::PC, 0xDC7B);
    WriteRegisterWord(RegisterType::SP, 0xE589);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6C73, 0xD5);
    CheckMemory(0xDC7B, 0x12);
}

void test_12_00D7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1178);
    WriteRegisterWord(RegisterType::SP, 0x55D5);
    WriteRegisterByte(RegisterType::A, 0xB5);
    WriteRegisterByte(RegisterType::B, 0x0F);
    WriteRegisterByte(RegisterType::C, 0xD1);
    WriteRegisterByte(RegisterType::D, 0x50);
    WriteRegisterByte(RegisterType::E, 0x8A);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xD9);
    WriteRegisterByte(RegisterType::L, 0x79);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1178, 0x12);
    WriteMemory(0x508A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB5);
    CheckRegisterByte(RegisterType::B, 0x0F);
    CheckRegisterByte(RegisterType::C, 0xD1);
    CheckRegisterByte(RegisterType::D, 0x50);
    CheckRegisterByte(RegisterType::E, 0x8A);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xD9);
    CheckRegisterByte(RegisterType::L, 0x79);
    WriteRegisterWord(RegisterType::PC, 0x1178);
    WriteRegisterWord(RegisterType::SP, 0x55D5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1178, 0x12);
    CheckMemory(0x508A, 0xB5);
}

void test_12_00D8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1BAB);
    WriteRegisterWord(RegisterType::SP, 0x893E);
    WriteRegisterByte(RegisterType::A, 0xDA);
    WriteRegisterByte(RegisterType::B, 0xBA);
    WriteRegisterByte(RegisterType::C, 0x78);
    WriteRegisterByte(RegisterType::D, 0x90);
    WriteRegisterByte(RegisterType::E, 0xC7);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x97);
    WriteRegisterByte(RegisterType::L, 0x27);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1BAB, 0x12);
    WriteMemory(0x90C7, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDA);
    CheckRegisterByte(RegisterType::B, 0xBA);
    CheckRegisterByte(RegisterType::C, 0x78);
    CheckRegisterByte(RegisterType::D, 0x90);
    CheckRegisterByte(RegisterType::E, 0xC7);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x97);
    CheckRegisterByte(RegisterType::L, 0x27);
    WriteRegisterWord(RegisterType::PC, 0x1BAB);
    WriteRegisterWord(RegisterType::SP, 0x893E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1BAB, 0x12);
    CheckMemory(0x90C7, 0xDA);
}

void test_12_00D9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD698);
    WriteRegisterWord(RegisterType::SP, 0xB2C1);
    WriteRegisterByte(RegisterType::A, 0xB1);
    WriteRegisterByte(RegisterType::B, 0x5F);
    WriteRegisterByte(RegisterType::C, 0xFB);
    WriteRegisterByte(RegisterType::D, 0x9F);
    WriteRegisterByte(RegisterType::E, 0x5F);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x63);
    WriteRegisterByte(RegisterType::L, 0xCF);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9F5F, 0x00);
    WriteMemory(0xD698, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB1);
    CheckRegisterByte(RegisterType::B, 0x5F);
    CheckRegisterByte(RegisterType::C, 0xFB);
    CheckRegisterByte(RegisterType::D, 0x9F);
    CheckRegisterByte(RegisterType::E, 0x5F);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x63);
    CheckRegisterByte(RegisterType::L, 0xCF);
    WriteRegisterWord(RegisterType::PC, 0xD698);
    WriteRegisterWord(RegisterType::SP, 0xB2C1);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9F5F, 0xB1);
    CheckMemory(0xD698, 0x12);
}

void test_12_00DA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x66F7);
    WriteRegisterWord(RegisterType::SP, 0xE887);
    WriteRegisterByte(RegisterType::A, 0x8C);
    WriteRegisterByte(RegisterType::B, 0x45);
    WriteRegisterByte(RegisterType::C, 0x54);
    WriteRegisterByte(RegisterType::D, 0xDD);
    WriteRegisterByte(RegisterType::E, 0xAE);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x81);
    WriteRegisterByte(RegisterType::L, 0xBA);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x66F7, 0x12);
    WriteMemory(0xDDAE, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8C);
    CheckRegisterByte(RegisterType::B, 0x45);
    CheckRegisterByte(RegisterType::C, 0x54);
    CheckRegisterByte(RegisterType::D, 0xDD);
    CheckRegisterByte(RegisterType::E, 0xAE);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x81);
    CheckRegisterByte(RegisterType::L, 0xBA);
    WriteRegisterWord(RegisterType::PC, 0x66F7);
    WriteRegisterWord(RegisterType::SP, 0xE887);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x66F7, 0x12);
    CheckMemory(0xDDAE, 0x8C);
}

void test_12_00DB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1D79);
    WriteRegisterWord(RegisterType::SP, 0x438B);
    WriteRegisterByte(RegisterType::A, 0x3A);
    WriteRegisterByte(RegisterType::B, 0x17);
    WriteRegisterByte(RegisterType::C, 0x68);
    WriteRegisterByte(RegisterType::D, 0x54);
    WriteRegisterByte(RegisterType::E, 0x8C);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xAB);
    WriteRegisterByte(RegisterType::L, 0xBA);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1D79, 0x12);
    WriteMemory(0x548C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3A);
    CheckRegisterByte(RegisterType::B, 0x17);
    CheckRegisterByte(RegisterType::C, 0x68);
    CheckRegisterByte(RegisterType::D, 0x54);
    CheckRegisterByte(RegisterType::E, 0x8C);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xAB);
    CheckRegisterByte(RegisterType::L, 0xBA);
    WriteRegisterWord(RegisterType::PC, 0x1D79);
    WriteRegisterWord(RegisterType::SP, 0x438B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1D79, 0x12);
    CheckMemory(0x548C, 0x3A);
}

void test_12_00DC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9BF6);
    WriteRegisterWord(RegisterType::SP, 0xB436);
    WriteRegisterByte(RegisterType::A, 0x74);
    WriteRegisterByte(RegisterType::B, 0x6A);
    WriteRegisterByte(RegisterType::C, 0x1E);
    WriteRegisterByte(RegisterType::D, 0x73);
    WriteRegisterByte(RegisterType::E, 0x59);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x04);
    WriteRegisterByte(RegisterType::L, 0x02);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7359, 0x00);
    WriteMemory(0x9BF6, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x74);
    CheckRegisterByte(RegisterType::B, 0x6A);
    CheckRegisterByte(RegisterType::C, 0x1E);
    CheckRegisterByte(RegisterType::D, 0x73);
    CheckRegisterByte(RegisterType::E, 0x59);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x04);
    CheckRegisterByte(RegisterType::L, 0x02);
    WriteRegisterWord(RegisterType::PC, 0x9BF6);
    WriteRegisterWord(RegisterType::SP, 0xB436);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7359, 0x74);
    CheckMemory(0x9BF6, 0x12);
}

void test_12_00DD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB153);
    WriteRegisterWord(RegisterType::SP, 0xA002);
    WriteRegisterByte(RegisterType::A, 0x63);
    WriteRegisterByte(RegisterType::B, 0xDC);
    WriteRegisterByte(RegisterType::C, 0xD3);
    WriteRegisterByte(RegisterType::D, 0x4B);
    WriteRegisterByte(RegisterType::E, 0xFE);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xFB);
    WriteRegisterByte(RegisterType::L, 0x16);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4BFE, 0x00);
    WriteMemory(0xB153, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x63);
    CheckRegisterByte(RegisterType::B, 0xDC);
    CheckRegisterByte(RegisterType::C, 0xD3);
    CheckRegisterByte(RegisterType::D, 0x4B);
    CheckRegisterByte(RegisterType::E, 0xFE);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xFB);
    CheckRegisterByte(RegisterType::L, 0x16);
    WriteRegisterWord(RegisterType::PC, 0xB153);
    WriteRegisterWord(RegisterType::SP, 0xA002);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4BFE, 0x63);
    CheckMemory(0xB153, 0x12);
}

void test_12_00DE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB277);
    WriteRegisterWord(RegisterType::SP, 0xBDB1);
    WriteRegisterByte(RegisterType::A, 0x75);
    WriteRegisterByte(RegisterType::B, 0x35);
    WriteRegisterByte(RegisterType::C, 0x0A);
    WriteRegisterByte(RegisterType::D, 0xE0);
    WriteRegisterByte(RegisterType::E, 0xC7);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x35);
    WriteRegisterByte(RegisterType::L, 0x4C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xB277, 0x12);
    WriteMemory(0xE0C7, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x75);
    CheckRegisterByte(RegisterType::B, 0x35);
    CheckRegisterByte(RegisterType::C, 0x0A);
    CheckRegisterByte(RegisterType::D, 0xE0);
    CheckRegisterByte(RegisterType::E, 0xC7);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x35);
    CheckRegisterByte(RegisterType::L, 0x4C);
    WriteRegisterWord(RegisterType::PC, 0xB277);
    WriteRegisterWord(RegisterType::SP, 0xBDB1);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xB277, 0x12);
    CheckMemory(0xE0C7, 0x75);
}

void test_12_00DF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x178F);
    WriteRegisterWord(RegisterType::SP, 0xD6D3);
    WriteRegisterByte(RegisterType::A, 0x64);
    WriteRegisterByte(RegisterType::B, 0xE9);
    WriteRegisterByte(RegisterType::C, 0xC5);
    WriteRegisterByte(RegisterType::D, 0xCC);
    WriteRegisterByte(RegisterType::E, 0xF9);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xD0);
    WriteRegisterByte(RegisterType::L, 0xC1);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x178F, 0x12);
    WriteMemory(0xCCF9, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x64);
    CheckRegisterByte(RegisterType::B, 0xE9);
    CheckRegisterByte(RegisterType::C, 0xC5);
    CheckRegisterByte(RegisterType::D, 0xCC);
    CheckRegisterByte(RegisterType::E, 0xF9);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xD0);
    CheckRegisterByte(RegisterType::L, 0xC1);
    WriteRegisterWord(RegisterType::PC, 0x178F);
    WriteRegisterWord(RegisterType::SP, 0xD6D3);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x178F, 0x12);
    CheckMemory(0xCCF9, 0x64);
}

void test_12_00E0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7997);
    WriteRegisterWord(RegisterType::SP, 0x21DC);
    WriteRegisterByte(RegisterType::A, 0x2E);
    WriteRegisterByte(RegisterType::B, 0x5B);
    WriteRegisterByte(RegisterType::C, 0xE6);
    WriteRegisterByte(RegisterType::D, 0xC8);
    WriteRegisterByte(RegisterType::E, 0xF1);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x14);
    WriteRegisterByte(RegisterType::L, 0x19);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7997, 0x12);
    WriteMemory(0xC8F1, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2E);
    CheckRegisterByte(RegisterType::B, 0x5B);
    CheckRegisterByte(RegisterType::C, 0xE6);
    CheckRegisterByte(RegisterType::D, 0xC8);
    CheckRegisterByte(RegisterType::E, 0xF1);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x14);
    CheckRegisterByte(RegisterType::L, 0x19);
    WriteRegisterWord(RegisterType::PC, 0x7997);
    WriteRegisterWord(RegisterType::SP, 0x21DC);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x7997, 0x12);
    CheckMemory(0xC8F1, 0x2E);
}

void test_12_00E1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF7D4);
    WriteRegisterWord(RegisterType::SP, 0xCAEF);
    WriteRegisterByte(RegisterType::A, 0xEF);
    WriteRegisterByte(RegisterType::B, 0xCD);
    WriteRegisterByte(RegisterType::C, 0x4C);
    WriteRegisterByte(RegisterType::D, 0x87);
    WriteRegisterByte(RegisterType::E, 0x3C);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xD6);
    WriteRegisterByte(RegisterType::L, 0x2A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x873C, 0x00);
    WriteMemory(0xF7D4, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xEF);
    CheckRegisterByte(RegisterType::B, 0xCD);
    CheckRegisterByte(RegisterType::C, 0x4C);
    CheckRegisterByte(RegisterType::D, 0x87);
    CheckRegisterByte(RegisterType::E, 0x3C);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xD6);
    CheckRegisterByte(RegisterType::L, 0x2A);
    WriteRegisterWord(RegisterType::PC, 0xF7D4);
    WriteRegisterWord(RegisterType::SP, 0xCAEF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x873C, 0xEF);
    CheckMemory(0xF7D4, 0x12);
}

void test_12_00E2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEB8F);
    WriteRegisterWord(RegisterType::SP, 0x4B57);
    WriteRegisterByte(RegisterType::A, 0xAB);
    WriteRegisterByte(RegisterType::B, 0xF0);
    WriteRegisterByte(RegisterType::C, 0x71);
    WriteRegisterByte(RegisterType::D, 0xB1);
    WriteRegisterByte(RegisterType::E, 0x87);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x38);
    WriteRegisterByte(RegisterType::L, 0x86);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB187, 0x00);
    WriteMemory(0xEB8F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAB);
    CheckRegisterByte(RegisterType::B, 0xF0);
    CheckRegisterByte(RegisterType::C, 0x71);
    CheckRegisterByte(RegisterType::D, 0xB1);
    CheckRegisterByte(RegisterType::E, 0x87);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x38);
    CheckRegisterByte(RegisterType::L, 0x86);
    WriteRegisterWord(RegisterType::PC, 0xEB8F);
    WriteRegisterWord(RegisterType::SP, 0x4B57);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xB187, 0xAB);
    CheckMemory(0xEB8F, 0x12);
}

void test_12_00E3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC3EF);
    WriteRegisterWord(RegisterType::SP, 0x06E6);
    WriteRegisterByte(RegisterType::A, 0x25);
    WriteRegisterByte(RegisterType::B, 0x40);
    WriteRegisterByte(RegisterType::C, 0xA9);
    WriteRegisterByte(RegisterType::D, 0xC2);
    WriteRegisterByte(RegisterType::E, 0x69);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x95);
    WriteRegisterByte(RegisterType::L, 0x34);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xC269, 0x00);
    WriteMemory(0xC3EF, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x25);
    CheckRegisterByte(RegisterType::B, 0x40);
    CheckRegisterByte(RegisterType::C, 0xA9);
    CheckRegisterByte(RegisterType::D, 0xC2);
    CheckRegisterByte(RegisterType::E, 0x69);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x95);
    CheckRegisterByte(RegisterType::L, 0x34);
    WriteRegisterWord(RegisterType::PC, 0xC3EF);
    WriteRegisterWord(RegisterType::SP, 0x06E6);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xC269, 0x25);
    CheckMemory(0xC3EF, 0x12);
}

void test_12_00E4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBA6E);
    WriteRegisterWord(RegisterType::SP, 0xCB28);
    WriteRegisterByte(RegisterType::A, 0xBA);
    WriteRegisterByte(RegisterType::B, 0xA9);
    WriteRegisterByte(RegisterType::C, 0x79);
    WriteRegisterByte(RegisterType::D, 0xC9);
    WriteRegisterByte(RegisterType::E, 0xBD);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x6C);
    WriteRegisterByte(RegisterType::L, 0x9F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xBA6E, 0x12);
    WriteMemory(0xC9BD, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBA);
    CheckRegisterByte(RegisterType::B, 0xA9);
    CheckRegisterByte(RegisterType::C, 0x79);
    CheckRegisterByte(RegisterType::D, 0xC9);
    CheckRegisterByte(RegisterType::E, 0xBD);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x6C);
    CheckRegisterByte(RegisterType::L, 0x9F);
    WriteRegisterWord(RegisterType::PC, 0xBA6E);
    WriteRegisterWord(RegisterType::SP, 0xCB28);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xBA6E, 0x12);
    CheckMemory(0xC9BD, 0xBA);
}

void test_12_00E5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x75C9);
    WriteRegisterWord(RegisterType::SP, 0x1F5B);
    WriteRegisterByte(RegisterType::A, 0x8F);
    WriteRegisterByte(RegisterType::B, 0xDA);
    WriteRegisterByte(RegisterType::C, 0x72);
    WriteRegisterByte(RegisterType::D, 0xDC);
    WriteRegisterByte(RegisterType::E, 0xCD);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xC4);
    WriteRegisterByte(RegisterType::L, 0x05);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x75C9, 0x12);
    WriteMemory(0xDCCD, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8F);
    CheckRegisterByte(RegisterType::B, 0xDA);
    CheckRegisterByte(RegisterType::C, 0x72);
    CheckRegisterByte(RegisterType::D, 0xDC);
    CheckRegisterByte(RegisterType::E, 0xCD);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xC4);
    CheckRegisterByte(RegisterType::L, 0x05);
    WriteRegisterWord(RegisterType::PC, 0x75C9);
    WriteRegisterWord(RegisterType::SP, 0x1F5B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x75C9, 0x12);
    CheckMemory(0xDCCD, 0x8F);
}

void test_12_00E6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF1A8);
    WriteRegisterWord(RegisterType::SP, 0xA396);
    WriteRegisterByte(RegisterType::A, 0x4C);
    WriteRegisterByte(RegisterType::B, 0x64);
    WriteRegisterByte(RegisterType::C, 0x12);
    WriteRegisterByte(RegisterType::D, 0x75);
    WriteRegisterByte(RegisterType::E, 0xBE);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xB1);
    WriteRegisterByte(RegisterType::L, 0xDD);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x75BE, 0x00);
    WriteMemory(0xF1A8, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4C);
    CheckRegisterByte(RegisterType::B, 0x64);
    CheckRegisterByte(RegisterType::C, 0x12);
    CheckRegisterByte(RegisterType::D, 0x75);
    CheckRegisterByte(RegisterType::E, 0xBE);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xB1);
    CheckRegisterByte(RegisterType::L, 0xDD);
    WriteRegisterWord(RegisterType::PC, 0xF1A8);
    WriteRegisterWord(RegisterType::SP, 0xA396);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x75BE, 0x4C);
    CheckMemory(0xF1A8, 0x12);
}

void test_12_00E7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6673);
    WriteRegisterWord(RegisterType::SP, 0x3AE6);
    WriteRegisterByte(RegisterType::A, 0xB3);
    WriteRegisterByte(RegisterType::B, 0x92);
    WriteRegisterByte(RegisterType::C, 0xD9);
    WriteRegisterByte(RegisterType::D, 0xF0);
    WriteRegisterByte(RegisterType::E, 0x73);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x93);
    WriteRegisterByte(RegisterType::L, 0x1F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6673, 0x12);
    WriteMemory(0xF073, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB3);
    CheckRegisterByte(RegisterType::B, 0x92);
    CheckRegisterByte(RegisterType::C, 0xD9);
    CheckRegisterByte(RegisterType::D, 0xF0);
    CheckRegisterByte(RegisterType::E, 0x73);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x93);
    CheckRegisterByte(RegisterType::L, 0x1F);
    WriteRegisterWord(RegisterType::PC, 0x6673);
    WriteRegisterWord(RegisterType::SP, 0x3AE6);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6673, 0x12);
    CheckMemory(0xF073, 0xB3);
}

void test_12_00E8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4635);
    WriteRegisterWord(RegisterType::SP, 0xF170);
    WriteRegisterByte(RegisterType::A, 0x33);
    WriteRegisterByte(RegisterType::B, 0x64);
    WriteRegisterByte(RegisterType::C, 0x4C);
    WriteRegisterByte(RegisterType::D, 0x24);
    WriteRegisterByte(RegisterType::E, 0xE2);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x20);
    WriteRegisterByte(RegisterType::L, 0x6E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x24E2, 0x00);
    WriteMemory(0x4635, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x33);
    CheckRegisterByte(RegisterType::B, 0x64);
    CheckRegisterByte(RegisterType::C, 0x4C);
    CheckRegisterByte(RegisterType::D, 0x24);
    CheckRegisterByte(RegisterType::E, 0xE2);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x20);
    CheckRegisterByte(RegisterType::L, 0x6E);
    WriteRegisterWord(RegisterType::PC, 0x4635);
    WriteRegisterWord(RegisterType::SP, 0xF170);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x24E2, 0x33);
    CheckMemory(0x4635, 0x12);
}

void test_12_00E9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA021);
    WriteRegisterWord(RegisterType::SP, 0xE2AD);
    WriteRegisterByte(RegisterType::A, 0x92);
    WriteRegisterByte(RegisterType::B, 0xE6);
    WriteRegisterByte(RegisterType::C, 0x2D);
    WriteRegisterByte(RegisterType::D, 0x84);
    WriteRegisterByte(RegisterType::E, 0xD3);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xF2);
    WriteRegisterByte(RegisterType::L, 0x05);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x84D3, 0x00);
    WriteMemory(0xA021, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x92);
    CheckRegisterByte(RegisterType::B, 0xE6);
    CheckRegisterByte(RegisterType::C, 0x2D);
    CheckRegisterByte(RegisterType::D, 0x84);
    CheckRegisterByte(RegisterType::E, 0xD3);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xF2);
    CheckRegisterByte(RegisterType::L, 0x05);
    WriteRegisterWord(RegisterType::PC, 0xA021);
    WriteRegisterWord(RegisterType::SP, 0xE2AD);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x84D3, 0x92);
    CheckMemory(0xA021, 0x12);
}

void test_12_00EA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xED6B);
    WriteRegisterWord(RegisterType::SP, 0x99EF);
    WriteRegisterByte(RegisterType::A, 0xCE);
    WriteRegisterByte(RegisterType::B, 0x6C);
    WriteRegisterByte(RegisterType::C, 0x2B);
    WriteRegisterByte(RegisterType::D, 0xAD);
    WriteRegisterByte(RegisterType::E, 0xF7);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xD4);
    WriteRegisterByte(RegisterType::L, 0x61);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xADF7, 0x00);
    WriteMemory(0xED6B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCE);
    CheckRegisterByte(RegisterType::B, 0x6C);
    CheckRegisterByte(RegisterType::C, 0x2B);
    CheckRegisterByte(RegisterType::D, 0xAD);
    CheckRegisterByte(RegisterType::E, 0xF7);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xD4);
    CheckRegisterByte(RegisterType::L, 0x61);
    WriteRegisterWord(RegisterType::PC, 0xED6B);
    WriteRegisterWord(RegisterType::SP, 0x99EF);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xADF7, 0xCE);
    CheckMemory(0xED6B, 0x12);
}

void test_12_00EB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB515);
    WriteRegisterWord(RegisterType::SP, 0x1740);
    WriteRegisterByte(RegisterType::A, 0x48);
    WriteRegisterByte(RegisterType::B, 0x4E);
    WriteRegisterByte(RegisterType::C, 0xE2);
    WriteRegisterByte(RegisterType::D, 0x2D);
    WriteRegisterByte(RegisterType::E, 0x73);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xB1);
    WriteRegisterByte(RegisterType::L, 0x56);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2D73, 0x00);
    WriteMemory(0xB515, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x48);
    CheckRegisterByte(RegisterType::B, 0x4E);
    CheckRegisterByte(RegisterType::C, 0xE2);
    CheckRegisterByte(RegisterType::D, 0x2D);
    CheckRegisterByte(RegisterType::E, 0x73);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xB1);
    CheckRegisterByte(RegisterType::L, 0x56);
    WriteRegisterWord(RegisterType::PC, 0xB515);
    WriteRegisterWord(RegisterType::SP, 0x1740);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2D73, 0x48);
    CheckMemory(0xB515, 0x12);
}

void test_12_00EC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x58F5);
    WriteRegisterWord(RegisterType::SP, 0x6511);
    WriteRegisterByte(RegisterType::A, 0x02);
    WriteRegisterByte(RegisterType::B, 0x9C);
    WriteRegisterByte(RegisterType::C, 0x99);
    WriteRegisterByte(RegisterType::D, 0x59);
    WriteRegisterByte(RegisterType::E, 0xB2);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x90);
    WriteRegisterByte(RegisterType::L, 0xB2);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x58F5, 0x12);
    WriteMemory(0x59B2, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x02);
    CheckRegisterByte(RegisterType::B, 0x9C);
    CheckRegisterByte(RegisterType::C, 0x99);
    CheckRegisterByte(RegisterType::D, 0x59);
    CheckRegisterByte(RegisterType::E, 0xB2);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x90);
    CheckRegisterByte(RegisterType::L, 0xB2);
    WriteRegisterWord(RegisterType::PC, 0x58F5);
    WriteRegisterWord(RegisterType::SP, 0x6511);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x58F5, 0x12);
    CheckMemory(0x59B2, 0x02);
}

void test_12_00ED()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4329);
    WriteRegisterWord(RegisterType::SP, 0xDF1E);
    WriteRegisterByte(RegisterType::A, 0xFB);
    WriteRegisterByte(RegisterType::B, 0x28);
    WriteRegisterByte(RegisterType::C, 0xA9);
    WriteRegisterByte(RegisterType::D, 0x54);
    WriteRegisterByte(RegisterType::E, 0xB5);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x56);
    WriteRegisterByte(RegisterType::L, 0x07);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4329, 0x12);
    WriteMemory(0x54B5, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFB);
    CheckRegisterByte(RegisterType::B, 0x28);
    CheckRegisterByte(RegisterType::C, 0xA9);
    CheckRegisterByte(RegisterType::D, 0x54);
    CheckRegisterByte(RegisterType::E, 0xB5);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x56);
    CheckRegisterByte(RegisterType::L, 0x07);
    WriteRegisterWord(RegisterType::PC, 0x4329);
    WriteRegisterWord(RegisterType::SP, 0xDF1E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4329, 0x12);
    CheckMemory(0x54B5, 0xFB);
}

void test_12_00EE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x88A9);
    WriteRegisterWord(RegisterType::SP, 0x7132);
    WriteRegisterByte(RegisterType::A, 0x6E);
    WriteRegisterByte(RegisterType::B, 0xE0);
    WriteRegisterByte(RegisterType::C, 0x83);
    WriteRegisterByte(RegisterType::D, 0x18);
    WriteRegisterByte(RegisterType::E, 0x1D);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x66);
    WriteRegisterByte(RegisterType::L, 0x9D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x181D, 0x00);
    WriteMemory(0x88A9, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6E);
    CheckRegisterByte(RegisterType::B, 0xE0);
    CheckRegisterByte(RegisterType::C, 0x83);
    CheckRegisterByte(RegisterType::D, 0x18);
    CheckRegisterByte(RegisterType::E, 0x1D);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x66);
    CheckRegisterByte(RegisterType::L, 0x9D);
    WriteRegisterWord(RegisterType::PC, 0x88A9);
    WriteRegisterWord(RegisterType::SP, 0x7132);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x181D, 0x6E);
    CheckMemory(0x88A9, 0x12);
}

void test_12_00EF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5878);
    WriteRegisterWord(RegisterType::SP, 0x54B3);
    WriteRegisterByte(RegisterType::A, 0xCB);
    WriteRegisterByte(RegisterType::B, 0x1E);
    WriteRegisterByte(RegisterType::C, 0xFD);
    WriteRegisterByte(RegisterType::D, 0xBD);
    WriteRegisterByte(RegisterType::E, 0x0F);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x3F);
    WriteRegisterByte(RegisterType::L, 0x73);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5878, 0x12);
    WriteMemory(0xBD0F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCB);
    CheckRegisterByte(RegisterType::B, 0x1E);
    CheckRegisterByte(RegisterType::C, 0xFD);
    CheckRegisterByte(RegisterType::D, 0xBD);
    CheckRegisterByte(RegisterType::E, 0x0F);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x3F);
    CheckRegisterByte(RegisterType::L, 0x73);
    WriteRegisterWord(RegisterType::PC, 0x5878);
    WriteRegisterWord(RegisterType::SP, 0x54B3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5878, 0x12);
    CheckMemory(0xBD0F, 0xCB);
}

void test_12_00F0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8EEF);
    WriteRegisterWord(RegisterType::SP, 0x1957);
    WriteRegisterByte(RegisterType::A, 0x1B);
    WriteRegisterByte(RegisterType::B, 0x09);
    WriteRegisterByte(RegisterType::C, 0xF5);
    WriteRegisterByte(RegisterType::D, 0xBA);
    WriteRegisterByte(RegisterType::E, 0x6C);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x75);
    WriteRegisterByte(RegisterType::L, 0x0F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x8EEF, 0x12);
    WriteMemory(0xBA6C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1B);
    CheckRegisterByte(RegisterType::B, 0x09);
    CheckRegisterByte(RegisterType::C, 0xF5);
    CheckRegisterByte(RegisterType::D, 0xBA);
    CheckRegisterByte(RegisterType::E, 0x6C);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x75);
    CheckRegisterByte(RegisterType::L, 0x0F);
    WriteRegisterWord(RegisterType::PC, 0x8EEF);
    WriteRegisterWord(RegisterType::SP, 0x1957);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x8EEF, 0x12);
    CheckMemory(0xBA6C, 0x1B);
}

void test_12_00F1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3D31);
    WriteRegisterWord(RegisterType::SP, 0xA394);
    WriteRegisterByte(RegisterType::A, 0xE6);
    WriteRegisterByte(RegisterType::B, 0x4C);
    WriteRegisterByte(RegisterType::C, 0xDA);
    WriteRegisterByte(RegisterType::D, 0x4A);
    WriteRegisterByte(RegisterType::E, 0x4A);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x95);
    WriteRegisterByte(RegisterType::L, 0x0E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3D31, 0x12);
    WriteMemory(0x4A4A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE6);
    CheckRegisterByte(RegisterType::B, 0x4C);
    CheckRegisterByte(RegisterType::C, 0xDA);
    CheckRegisterByte(RegisterType::D, 0x4A);
    CheckRegisterByte(RegisterType::E, 0x4A);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x95);
    CheckRegisterByte(RegisterType::L, 0x0E);
    WriteRegisterWord(RegisterType::PC, 0x3D31);
    WriteRegisterWord(RegisterType::SP, 0xA394);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3D31, 0x12);
    CheckMemory(0x4A4A, 0xE6);
}

void test_12_00F2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3E53);
    WriteRegisterWord(RegisterType::SP, 0xE94B);
    WriteRegisterByte(RegisterType::A, 0x92);
    WriteRegisterByte(RegisterType::B, 0x0B);
    WriteRegisterByte(RegisterType::C, 0xC0);
    WriteRegisterByte(RegisterType::D, 0x44);
    WriteRegisterByte(RegisterType::E, 0x7C);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xBC);
    WriteRegisterByte(RegisterType::L, 0xFA);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3E53, 0x12);
    WriteMemory(0x447C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x92);
    CheckRegisterByte(RegisterType::B, 0x0B);
    CheckRegisterByte(RegisterType::C, 0xC0);
    CheckRegisterByte(RegisterType::D, 0x44);
    CheckRegisterByte(RegisterType::E, 0x7C);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xBC);
    CheckRegisterByte(RegisterType::L, 0xFA);
    WriteRegisterWord(RegisterType::PC, 0x3E53);
    WriteRegisterWord(RegisterType::SP, 0xE94B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3E53, 0x12);
    CheckMemory(0x447C, 0x92);
}

void test_12_00F3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBB1C);
    WriteRegisterWord(RegisterType::SP, 0x5B13);
    WriteRegisterByte(RegisterType::A, 0xDA);
    WriteRegisterByte(RegisterType::B, 0x95);
    WriteRegisterByte(RegisterType::C, 0x74);
    WriteRegisterByte(RegisterType::D, 0x27);
    WriteRegisterByte(RegisterType::E, 0x98);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xDF);
    WriteRegisterByte(RegisterType::L, 0xD4);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2798, 0x00);
    WriteMemory(0xBB1C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDA);
    CheckRegisterByte(RegisterType::B, 0x95);
    CheckRegisterByte(RegisterType::C, 0x74);
    CheckRegisterByte(RegisterType::D, 0x27);
    CheckRegisterByte(RegisterType::E, 0x98);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xDF);
    CheckRegisterByte(RegisterType::L, 0xD4);
    WriteRegisterWord(RegisterType::PC, 0xBB1C);
    WriteRegisterWord(RegisterType::SP, 0x5B13);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2798, 0xDA);
    CheckMemory(0xBB1C, 0x12);
}

void test_12_00F4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDFFF);
    WriteRegisterWord(RegisterType::SP, 0x85FB);
    WriteRegisterByte(RegisterType::A, 0xD7);
    WriteRegisterByte(RegisterType::B, 0xD6);
    WriteRegisterByte(RegisterType::C, 0xA3);
    WriteRegisterByte(RegisterType::D, 0x3C);
    WriteRegisterByte(RegisterType::E, 0xA5);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xB7);
    WriteRegisterByte(RegisterType::L, 0x31);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3CA5, 0x00);
    WriteMemory(0xDFFF, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD7);
    CheckRegisterByte(RegisterType::B, 0xD6);
    CheckRegisterByte(RegisterType::C, 0xA3);
    CheckRegisterByte(RegisterType::D, 0x3C);
    CheckRegisterByte(RegisterType::E, 0xA5);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xB7);
    CheckRegisterByte(RegisterType::L, 0x31);
    WriteRegisterWord(RegisterType::PC, 0xDFFF);
    WriteRegisterWord(RegisterType::SP, 0x85FB);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3CA5, 0xD7);
    CheckMemory(0xDFFF, 0x12);
}

void test_12_00F5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5AF8);
    WriteRegisterWord(RegisterType::SP, 0x5BCB);
    WriteRegisterByte(RegisterType::A, 0x07);
    WriteRegisterByte(RegisterType::B, 0x79);
    WriteRegisterByte(RegisterType::C, 0x12);
    WriteRegisterByte(RegisterType::D, 0xBD);
    WriteRegisterByte(RegisterType::E, 0xC8);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x28);
    WriteRegisterByte(RegisterType::L, 0xC8);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5AF8, 0x12);
    WriteMemory(0xBDC8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x07);
    CheckRegisterByte(RegisterType::B, 0x79);
    CheckRegisterByte(RegisterType::C, 0x12);
    CheckRegisterByte(RegisterType::D, 0xBD);
    CheckRegisterByte(RegisterType::E, 0xC8);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x28);
    CheckRegisterByte(RegisterType::L, 0xC8);
    WriteRegisterWord(RegisterType::PC, 0x5AF8);
    WriteRegisterWord(RegisterType::SP, 0x5BCB);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5AF8, 0x12);
    CheckMemory(0xBDC8, 0x07);
}

void test_12_00F6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x90C4);
    WriteRegisterWord(RegisterType::SP, 0xF1B7);
    WriteRegisterByte(RegisterType::A, 0x63);
    WriteRegisterByte(RegisterType::B, 0x64);
    WriteRegisterByte(RegisterType::C, 0xDB);
    WriteRegisterByte(RegisterType::D, 0xF2);
    WriteRegisterByte(RegisterType::E, 0x09);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x2D);
    WriteRegisterByte(RegisterType::L, 0xF4);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x90C4, 0x12);
    WriteMemory(0xF209, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x63);
    CheckRegisterByte(RegisterType::B, 0x64);
    CheckRegisterByte(RegisterType::C, 0xDB);
    CheckRegisterByte(RegisterType::D, 0xF2);
    CheckRegisterByte(RegisterType::E, 0x09);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x2D);
    CheckRegisterByte(RegisterType::L, 0xF4);
    WriteRegisterWord(RegisterType::PC, 0x90C4);
    WriteRegisterWord(RegisterType::SP, 0xF1B7);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x90C4, 0x12);
    CheckMemory(0xF209, 0x63);
}

void test_12_00F7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x82B0);
    WriteRegisterWord(RegisterType::SP, 0x6114);
    WriteRegisterByte(RegisterType::A, 0xCB);
    WriteRegisterByte(RegisterType::B, 0x8C);
    WriteRegisterByte(RegisterType::C, 0x77);
    WriteRegisterByte(RegisterType::D, 0x19);
    WriteRegisterByte(RegisterType::E, 0x7D);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xF9);
    WriteRegisterByte(RegisterType::L, 0x59);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x197D, 0x00);
    WriteMemory(0x82B0, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCB);
    CheckRegisterByte(RegisterType::B, 0x8C);
    CheckRegisterByte(RegisterType::C, 0x77);
    CheckRegisterByte(RegisterType::D, 0x19);
    CheckRegisterByte(RegisterType::E, 0x7D);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xF9);
    CheckRegisterByte(RegisterType::L, 0x59);
    WriteRegisterWord(RegisterType::PC, 0x82B0);
    WriteRegisterWord(RegisterType::SP, 0x6114);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x197D, 0xCB);
    CheckMemory(0x82B0, 0x12);
}

void test_12_00F8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4901);
    WriteRegisterWord(RegisterType::SP, 0xFE1B);
    WriteRegisterByte(RegisterType::A, 0xE3);
    WriteRegisterByte(RegisterType::B, 0x51);
    WriteRegisterByte(RegisterType::C, 0x31);
    WriteRegisterByte(RegisterType::D, 0x63);
    WriteRegisterByte(RegisterType::E, 0x79);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xC2);
    WriteRegisterByte(RegisterType::L, 0x08);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4901, 0x12);
    WriteMemory(0x6379, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE3);
    CheckRegisterByte(RegisterType::B, 0x51);
    CheckRegisterByte(RegisterType::C, 0x31);
    CheckRegisterByte(RegisterType::D, 0x63);
    CheckRegisterByte(RegisterType::E, 0x79);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xC2);
    CheckRegisterByte(RegisterType::L, 0x08);
    WriteRegisterWord(RegisterType::PC, 0x4901);
    WriteRegisterWord(RegisterType::SP, 0xFE1B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4901, 0x12);
    CheckMemory(0x6379, 0xE3);
}

void test_12_00F9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC38D);
    WriteRegisterWord(RegisterType::SP, 0x9A47);
    WriteRegisterByte(RegisterType::A, 0xFD);
    WriteRegisterByte(RegisterType::B, 0xB0);
    WriteRegisterByte(RegisterType::C, 0xB3);
    WriteRegisterByte(RegisterType::D, 0x97);
    WriteRegisterByte(RegisterType::E, 0xC4);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x7C);
    WriteRegisterByte(RegisterType::L, 0x81);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x97C4, 0x00);
    WriteMemory(0xC38D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFD);
    CheckRegisterByte(RegisterType::B, 0xB0);
    CheckRegisterByte(RegisterType::C, 0xB3);
    CheckRegisterByte(RegisterType::D, 0x97);
    CheckRegisterByte(RegisterType::E, 0xC4);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x7C);
    CheckRegisterByte(RegisterType::L, 0x81);
    WriteRegisterWord(RegisterType::PC, 0xC38D);
    WriteRegisterWord(RegisterType::SP, 0x9A47);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x97C4, 0xFD);
    CheckMemory(0xC38D, 0x12);
}

void test_12_00FA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7A3E);
    WriteRegisterWord(RegisterType::SP, 0x56F7);
    WriteRegisterByte(RegisterType::A, 0xE5);
    WriteRegisterByte(RegisterType::B, 0x6D);
    WriteRegisterByte(RegisterType::C, 0x66);
    WriteRegisterByte(RegisterType::D, 0x95);
    WriteRegisterByte(RegisterType::E, 0x05);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x75);
    WriteRegisterByte(RegisterType::L, 0xFF);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7A3E, 0x12);
    WriteMemory(0x9505, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE5);
    CheckRegisterByte(RegisterType::B, 0x6D);
    CheckRegisterByte(RegisterType::C, 0x66);
    CheckRegisterByte(RegisterType::D, 0x95);
    CheckRegisterByte(RegisterType::E, 0x05);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x75);
    CheckRegisterByte(RegisterType::L, 0xFF);
    WriteRegisterWord(RegisterType::PC, 0x7A3E);
    WriteRegisterWord(RegisterType::SP, 0x56F7);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x7A3E, 0x12);
    CheckMemory(0x9505, 0xE5);
}

void test_12_00FB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x998A);
    WriteRegisterWord(RegisterType::SP, 0xF2EA);
    WriteRegisterByte(RegisterType::A, 0x4B);
    WriteRegisterByte(RegisterType::B, 0x56);
    WriteRegisterByte(RegisterType::C, 0x28);
    WriteRegisterByte(RegisterType::D, 0x46);
    WriteRegisterByte(RegisterType::E, 0xBC);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x13);
    WriteRegisterByte(RegisterType::L, 0x2E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x46BC, 0x00);
    WriteMemory(0x998A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4B);
    CheckRegisterByte(RegisterType::B, 0x56);
    CheckRegisterByte(RegisterType::C, 0x28);
    CheckRegisterByte(RegisterType::D, 0x46);
    CheckRegisterByte(RegisterType::E, 0xBC);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x13);
    CheckRegisterByte(RegisterType::L, 0x2E);
    WriteRegisterWord(RegisterType::PC, 0x998A);
    WriteRegisterWord(RegisterType::SP, 0xF2EA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x46BC, 0x4B);
    CheckMemory(0x998A, 0x12);
}

void test_12_00FC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x870E);
    WriteRegisterWord(RegisterType::SP, 0xEAF2);
    WriteRegisterByte(RegisterType::A, 0x74);
    WriteRegisterByte(RegisterType::B, 0x05);
    WriteRegisterByte(RegisterType::C, 0xDE);
    WriteRegisterByte(RegisterType::D, 0xAB);
    WriteRegisterByte(RegisterType::E, 0x80);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x94);
    WriteRegisterByte(RegisterType::L, 0x2E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x870E, 0x12);
    WriteMemory(0xAB80, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x74);
    CheckRegisterByte(RegisterType::B, 0x05);
    CheckRegisterByte(RegisterType::C, 0xDE);
    CheckRegisterByte(RegisterType::D, 0xAB);
    CheckRegisterByte(RegisterType::E, 0x80);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x94);
    CheckRegisterByte(RegisterType::L, 0x2E);
    WriteRegisterWord(RegisterType::PC, 0x870E);
    WriteRegisterWord(RegisterType::SP, 0xEAF2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x870E, 0x12);
    CheckMemory(0xAB80, 0x74);
}

void test_12_00FD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6791);
    WriteRegisterWord(RegisterType::SP, 0xF7C2);
    WriteRegisterByte(RegisterType::A, 0xF2);
    WriteRegisterByte(RegisterType::B, 0x8D);
    WriteRegisterByte(RegisterType::C, 0xF4);
    WriteRegisterByte(RegisterType::D, 0x02);
    WriteRegisterByte(RegisterType::E, 0x8B);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x16);
    WriteRegisterByte(RegisterType::L, 0x84);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x028B, 0x00);
    WriteMemory(0x6791, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF2);
    CheckRegisterByte(RegisterType::B, 0x8D);
    CheckRegisterByte(RegisterType::C, 0xF4);
    CheckRegisterByte(RegisterType::D, 0x02);
    CheckRegisterByte(RegisterType::E, 0x8B);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x16);
    CheckRegisterByte(RegisterType::L, 0x84);
    WriteRegisterWord(RegisterType::PC, 0x6791);
    WriteRegisterWord(RegisterType::SP, 0xF7C2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x028B, 0xF2);
    CheckMemory(0x6791, 0x12);
}

void test_12_00FE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC76C);
    WriteRegisterWord(RegisterType::SP, 0xA0D5);
    WriteRegisterByte(RegisterType::A, 0xA6);
    WriteRegisterByte(RegisterType::B, 0x40);
    WriteRegisterByte(RegisterType::C, 0xAF);
    WriteRegisterByte(RegisterType::D, 0x68);
    WriteRegisterByte(RegisterType::E, 0x38);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x5F);
    WriteRegisterByte(RegisterType::L, 0xB8);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6838, 0x00);
    WriteMemory(0xC76C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA6);
    CheckRegisterByte(RegisterType::B, 0x40);
    CheckRegisterByte(RegisterType::C, 0xAF);
    CheckRegisterByte(RegisterType::D, 0x68);
    CheckRegisterByte(RegisterType::E, 0x38);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x5F);
    CheckRegisterByte(RegisterType::L, 0xB8);
    WriteRegisterWord(RegisterType::PC, 0xC76C);
    WriteRegisterWord(RegisterType::SP, 0xA0D5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6838, 0xA6);
    CheckMemory(0xC76C, 0x12);
}

void test_12_00FF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5CF8);
    WriteRegisterWord(RegisterType::SP, 0xB650);
    WriteRegisterByte(RegisterType::A, 0x90);
    WriteRegisterByte(RegisterType::B, 0x20);
    WriteRegisterByte(RegisterType::C, 0x2C);
    WriteRegisterByte(RegisterType::D, 0xB7);
    WriteRegisterByte(RegisterType::E, 0x2B);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x7F);
    WriteRegisterByte(RegisterType::L, 0x38);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5CF8, 0x12);
    WriteMemory(0xB72B, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x90);
    CheckRegisterByte(RegisterType::B, 0x20);
    CheckRegisterByte(RegisterType::C, 0x2C);
    CheckRegisterByte(RegisterType::D, 0xB7);
    CheckRegisterByte(RegisterType::E, 0x2B);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x7F);
    CheckRegisterByte(RegisterType::L, 0x38);
    WriteRegisterWord(RegisterType::PC, 0x5CF8);
    WriteRegisterWord(RegisterType::SP, 0xB650);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5CF8, 0x12);
    CheckMemory(0xB72B, 0x90);
}

void test_12_0100()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE285);
    WriteRegisterWord(RegisterType::SP, 0x9F5A);
    WriteRegisterByte(RegisterType::A, 0xFD);
    WriteRegisterByte(RegisterType::B, 0x09);
    WriteRegisterByte(RegisterType::C, 0xB1);
    WriteRegisterByte(RegisterType::D, 0x7C);
    WriteRegisterByte(RegisterType::E, 0xC0);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x94);
    WriteRegisterByte(RegisterType::L, 0x37);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7CC0, 0x00);
    WriteMemory(0xE285, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFD);
    CheckRegisterByte(RegisterType::B, 0x09);
    CheckRegisterByte(RegisterType::C, 0xB1);
    CheckRegisterByte(RegisterType::D, 0x7C);
    CheckRegisterByte(RegisterType::E, 0xC0);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x94);
    CheckRegisterByte(RegisterType::L, 0x37);
    WriteRegisterWord(RegisterType::PC, 0xE285);
    WriteRegisterWord(RegisterType::SP, 0x9F5A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7CC0, 0xFD);
    CheckMemory(0xE285, 0x12);
}

void test_12_0101()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC294);
    WriteRegisterWord(RegisterType::SP, 0x069A);
    WriteRegisterByte(RegisterType::A, 0x8C);
    WriteRegisterByte(RegisterType::B, 0xD5);
    WriteRegisterByte(RegisterType::C, 0x00);
    WriteRegisterByte(RegisterType::D, 0xE8);
    WriteRegisterByte(RegisterType::E, 0x1A);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xCD);
    WriteRegisterByte(RegisterType::L, 0xA7);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xC294, 0x12);
    WriteMemory(0xE81A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8C);
    CheckRegisterByte(RegisterType::B, 0xD5);
    CheckRegisterByte(RegisterType::C, 0x00);
    CheckRegisterByte(RegisterType::D, 0xE8);
    CheckRegisterByte(RegisterType::E, 0x1A);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xCD);
    CheckRegisterByte(RegisterType::L, 0xA7);
    WriteRegisterWord(RegisterType::PC, 0xC294);
    WriteRegisterWord(RegisterType::SP, 0x069A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xC294, 0x12);
    CheckMemory(0xE81A, 0x8C);
}

void test_12_0102()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE878);
    WriteRegisterWord(RegisterType::SP, 0xC851);
    WriteRegisterByte(RegisterType::A, 0x1A);
    WriteRegisterByte(RegisterType::B, 0x47);
    WriteRegisterByte(RegisterType::C, 0xC5);
    WriteRegisterByte(RegisterType::D, 0x0F);
    WriteRegisterByte(RegisterType::E, 0x87);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xED);
    WriteRegisterByte(RegisterType::L, 0x60);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0F87, 0x00);
    WriteMemory(0xE878, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1A);
    CheckRegisterByte(RegisterType::B, 0x47);
    CheckRegisterByte(RegisterType::C, 0xC5);
    CheckRegisterByte(RegisterType::D, 0x0F);
    CheckRegisterByte(RegisterType::E, 0x87);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xED);
    CheckRegisterByte(RegisterType::L, 0x60);
    WriteRegisterWord(RegisterType::PC, 0xE878);
    WriteRegisterWord(RegisterType::SP, 0xC851);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0F87, 0x1A);
    CheckMemory(0xE878, 0x12);
}

void test_12_0103()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4CBC);
    WriteRegisterWord(RegisterType::SP, 0x6C66);
    WriteRegisterByte(RegisterType::A, 0xBF);
    WriteRegisterByte(RegisterType::B, 0xCC);
    WriteRegisterByte(RegisterType::C, 0x2F);
    WriteRegisterByte(RegisterType::D, 0xC3);
    WriteRegisterByte(RegisterType::E, 0x10);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xC7);
    WriteRegisterByte(RegisterType::L, 0x47);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4CBC, 0x12);
    WriteMemory(0xC310, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBF);
    CheckRegisterByte(RegisterType::B, 0xCC);
    CheckRegisterByte(RegisterType::C, 0x2F);
    CheckRegisterByte(RegisterType::D, 0xC3);
    CheckRegisterByte(RegisterType::E, 0x10);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xC7);
    CheckRegisterByte(RegisterType::L, 0x47);
    WriteRegisterWord(RegisterType::PC, 0x4CBC);
    WriteRegisterWord(RegisterType::SP, 0x6C66);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4CBC, 0x12);
    CheckMemory(0xC310, 0xBF);
}

void test_12_0104()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5BF8);
    WriteRegisterWord(RegisterType::SP, 0xF797);
    WriteRegisterByte(RegisterType::A, 0x0D);
    WriteRegisterByte(RegisterType::B, 0x86);
    WriteRegisterByte(RegisterType::C, 0x67);
    WriteRegisterByte(RegisterType::D, 0xAA);
    WriteRegisterByte(RegisterType::E, 0xB3);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xFB);
    WriteRegisterByte(RegisterType::L, 0x51);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5BF8, 0x12);
    WriteMemory(0xAAB3, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0D);
    CheckRegisterByte(RegisterType::B, 0x86);
    CheckRegisterByte(RegisterType::C, 0x67);
    CheckRegisterByte(RegisterType::D, 0xAA);
    CheckRegisterByte(RegisterType::E, 0xB3);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xFB);
    CheckRegisterByte(RegisterType::L, 0x51);
    WriteRegisterWord(RegisterType::PC, 0x5BF8);
    WriteRegisterWord(RegisterType::SP, 0xF797);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5BF8, 0x12);
    CheckMemory(0xAAB3, 0x0D);
}

void test_12_0105()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB01B);
    WriteRegisterWord(RegisterType::SP, 0x11FF);
    WriteRegisterByte(RegisterType::A, 0x42);
    WriteRegisterByte(RegisterType::B, 0x88);
    WriteRegisterByte(RegisterType::C, 0x7C);
    WriteRegisterByte(RegisterType::D, 0x2C);
    WriteRegisterByte(RegisterType::E, 0xD9);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x41);
    WriteRegisterByte(RegisterType::L, 0x43);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2CD9, 0x00);
    WriteMemory(0xB01B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x42);
    CheckRegisterByte(RegisterType::B, 0x88);
    CheckRegisterByte(RegisterType::C, 0x7C);
    CheckRegisterByte(RegisterType::D, 0x2C);
    CheckRegisterByte(RegisterType::E, 0xD9);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x41);
    CheckRegisterByte(RegisterType::L, 0x43);
    WriteRegisterWord(RegisterType::PC, 0xB01B);
    WriteRegisterWord(RegisterType::SP, 0x11FF);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2CD9, 0x42);
    CheckMemory(0xB01B, 0x12);
}

void test_12_0106()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x92B8);
    WriteRegisterWord(RegisterType::SP, 0x0748);
    WriteRegisterByte(RegisterType::A, 0x49);
    WriteRegisterByte(RegisterType::B, 0xC6);
    WriteRegisterByte(RegisterType::C, 0x47);
    WriteRegisterByte(RegisterType::D, 0x3A);
    WriteRegisterByte(RegisterType::E, 0x0A);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x99);
    WriteRegisterByte(RegisterType::L, 0x20);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3A0A, 0x00);
    WriteMemory(0x92B8, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x49);
    CheckRegisterByte(RegisterType::B, 0xC6);
    CheckRegisterByte(RegisterType::C, 0x47);
    CheckRegisterByte(RegisterType::D, 0x3A);
    CheckRegisterByte(RegisterType::E, 0x0A);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x99);
    CheckRegisterByte(RegisterType::L, 0x20);
    WriteRegisterWord(RegisterType::PC, 0x92B8);
    WriteRegisterWord(RegisterType::SP, 0x0748);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3A0A, 0x49);
    CheckMemory(0x92B8, 0x12);
}

void test_12_0107()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x33B2);
    WriteRegisterWord(RegisterType::SP, 0x3B4C);
    WriteRegisterByte(RegisterType::A, 0x30);
    WriteRegisterByte(RegisterType::B, 0xDF);
    WriteRegisterByte(RegisterType::C, 0xC6);
    WriteRegisterByte(RegisterType::D, 0x40);
    WriteRegisterByte(RegisterType::E, 0x4D);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x42);
    WriteRegisterByte(RegisterType::L, 0xDF);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x33B2, 0x12);
    WriteMemory(0x404D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x30);
    CheckRegisterByte(RegisterType::B, 0xDF);
    CheckRegisterByte(RegisterType::C, 0xC6);
    CheckRegisterByte(RegisterType::D, 0x40);
    CheckRegisterByte(RegisterType::E, 0x4D);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x42);
    CheckRegisterByte(RegisterType::L, 0xDF);
    WriteRegisterWord(RegisterType::PC, 0x33B2);
    WriteRegisterWord(RegisterType::SP, 0x3B4C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x33B2, 0x12);
    CheckMemory(0x404D, 0x30);
}

void test_12_0108()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD1C1);
    WriteRegisterWord(RegisterType::SP, 0x4C44);
    WriteRegisterByte(RegisterType::A, 0xDB);
    WriteRegisterByte(RegisterType::B, 0x68);
    WriteRegisterByte(RegisterType::C, 0xBC);
    WriteRegisterByte(RegisterType::D, 0xE7);
    WriteRegisterByte(RegisterType::E, 0x16);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xD9);
    WriteRegisterByte(RegisterType::L, 0x73);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xD1C1, 0x12);
    WriteMemory(0xE716, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDB);
    CheckRegisterByte(RegisterType::B, 0x68);
    CheckRegisterByte(RegisterType::C, 0xBC);
    CheckRegisterByte(RegisterType::D, 0xE7);
    CheckRegisterByte(RegisterType::E, 0x16);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xD9);
    CheckRegisterByte(RegisterType::L, 0x73);
    WriteRegisterWord(RegisterType::PC, 0xD1C1);
    WriteRegisterWord(RegisterType::SP, 0x4C44);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xD1C1, 0x12);
    CheckMemory(0xE716, 0xDB);
}

void test_12_0109()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9530);
    WriteRegisterWord(RegisterType::SP, 0x4A5D);
    WriteRegisterByte(RegisterType::A, 0x27);
    WriteRegisterByte(RegisterType::B, 0x61);
    WriteRegisterByte(RegisterType::C, 0x00);
    WriteRegisterByte(RegisterType::D, 0xC5);
    WriteRegisterByte(RegisterType::E, 0xCB);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xC2);
    WriteRegisterByte(RegisterType::L, 0x10);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9530, 0x12);
    WriteMemory(0xC5CB, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x27);
    CheckRegisterByte(RegisterType::B, 0x61);
    CheckRegisterByte(RegisterType::C, 0x00);
    CheckRegisterByte(RegisterType::D, 0xC5);
    CheckRegisterByte(RegisterType::E, 0xCB);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xC2);
    CheckRegisterByte(RegisterType::L, 0x10);
    WriteRegisterWord(RegisterType::PC, 0x9530);
    WriteRegisterWord(RegisterType::SP, 0x4A5D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9530, 0x12);
    CheckMemory(0xC5CB, 0x27);
}

void test_12_010A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2326);
    WriteRegisterWord(RegisterType::SP, 0x85BF);
    WriteRegisterByte(RegisterType::A, 0xD1);
    WriteRegisterByte(RegisterType::B, 0xA7);
    WriteRegisterByte(RegisterType::C, 0xFA);
    WriteRegisterByte(RegisterType::D, 0x63);
    WriteRegisterByte(RegisterType::E, 0xF8);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x6D);
    WriteRegisterByte(RegisterType::L, 0x82);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2326, 0x12);
    WriteMemory(0x63F8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD1);
    CheckRegisterByte(RegisterType::B, 0xA7);
    CheckRegisterByte(RegisterType::C, 0xFA);
    CheckRegisterByte(RegisterType::D, 0x63);
    CheckRegisterByte(RegisterType::E, 0xF8);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x6D);
    CheckRegisterByte(RegisterType::L, 0x82);
    WriteRegisterWord(RegisterType::PC, 0x2326);
    WriteRegisterWord(RegisterType::SP, 0x85BF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2326, 0x12);
    CheckMemory(0x63F8, 0xD1);
}

void test_12_010B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x10BE);
    WriteRegisterWord(RegisterType::SP, 0xE79A);
    WriteRegisterByte(RegisterType::A, 0xE8);
    WriteRegisterByte(RegisterType::B, 0x9E);
    WriteRegisterByte(RegisterType::C, 0x24);
    WriteRegisterByte(RegisterType::D, 0x99);
    WriteRegisterByte(RegisterType::E, 0x9C);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x3C);
    WriteRegisterByte(RegisterType::L, 0xCA);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x10BE, 0x12);
    WriteMemory(0x999C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE8);
    CheckRegisterByte(RegisterType::B, 0x9E);
    CheckRegisterByte(RegisterType::C, 0x24);
    CheckRegisterByte(RegisterType::D, 0x99);
    CheckRegisterByte(RegisterType::E, 0x9C);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x3C);
    CheckRegisterByte(RegisterType::L, 0xCA);
    WriteRegisterWord(RegisterType::PC, 0x10BE);
    WriteRegisterWord(RegisterType::SP, 0xE79A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x10BE, 0x12);
    CheckMemory(0x999C, 0xE8);
}

void test_12_010C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD33C);
    WriteRegisterWord(RegisterType::SP, 0xE297);
    WriteRegisterByte(RegisterType::A, 0x5E);
    WriteRegisterByte(RegisterType::B, 0x0E);
    WriteRegisterByte(RegisterType::C, 0x8D);
    WriteRegisterByte(RegisterType::D, 0xF8);
    WriteRegisterByte(RegisterType::E, 0x28);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x92);
    WriteRegisterByte(RegisterType::L, 0x74);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xD33C, 0x12);
    WriteMemory(0xF828, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5E);
    CheckRegisterByte(RegisterType::B, 0x0E);
    CheckRegisterByte(RegisterType::C, 0x8D);
    CheckRegisterByte(RegisterType::D, 0xF8);
    CheckRegisterByte(RegisterType::E, 0x28);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x92);
    CheckRegisterByte(RegisterType::L, 0x74);
    WriteRegisterWord(RegisterType::PC, 0xD33C);
    WriteRegisterWord(RegisterType::SP, 0xE297);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xD33C, 0x12);
    CheckMemory(0xF828, 0x5E);
}

void test_12_010D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCF54);
    WriteRegisterWord(RegisterType::SP, 0xF677);
    WriteRegisterByte(RegisterType::A, 0x6C);
    WriteRegisterByte(RegisterType::B, 0x80);
    WriteRegisterByte(RegisterType::C, 0xC8);
    WriteRegisterByte(RegisterType::D, 0x32);
    WriteRegisterByte(RegisterType::E, 0x79);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x82);
    WriteRegisterByte(RegisterType::L, 0xA3);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3279, 0x00);
    WriteMemory(0xCF54, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6C);
    CheckRegisterByte(RegisterType::B, 0x80);
    CheckRegisterByte(RegisterType::C, 0xC8);
    CheckRegisterByte(RegisterType::D, 0x32);
    CheckRegisterByte(RegisterType::E, 0x79);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x82);
    CheckRegisterByte(RegisterType::L, 0xA3);
    WriteRegisterWord(RegisterType::PC, 0xCF54);
    WriteRegisterWord(RegisterType::SP, 0xF677);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3279, 0x6C);
    CheckMemory(0xCF54, 0x12);
}

void test_12_010E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA010);
    WriteRegisterWord(RegisterType::SP, 0x77E4);
    WriteRegisterByte(RegisterType::A, 0xB5);
    WriteRegisterByte(RegisterType::B, 0x95);
    WriteRegisterByte(RegisterType::C, 0xA3);
    WriteRegisterByte(RegisterType::D, 0x74);
    WriteRegisterByte(RegisterType::E, 0x35);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x86);
    WriteRegisterByte(RegisterType::L, 0x5C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7435, 0x00);
    WriteMemory(0xA010, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB5);
    CheckRegisterByte(RegisterType::B, 0x95);
    CheckRegisterByte(RegisterType::C, 0xA3);
    CheckRegisterByte(RegisterType::D, 0x74);
    CheckRegisterByte(RegisterType::E, 0x35);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x86);
    CheckRegisterByte(RegisterType::L, 0x5C);
    WriteRegisterWord(RegisterType::PC, 0xA010);
    WriteRegisterWord(RegisterType::SP, 0x77E4);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x7435, 0xB5);
    CheckMemory(0xA010, 0x12);
}

void test_12_010F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9865);
    WriteRegisterWord(RegisterType::SP, 0xEB81);
    WriteRegisterByte(RegisterType::A, 0xCD);
    WriteRegisterByte(RegisterType::B, 0x68);
    WriteRegisterByte(RegisterType::C, 0xF0);
    WriteRegisterByte(RegisterType::D, 0xCA);
    WriteRegisterByte(RegisterType::E, 0xB8);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xE7);
    WriteRegisterByte(RegisterType::L, 0x1B);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9865, 0x12);
    WriteMemory(0xCAB8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCD);
    CheckRegisterByte(RegisterType::B, 0x68);
    CheckRegisterByte(RegisterType::C, 0xF0);
    CheckRegisterByte(RegisterType::D, 0xCA);
    CheckRegisterByte(RegisterType::E, 0xB8);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xE7);
    CheckRegisterByte(RegisterType::L, 0x1B);
    WriteRegisterWord(RegisterType::PC, 0x9865);
    WriteRegisterWord(RegisterType::SP, 0xEB81);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9865, 0x12);
    CheckMemory(0xCAB8, 0xCD);
}

void test_12_0110()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDFEF);
    WriteRegisterWord(RegisterType::SP, 0x53C8);
    WriteRegisterByte(RegisterType::A, 0x3A);
    WriteRegisterByte(RegisterType::B, 0x5A);
    WriteRegisterByte(RegisterType::C, 0x1C);
    WriteRegisterByte(RegisterType::D, 0x67);
    WriteRegisterByte(RegisterType::E, 0x12);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xC4);
    WriteRegisterByte(RegisterType::L, 0x02);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6712, 0x00);
    WriteMemory(0xDFEF, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3A);
    CheckRegisterByte(RegisterType::B, 0x5A);
    CheckRegisterByte(RegisterType::C, 0x1C);
    CheckRegisterByte(RegisterType::D, 0x67);
    CheckRegisterByte(RegisterType::E, 0x12);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xC4);
    CheckRegisterByte(RegisterType::L, 0x02);
    WriteRegisterWord(RegisterType::PC, 0xDFEF);
    WriteRegisterWord(RegisterType::SP, 0x53C8);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6712, 0x3A);
    CheckMemory(0xDFEF, 0x12);
}

void test_12_0111()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE444);
    WriteRegisterWord(RegisterType::SP, 0x6A32);
    WriteRegisterByte(RegisterType::A, 0x01);
    WriteRegisterByte(RegisterType::B, 0x54);
    WriteRegisterByte(RegisterType::C, 0x38);
    WriteRegisterByte(RegisterType::D, 0x12);
    WriteRegisterByte(RegisterType::E, 0x2A);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x83);
    WriteRegisterByte(RegisterType::L, 0x31);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x122A, 0x00);
    WriteMemory(0xE444, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x01);
    CheckRegisterByte(RegisterType::B, 0x54);
    CheckRegisterByte(RegisterType::C, 0x38);
    CheckRegisterByte(RegisterType::D, 0x12);
    CheckRegisterByte(RegisterType::E, 0x2A);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x83);
    CheckRegisterByte(RegisterType::L, 0x31);
    WriteRegisterWord(RegisterType::PC, 0xE444);
    WriteRegisterWord(RegisterType::SP, 0x6A32);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x122A, 0x01);
    CheckMemory(0xE444, 0x12);
}

void test_12_0112()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCF02);
    WriteRegisterWord(RegisterType::SP, 0xD08F);
    WriteRegisterByte(RegisterType::A, 0xEB);
    WriteRegisterByte(RegisterType::B, 0x14);
    WriteRegisterByte(RegisterType::C, 0xEF);
    WriteRegisterByte(RegisterType::D, 0xB4);
    WriteRegisterByte(RegisterType::E, 0xF1);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xB5);
    WriteRegisterByte(RegisterType::L, 0x71);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB4F1, 0x00);
    WriteMemory(0xCF02, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xEB);
    CheckRegisterByte(RegisterType::B, 0x14);
    CheckRegisterByte(RegisterType::C, 0xEF);
    CheckRegisterByte(RegisterType::D, 0xB4);
    CheckRegisterByte(RegisterType::E, 0xF1);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xB5);
    CheckRegisterByte(RegisterType::L, 0x71);
    WriteRegisterWord(RegisterType::PC, 0xCF02);
    WriteRegisterWord(RegisterType::SP, 0xD08F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xB4F1, 0xEB);
    CheckMemory(0xCF02, 0x12);
}

void test_12_0113()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBFFC);
    WriteRegisterWord(RegisterType::SP, 0x34DC);
    WriteRegisterByte(RegisterType::A, 0x92);
    WriteRegisterByte(RegisterType::B, 0xE4);
    WriteRegisterByte(RegisterType::C, 0x76);
    WriteRegisterByte(RegisterType::D, 0x2B);
    WriteRegisterByte(RegisterType::E, 0x04);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x26);
    WriteRegisterByte(RegisterType::L, 0x1C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2B04, 0x00);
    WriteMemory(0xBFFC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x92);
    CheckRegisterByte(RegisterType::B, 0xE4);
    CheckRegisterByte(RegisterType::C, 0x76);
    CheckRegisterByte(RegisterType::D, 0x2B);
    CheckRegisterByte(RegisterType::E, 0x04);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x26);
    CheckRegisterByte(RegisterType::L, 0x1C);
    WriteRegisterWord(RegisterType::PC, 0xBFFC);
    WriteRegisterWord(RegisterType::SP, 0x34DC);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2B04, 0x92);
    CheckMemory(0xBFFC, 0x12);
}

void test_12_0114()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7E80);
    WriteRegisterWord(RegisterType::SP, 0x90BC);
    WriteRegisterByte(RegisterType::A, 0x94);
    WriteRegisterByte(RegisterType::B, 0x06);
    WriteRegisterByte(RegisterType::C, 0xE1);
    WriteRegisterByte(RegisterType::D, 0xB2);
    WriteRegisterByte(RegisterType::E, 0x40);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xA8);
    WriteRegisterByte(RegisterType::L, 0x51);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7E80, 0x12);
    WriteMemory(0xB240, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x94);
    CheckRegisterByte(RegisterType::B, 0x06);
    CheckRegisterByte(RegisterType::C, 0xE1);
    CheckRegisterByte(RegisterType::D, 0xB2);
    CheckRegisterByte(RegisterType::E, 0x40);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xA8);
    CheckRegisterByte(RegisterType::L, 0x51);
    WriteRegisterWord(RegisterType::PC, 0x7E80);
    WriteRegisterWord(RegisterType::SP, 0x90BC);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7E80, 0x12);
    CheckMemory(0xB240, 0x94);
}

void test_12_0115()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDC58);
    WriteRegisterWord(RegisterType::SP, 0x0331);
    WriteRegisterByte(RegisterType::A, 0xB8);
    WriteRegisterByte(RegisterType::B, 0xCE);
    WriteRegisterByte(RegisterType::C, 0x51);
    WriteRegisterByte(RegisterType::D, 0xD5);
    WriteRegisterByte(RegisterType::E, 0x0D);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x0A);
    WriteRegisterByte(RegisterType::L, 0x95);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xD50D, 0x00);
    WriteMemory(0xDC58, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB8);
    CheckRegisterByte(RegisterType::B, 0xCE);
    CheckRegisterByte(RegisterType::C, 0x51);
    CheckRegisterByte(RegisterType::D, 0xD5);
    CheckRegisterByte(RegisterType::E, 0x0D);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x0A);
    CheckRegisterByte(RegisterType::L, 0x95);
    WriteRegisterWord(RegisterType::PC, 0xDC58);
    WriteRegisterWord(RegisterType::SP, 0x0331);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xD50D, 0xB8);
    CheckMemory(0xDC58, 0x12);
}

void test_12_0116()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1E1E);
    WriteRegisterWord(RegisterType::SP, 0x557B);
    WriteRegisterByte(RegisterType::A, 0x7B);
    WriteRegisterByte(RegisterType::B, 0x03);
    WriteRegisterByte(RegisterType::C, 0xC5);
    WriteRegisterByte(RegisterType::D, 0x49);
    WriteRegisterByte(RegisterType::E, 0x48);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xF3);
    WriteRegisterByte(RegisterType::L, 0xE5);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1E1E, 0x12);
    WriteMemory(0x4948, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7B);
    CheckRegisterByte(RegisterType::B, 0x03);
    CheckRegisterByte(RegisterType::C, 0xC5);
    CheckRegisterByte(RegisterType::D, 0x49);
    CheckRegisterByte(RegisterType::E, 0x48);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xF3);
    CheckRegisterByte(RegisterType::L, 0xE5);
    WriteRegisterWord(RegisterType::PC, 0x1E1E);
    WriteRegisterWord(RegisterType::SP, 0x557B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1E1E, 0x12);
    CheckMemory(0x4948, 0x7B);
}

void test_12_0117()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD2D7);
    WriteRegisterWord(RegisterType::SP, 0x7AD0);
    WriteRegisterByte(RegisterType::A, 0x46);
    WriteRegisterByte(RegisterType::B, 0x94);
    WriteRegisterByte(RegisterType::C, 0x9E);
    WriteRegisterByte(RegisterType::D, 0x57);
    WriteRegisterByte(RegisterType::E, 0xF7);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xA4);
    WriteRegisterByte(RegisterType::L, 0x92);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x57F7, 0x00);
    WriteMemory(0xD2D7, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x46);
    CheckRegisterByte(RegisterType::B, 0x94);
    CheckRegisterByte(RegisterType::C, 0x9E);
    CheckRegisterByte(RegisterType::D, 0x57);
    CheckRegisterByte(RegisterType::E, 0xF7);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xA4);
    CheckRegisterByte(RegisterType::L, 0x92);
    WriteRegisterWord(RegisterType::PC, 0xD2D7);
    WriteRegisterWord(RegisterType::SP, 0x7AD0);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x57F7, 0x46);
    CheckMemory(0xD2D7, 0x12);
}

void test_12_0118()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC8CC);
    WriteRegisterWord(RegisterType::SP, 0x5E65);
    WriteRegisterByte(RegisterType::A, 0xEE);
    WriteRegisterByte(RegisterType::B, 0x5F);
    WriteRegisterByte(RegisterType::C, 0x46);
    WriteRegisterByte(RegisterType::D, 0xBA);
    WriteRegisterByte(RegisterType::E, 0xBC);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x8B);
    WriteRegisterByte(RegisterType::L, 0x5A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xBABC, 0x00);
    WriteMemory(0xC8CC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xEE);
    CheckRegisterByte(RegisterType::B, 0x5F);
    CheckRegisterByte(RegisterType::C, 0x46);
    CheckRegisterByte(RegisterType::D, 0xBA);
    CheckRegisterByte(RegisterType::E, 0xBC);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x8B);
    CheckRegisterByte(RegisterType::L, 0x5A);
    WriteRegisterWord(RegisterType::PC, 0xC8CC);
    WriteRegisterWord(RegisterType::SP, 0x5E65);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xBABC, 0xEE);
    CheckMemory(0xC8CC, 0x12);
}

void test_12_0119()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2C3D);
    WriteRegisterWord(RegisterType::SP, 0x0882);
    WriteRegisterByte(RegisterType::A, 0x31);
    WriteRegisterByte(RegisterType::B, 0xC6);
    WriteRegisterByte(RegisterType::C, 0x3F);
    WriteRegisterByte(RegisterType::D, 0x27);
    WriteRegisterByte(RegisterType::E, 0x47);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x50);
    WriteRegisterByte(RegisterType::L, 0xDD);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2747, 0x00);
    WriteMemory(0x2C3D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x31);
    CheckRegisterByte(RegisterType::B, 0xC6);
    CheckRegisterByte(RegisterType::C, 0x3F);
    CheckRegisterByte(RegisterType::D, 0x27);
    CheckRegisterByte(RegisterType::E, 0x47);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x50);
    CheckRegisterByte(RegisterType::L, 0xDD);
    WriteRegisterWord(RegisterType::PC, 0x2C3D);
    WriteRegisterWord(RegisterType::SP, 0x0882);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2747, 0x31);
    CheckMemory(0x2C3D, 0x12);
}

void test_12_011A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD04B);
    WriteRegisterWord(RegisterType::SP, 0xE675);
    WriteRegisterByte(RegisterType::A, 0xE8);
    WriteRegisterByte(RegisterType::B, 0xF0);
    WriteRegisterByte(RegisterType::C, 0xBD);
    WriteRegisterByte(RegisterType::D, 0x59);
    WriteRegisterByte(RegisterType::E, 0x98);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xAF);
    WriteRegisterByte(RegisterType::L, 0xDC);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5998, 0x00);
    WriteMemory(0xD04B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE8);
    CheckRegisterByte(RegisterType::B, 0xF0);
    CheckRegisterByte(RegisterType::C, 0xBD);
    CheckRegisterByte(RegisterType::D, 0x59);
    CheckRegisterByte(RegisterType::E, 0x98);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xAF);
    CheckRegisterByte(RegisterType::L, 0xDC);
    WriteRegisterWord(RegisterType::PC, 0xD04B);
    WriteRegisterWord(RegisterType::SP, 0xE675);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5998, 0xE8);
    CheckMemory(0xD04B, 0x12);
}

void test_12_011B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7C29);
    WriteRegisterWord(RegisterType::SP, 0x4282);
    WriteRegisterByte(RegisterType::A, 0xF1);
    WriteRegisterByte(RegisterType::B, 0xFF);
    WriteRegisterByte(RegisterType::C, 0x06);
    WriteRegisterByte(RegisterType::D, 0xF6);
    WriteRegisterByte(RegisterType::E, 0x5E);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x20);
    WriteRegisterByte(RegisterType::L, 0x97);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7C29, 0x12);
    WriteMemory(0xF65E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF1);
    CheckRegisterByte(RegisterType::B, 0xFF);
    CheckRegisterByte(RegisterType::C, 0x06);
    CheckRegisterByte(RegisterType::D, 0xF6);
    CheckRegisterByte(RegisterType::E, 0x5E);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x20);
    CheckRegisterByte(RegisterType::L, 0x97);
    WriteRegisterWord(RegisterType::PC, 0x7C29);
    WriteRegisterWord(RegisterType::SP, 0x4282);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7C29, 0x12);
    CheckMemory(0xF65E, 0xF1);
}

void test_12_011C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x867D);
    WriteRegisterWord(RegisterType::SP, 0xB186);
    WriteRegisterByte(RegisterType::A, 0x1D);
    WriteRegisterByte(RegisterType::B, 0x52);
    WriteRegisterByte(RegisterType::C, 0xC0);
    WriteRegisterByte(RegisterType::D, 0x64);
    WriteRegisterByte(RegisterType::E, 0x80);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x6E);
    WriteRegisterByte(RegisterType::L, 0x23);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6480, 0x00);
    WriteMemory(0x867D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1D);
    CheckRegisterByte(RegisterType::B, 0x52);
    CheckRegisterByte(RegisterType::C, 0xC0);
    CheckRegisterByte(RegisterType::D, 0x64);
    CheckRegisterByte(RegisterType::E, 0x80);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x6E);
    CheckRegisterByte(RegisterType::L, 0x23);
    WriteRegisterWord(RegisterType::PC, 0x867D);
    WriteRegisterWord(RegisterType::SP, 0xB186);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6480, 0x1D);
    CheckMemory(0x867D, 0x12);
}

void test_12_011D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE489);
    WriteRegisterWord(RegisterType::SP, 0x06FB);
    WriteRegisterByte(RegisterType::A, 0x2F);
    WriteRegisterByte(RegisterType::B, 0x79);
    WriteRegisterByte(RegisterType::C, 0xA9);
    WriteRegisterByte(RegisterType::D, 0xF5);
    WriteRegisterByte(RegisterType::E, 0xEA);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xDA);
    WriteRegisterByte(RegisterType::L, 0x1C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xE489, 0x12);
    WriteMemory(0xF5EA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2F);
    CheckRegisterByte(RegisterType::B, 0x79);
    CheckRegisterByte(RegisterType::C, 0xA9);
    CheckRegisterByte(RegisterType::D, 0xF5);
    CheckRegisterByte(RegisterType::E, 0xEA);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xDA);
    CheckRegisterByte(RegisterType::L, 0x1C);
    WriteRegisterWord(RegisterType::PC, 0xE489);
    WriteRegisterWord(RegisterType::SP, 0x06FB);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xE489, 0x12);
    CheckMemory(0xF5EA, 0x2F);
}

void test_12_011E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1C76);
    WriteRegisterWord(RegisterType::SP, 0x3025);
    WriteRegisterByte(RegisterType::A, 0x45);
    WriteRegisterByte(RegisterType::B, 0xEE);
    WriteRegisterByte(RegisterType::C, 0xDA);
    WriteRegisterByte(RegisterType::D, 0x17);
    WriteRegisterByte(RegisterType::E, 0x59);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x06);
    WriteRegisterByte(RegisterType::L, 0xA6);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1759, 0x00);
    WriteMemory(0x1C76, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x45);
    CheckRegisterByte(RegisterType::B, 0xEE);
    CheckRegisterByte(RegisterType::C, 0xDA);
    CheckRegisterByte(RegisterType::D, 0x17);
    CheckRegisterByte(RegisterType::E, 0x59);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x06);
    CheckRegisterByte(RegisterType::L, 0xA6);
    WriteRegisterWord(RegisterType::PC, 0x1C76);
    WriteRegisterWord(RegisterType::SP, 0x3025);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1759, 0x45);
    CheckMemory(0x1C76, 0x12);
}

void test_12_011F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB2F9);
    WriteRegisterWord(RegisterType::SP, 0x3086);
    WriteRegisterByte(RegisterType::A, 0x46);
    WriteRegisterByte(RegisterType::B, 0x8F);
    WriteRegisterByte(RegisterType::C, 0x5B);
    WriteRegisterByte(RegisterType::D, 0x29);
    WriteRegisterByte(RegisterType::E, 0xAA);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x1F);
    WriteRegisterByte(RegisterType::L, 0x09);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x29AA, 0x00);
    WriteMemory(0xB2F9, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x46);
    CheckRegisterByte(RegisterType::B, 0x8F);
    CheckRegisterByte(RegisterType::C, 0x5B);
    CheckRegisterByte(RegisterType::D, 0x29);
    CheckRegisterByte(RegisterType::E, 0xAA);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x1F);
    CheckRegisterByte(RegisterType::L, 0x09);
    WriteRegisterWord(RegisterType::PC, 0xB2F9);
    WriteRegisterWord(RegisterType::SP, 0x3086);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x29AA, 0x46);
    CheckMemory(0xB2F9, 0x12);
}

void test_12_0120()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9DBA);
    WriteRegisterWord(RegisterType::SP, 0x1641);
    WriteRegisterByte(RegisterType::A, 0x5F);
    WriteRegisterByte(RegisterType::B, 0xCD);
    WriteRegisterByte(RegisterType::C, 0xE8);
    WriteRegisterByte(RegisterType::D, 0x43);
    WriteRegisterByte(RegisterType::E, 0x29);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x4A);
    WriteRegisterByte(RegisterType::L, 0x8D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4329, 0x00);
    WriteMemory(0x9DBA, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5F);
    CheckRegisterByte(RegisterType::B, 0xCD);
    CheckRegisterByte(RegisterType::C, 0xE8);
    CheckRegisterByte(RegisterType::D, 0x43);
    CheckRegisterByte(RegisterType::E, 0x29);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x4A);
    CheckRegisterByte(RegisterType::L, 0x8D);
    WriteRegisterWord(RegisterType::PC, 0x9DBA);
    WriteRegisterWord(RegisterType::SP, 0x1641);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4329, 0x5F);
    CheckMemory(0x9DBA, 0x12);
}

void test_12_0121()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2E39);
    WriteRegisterWord(RegisterType::SP, 0xA45A);
    WriteRegisterByte(RegisterType::A, 0x16);
    WriteRegisterByte(RegisterType::B, 0x3D);
    WriteRegisterByte(RegisterType::C, 0x06);
    WriteRegisterByte(RegisterType::D, 0x32);
    WriteRegisterByte(RegisterType::E, 0x07);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x2A);
    WriteRegisterByte(RegisterType::L, 0xA2);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2E39, 0x12);
    WriteMemory(0x3207, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x16);
    CheckRegisterByte(RegisterType::B, 0x3D);
    CheckRegisterByte(RegisterType::C, 0x06);
    CheckRegisterByte(RegisterType::D, 0x32);
    CheckRegisterByte(RegisterType::E, 0x07);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x2A);
    CheckRegisterByte(RegisterType::L, 0xA2);
    WriteRegisterWord(RegisterType::PC, 0x2E39);
    WriteRegisterWord(RegisterType::SP, 0xA45A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2E39, 0x12);
    CheckMemory(0x3207, 0x16);
}

void test_12_0122()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB976);
    WriteRegisterWord(RegisterType::SP, 0xF5DE);
    WriteRegisterByte(RegisterType::A, 0x3E);
    WriteRegisterByte(RegisterType::B, 0x15);
    WriteRegisterByte(RegisterType::C, 0x21);
    WriteRegisterByte(RegisterType::D, 0x56);
    WriteRegisterByte(RegisterType::E, 0x0B);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x34);
    WriteRegisterByte(RegisterType::L, 0x7F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x560B, 0x00);
    WriteMemory(0xB976, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3E);
    CheckRegisterByte(RegisterType::B, 0x15);
    CheckRegisterByte(RegisterType::C, 0x21);
    CheckRegisterByte(RegisterType::D, 0x56);
    CheckRegisterByte(RegisterType::E, 0x0B);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x34);
    CheckRegisterByte(RegisterType::L, 0x7F);
    WriteRegisterWord(RegisterType::PC, 0xB976);
    WriteRegisterWord(RegisterType::SP, 0xF5DE);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x560B, 0x3E);
    CheckMemory(0xB976, 0x12);
}

void test_12_0123()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6B96);
    WriteRegisterWord(RegisterType::SP, 0x1343);
    WriteRegisterByte(RegisterType::A, 0xB1);
    WriteRegisterByte(RegisterType::B, 0xF5);
    WriteRegisterByte(RegisterType::C, 0x1D);
    WriteRegisterByte(RegisterType::D, 0xCD);
    WriteRegisterByte(RegisterType::E, 0x1B);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x40);
    WriteRegisterByte(RegisterType::L, 0x81);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6B96, 0x12);
    WriteMemory(0xCD1B, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB1);
    CheckRegisterByte(RegisterType::B, 0xF5);
    CheckRegisterByte(RegisterType::C, 0x1D);
    CheckRegisterByte(RegisterType::D, 0xCD);
    CheckRegisterByte(RegisterType::E, 0x1B);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x40);
    CheckRegisterByte(RegisterType::L, 0x81);
    WriteRegisterWord(RegisterType::PC, 0x6B96);
    WriteRegisterWord(RegisterType::SP, 0x1343);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6B96, 0x12);
    CheckMemory(0xCD1B, 0xB1);
}

void test_12_0124()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1CB0);
    WriteRegisterWord(RegisterType::SP, 0x22A3);
    WriteRegisterByte(RegisterType::A, 0xF4);
    WriteRegisterByte(RegisterType::B, 0x64);
    WriteRegisterByte(RegisterType::C, 0xC4);
    WriteRegisterByte(RegisterType::D, 0x5D);
    WriteRegisterByte(RegisterType::E, 0xD8);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xFB);
    WriteRegisterByte(RegisterType::L, 0xFF);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1CB0, 0x12);
    WriteMemory(0x5DD8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF4);
    CheckRegisterByte(RegisterType::B, 0x64);
    CheckRegisterByte(RegisterType::C, 0xC4);
    CheckRegisterByte(RegisterType::D, 0x5D);
    CheckRegisterByte(RegisterType::E, 0xD8);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xFB);
    CheckRegisterByte(RegisterType::L, 0xFF);
    WriteRegisterWord(RegisterType::PC, 0x1CB0);
    WriteRegisterWord(RegisterType::SP, 0x22A3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1CB0, 0x12);
    CheckMemory(0x5DD8, 0xF4);
}

void test_12_0125()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x87B7);
    WriteRegisterWord(RegisterType::SP, 0x56EE);
    WriteRegisterByte(RegisterType::A, 0x5E);
    WriteRegisterByte(RegisterType::B, 0x66);
    WriteRegisterByte(RegisterType::C, 0x40);
    WriteRegisterByte(RegisterType::D, 0x76);
    WriteRegisterByte(RegisterType::E, 0x9D);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x90);
    WriteRegisterByte(RegisterType::L, 0xB1);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x769D, 0x00);
    WriteMemory(0x87B7, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5E);
    CheckRegisterByte(RegisterType::B, 0x66);
    CheckRegisterByte(RegisterType::C, 0x40);
    CheckRegisterByte(RegisterType::D, 0x76);
    CheckRegisterByte(RegisterType::E, 0x9D);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x90);
    CheckRegisterByte(RegisterType::L, 0xB1);
    WriteRegisterWord(RegisterType::PC, 0x87B7);
    WriteRegisterWord(RegisterType::SP, 0x56EE);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x769D, 0x5E);
    CheckMemory(0x87B7, 0x12);
}

void test_12_0126()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9EE0);
    WriteRegisterWord(RegisterType::SP, 0x231D);
    WriteRegisterByte(RegisterType::A, 0x75);
    WriteRegisterByte(RegisterType::B, 0x9A);
    WriteRegisterByte(RegisterType::C, 0xB8);
    WriteRegisterByte(RegisterType::D, 0x99);
    WriteRegisterByte(RegisterType::E, 0xBB);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x24);
    WriteRegisterByte(RegisterType::L, 0xDB);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x99BB, 0x00);
    WriteMemory(0x9EE0, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x75);
    CheckRegisterByte(RegisterType::B, 0x9A);
    CheckRegisterByte(RegisterType::C, 0xB8);
    CheckRegisterByte(RegisterType::D, 0x99);
    CheckRegisterByte(RegisterType::E, 0xBB);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x24);
    CheckRegisterByte(RegisterType::L, 0xDB);
    WriteRegisterWord(RegisterType::PC, 0x9EE0);
    WriteRegisterWord(RegisterType::SP, 0x231D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x99BB, 0x75);
    CheckMemory(0x9EE0, 0x12);
}

void test_12_0127()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5B3D);
    WriteRegisterWord(RegisterType::SP, 0xEC3A);
    WriteRegisterByte(RegisterType::A, 0x41);
    WriteRegisterByte(RegisterType::B, 0x91);
    WriteRegisterByte(RegisterType::C, 0x5E);
    WriteRegisterByte(RegisterType::D, 0x4D);
    WriteRegisterByte(RegisterType::E, 0xE4);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x72);
    WriteRegisterByte(RegisterType::L, 0x66);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4DE4, 0x00);
    WriteMemory(0x5B3D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x41);
    CheckRegisterByte(RegisterType::B, 0x91);
    CheckRegisterByte(RegisterType::C, 0x5E);
    CheckRegisterByte(RegisterType::D, 0x4D);
    CheckRegisterByte(RegisterType::E, 0xE4);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x72);
    CheckRegisterByte(RegisterType::L, 0x66);
    WriteRegisterWord(RegisterType::PC, 0x5B3D);
    WriteRegisterWord(RegisterType::SP, 0xEC3A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4DE4, 0x41);
    CheckMemory(0x5B3D, 0x12);
}

void test_12_0128()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6CED);
    WriteRegisterWord(RegisterType::SP, 0x63D7);
    WriteRegisterByte(RegisterType::A, 0x79);
    WriteRegisterByte(RegisterType::B, 0xDD);
    WriteRegisterByte(RegisterType::C, 0x82);
    WriteRegisterByte(RegisterType::D, 0x12);
    WriteRegisterByte(RegisterType::E, 0xEB);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x57);
    WriteRegisterByte(RegisterType::L, 0xAC);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x12EB, 0x00);
    WriteMemory(0x6CED, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x79);
    CheckRegisterByte(RegisterType::B, 0xDD);
    CheckRegisterByte(RegisterType::C, 0x82);
    CheckRegisterByte(RegisterType::D, 0x12);
    CheckRegisterByte(RegisterType::E, 0xEB);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x57);
    CheckRegisterByte(RegisterType::L, 0xAC);
    WriteRegisterWord(RegisterType::PC, 0x6CED);
    WriteRegisterWord(RegisterType::SP, 0x63D7);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x12EB, 0x79);
    CheckMemory(0x6CED, 0x12);
}

void test_12_0129()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0D2B);
    WriteRegisterWord(RegisterType::SP, 0xD03C);
    WriteRegisterByte(RegisterType::A, 0x87);
    WriteRegisterByte(RegisterType::B, 0xC2);
    WriteRegisterByte(RegisterType::C, 0xBD);
    WriteRegisterByte(RegisterType::D, 0x73);
    WriteRegisterByte(RegisterType::E, 0x73);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xB5);
    WriteRegisterByte(RegisterType::L, 0xAD);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0D2B, 0x12);
    WriteMemory(0x7373, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x87);
    CheckRegisterByte(RegisterType::B, 0xC2);
    CheckRegisterByte(RegisterType::C, 0xBD);
    CheckRegisterByte(RegisterType::D, 0x73);
    CheckRegisterByte(RegisterType::E, 0x73);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xB5);
    CheckRegisterByte(RegisterType::L, 0xAD);
    WriteRegisterWord(RegisterType::PC, 0x0D2B);
    WriteRegisterWord(RegisterType::SP, 0xD03C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0D2B, 0x12);
    CheckMemory(0x7373, 0x87);
}

void test_12_012A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE683);
    WriteRegisterWord(RegisterType::SP, 0x87CD);
    WriteRegisterByte(RegisterType::A, 0x5E);
    WriteRegisterByte(RegisterType::B, 0xCC);
    WriteRegisterByte(RegisterType::C, 0x07);
    WriteRegisterByte(RegisterType::D, 0x7C);
    WriteRegisterByte(RegisterType::E, 0xE5);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x71);
    WriteRegisterByte(RegisterType::L, 0x13);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7CE5, 0x00);
    WriteMemory(0xE683, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5E);
    CheckRegisterByte(RegisterType::B, 0xCC);
    CheckRegisterByte(RegisterType::C, 0x07);
    CheckRegisterByte(RegisterType::D, 0x7C);
    CheckRegisterByte(RegisterType::E, 0xE5);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x71);
    CheckRegisterByte(RegisterType::L, 0x13);
    WriteRegisterWord(RegisterType::PC, 0xE683);
    WriteRegisterWord(RegisterType::SP, 0x87CD);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7CE5, 0x5E);
    CheckMemory(0xE683, 0x12);
}

void test_12_012B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAED3);
    WriteRegisterWord(RegisterType::SP, 0x54EC);
    WriteRegisterByte(RegisterType::A, 0xE1);
    WriteRegisterByte(RegisterType::B, 0x00);
    WriteRegisterByte(RegisterType::C, 0x92);
    WriteRegisterByte(RegisterType::D, 0xC7);
    WriteRegisterByte(RegisterType::E, 0x32);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x9A);
    WriteRegisterByte(RegisterType::L, 0xF6);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xAED3, 0x12);
    WriteMemory(0xC732, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE1);
    CheckRegisterByte(RegisterType::B, 0x00);
    CheckRegisterByte(RegisterType::C, 0x92);
    CheckRegisterByte(RegisterType::D, 0xC7);
    CheckRegisterByte(RegisterType::E, 0x32);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x9A);
    CheckRegisterByte(RegisterType::L, 0xF6);
    WriteRegisterWord(RegisterType::PC, 0xAED3);
    WriteRegisterWord(RegisterType::SP, 0x54EC);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xAED3, 0x12);
    CheckMemory(0xC732, 0xE1);
}

void test_12_012C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA242);
    WriteRegisterWord(RegisterType::SP, 0x682F);
    WriteRegisterByte(RegisterType::A, 0xB5);
    WriteRegisterByte(RegisterType::B, 0x20);
    WriteRegisterByte(RegisterType::C, 0xE5);
    WriteRegisterByte(RegisterType::D, 0x09);
    WriteRegisterByte(RegisterType::E, 0x7F);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x67);
    WriteRegisterByte(RegisterType::L, 0x0A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x097F, 0x00);
    WriteMemory(0xA242, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB5);
    CheckRegisterByte(RegisterType::B, 0x20);
    CheckRegisterByte(RegisterType::C, 0xE5);
    CheckRegisterByte(RegisterType::D, 0x09);
    CheckRegisterByte(RegisterType::E, 0x7F);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x67);
    CheckRegisterByte(RegisterType::L, 0x0A);
    WriteRegisterWord(RegisterType::PC, 0xA242);
    WriteRegisterWord(RegisterType::SP, 0x682F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x097F, 0xB5);
    CheckMemory(0xA242, 0x12);
}

void test_12_012D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBC36);
    WriteRegisterWord(RegisterType::SP, 0xE1BC);
    WriteRegisterByte(RegisterType::A, 0x1D);
    WriteRegisterByte(RegisterType::B, 0x12);
    WriteRegisterByte(RegisterType::C, 0x3D);
    WriteRegisterByte(RegisterType::D, 0x15);
    WriteRegisterByte(RegisterType::E, 0x90);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x64);
    WriteRegisterByte(RegisterType::L, 0x8C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1590, 0x00);
    WriteMemory(0xBC36, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1D);
    CheckRegisterByte(RegisterType::B, 0x12);
    CheckRegisterByte(RegisterType::C, 0x3D);
    CheckRegisterByte(RegisterType::D, 0x15);
    CheckRegisterByte(RegisterType::E, 0x90);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x64);
    CheckRegisterByte(RegisterType::L, 0x8C);
    WriteRegisterWord(RegisterType::PC, 0xBC36);
    WriteRegisterWord(RegisterType::SP, 0xE1BC);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1590, 0x1D);
    CheckMemory(0xBC36, 0x12);
}

void test_12_012E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x133D);
    WriteRegisterWord(RegisterType::SP, 0xA242);
    WriteRegisterByte(RegisterType::A, 0x67);
    WriteRegisterByte(RegisterType::B, 0xCF);
    WriteRegisterByte(RegisterType::C, 0xB0);
    WriteRegisterByte(RegisterType::D, 0x70);
    WriteRegisterByte(RegisterType::E, 0xC3);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xF9);
    WriteRegisterByte(RegisterType::L, 0xBE);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x133D, 0x12);
    WriteMemory(0x70C3, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x67);
    CheckRegisterByte(RegisterType::B, 0xCF);
    CheckRegisterByte(RegisterType::C, 0xB0);
    CheckRegisterByte(RegisterType::D, 0x70);
    CheckRegisterByte(RegisterType::E, 0xC3);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xF9);
    CheckRegisterByte(RegisterType::L, 0xBE);
    WriteRegisterWord(RegisterType::PC, 0x133D);
    WriteRegisterWord(RegisterType::SP, 0xA242);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x133D, 0x12);
    CheckMemory(0x70C3, 0x67);
}

void test_12_012F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC028);
    WriteRegisterWord(RegisterType::SP, 0xCD5E);
    WriteRegisterByte(RegisterType::A, 0x92);
    WriteRegisterByte(RegisterType::B, 0xF4);
    WriteRegisterByte(RegisterType::C, 0x65);
    WriteRegisterByte(RegisterType::D, 0xAB);
    WriteRegisterByte(RegisterType::E, 0x23);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x30);
    WriteRegisterByte(RegisterType::L, 0x66);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xAB23, 0x00);
    WriteMemory(0xC028, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x92);
    CheckRegisterByte(RegisterType::B, 0xF4);
    CheckRegisterByte(RegisterType::C, 0x65);
    CheckRegisterByte(RegisterType::D, 0xAB);
    CheckRegisterByte(RegisterType::E, 0x23);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x30);
    CheckRegisterByte(RegisterType::L, 0x66);
    WriteRegisterWord(RegisterType::PC, 0xC028);
    WriteRegisterWord(RegisterType::SP, 0xCD5E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xAB23, 0x92);
    CheckMemory(0xC028, 0x12);
}

void test_12_0130()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA41A);
    WriteRegisterWord(RegisterType::SP, 0x0069);
    WriteRegisterByte(RegisterType::A, 0x59);
    WriteRegisterByte(RegisterType::B, 0x4F);
    WriteRegisterByte(RegisterType::C, 0x2C);
    WriteRegisterByte(RegisterType::D, 0x0F);
    WriteRegisterByte(RegisterType::E, 0x2B);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x98);
    WriteRegisterByte(RegisterType::L, 0xAE);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0F2B, 0x00);
    WriteMemory(0xA41A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x59);
    CheckRegisterByte(RegisterType::B, 0x4F);
    CheckRegisterByte(RegisterType::C, 0x2C);
    CheckRegisterByte(RegisterType::D, 0x0F);
    CheckRegisterByte(RegisterType::E, 0x2B);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x98);
    CheckRegisterByte(RegisterType::L, 0xAE);
    WriteRegisterWord(RegisterType::PC, 0xA41A);
    WriteRegisterWord(RegisterType::SP, 0x0069);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0F2B, 0x59);
    CheckMemory(0xA41A, 0x12);
}

void test_12_0131()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC085);
    WriteRegisterWord(RegisterType::SP, 0xDB8E);
    WriteRegisterByte(RegisterType::A, 0x9D);
    WriteRegisterByte(RegisterType::B, 0x84);
    WriteRegisterByte(RegisterType::C, 0x47);
    WriteRegisterByte(RegisterType::D, 0x92);
    WriteRegisterByte(RegisterType::E, 0xD5);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xC9);
    WriteRegisterByte(RegisterType::L, 0x6A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x92D5, 0x00);
    WriteMemory(0xC085, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9D);
    CheckRegisterByte(RegisterType::B, 0x84);
    CheckRegisterByte(RegisterType::C, 0x47);
    CheckRegisterByte(RegisterType::D, 0x92);
    CheckRegisterByte(RegisterType::E, 0xD5);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xC9);
    CheckRegisterByte(RegisterType::L, 0x6A);
    WriteRegisterWord(RegisterType::PC, 0xC085);
    WriteRegisterWord(RegisterType::SP, 0xDB8E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x92D5, 0x9D);
    CheckMemory(0xC085, 0x12);
}

void test_12_0132()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2EC1);
    WriteRegisterWord(RegisterType::SP, 0xEFEB);
    WriteRegisterByte(RegisterType::A, 0x03);
    WriteRegisterByte(RegisterType::B, 0xA6);
    WriteRegisterByte(RegisterType::C, 0xA1);
    WriteRegisterByte(RegisterType::D, 0x15);
    WriteRegisterByte(RegisterType::E, 0x15);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x0B);
    WriteRegisterByte(RegisterType::L, 0x0E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1515, 0x00);
    WriteMemory(0x2EC1, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x03);
    CheckRegisterByte(RegisterType::B, 0xA6);
    CheckRegisterByte(RegisterType::C, 0xA1);
    CheckRegisterByte(RegisterType::D, 0x15);
    CheckRegisterByte(RegisterType::E, 0x15);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x0B);
    CheckRegisterByte(RegisterType::L, 0x0E);
    WriteRegisterWord(RegisterType::PC, 0x2EC1);
    WriteRegisterWord(RegisterType::SP, 0xEFEB);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1515, 0x03);
    CheckMemory(0x2EC1, 0x12);
}

void test_12_0133()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE18D);
    WriteRegisterWord(RegisterType::SP, 0xCC79);
    WriteRegisterByte(RegisterType::A, 0x55);
    WriteRegisterByte(RegisterType::B, 0x28);
    WriteRegisterByte(RegisterType::C, 0x67);
    WriteRegisterByte(RegisterType::D, 0x46);
    WriteRegisterByte(RegisterType::E, 0x23);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x2B);
    WriteRegisterByte(RegisterType::L, 0xB8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4623, 0x00);
    WriteMemory(0xE18D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x55);
    CheckRegisterByte(RegisterType::B, 0x28);
    CheckRegisterByte(RegisterType::C, 0x67);
    CheckRegisterByte(RegisterType::D, 0x46);
    CheckRegisterByte(RegisterType::E, 0x23);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x2B);
    CheckRegisterByte(RegisterType::L, 0xB8);
    WriteRegisterWord(RegisterType::PC, 0xE18D);
    WriteRegisterWord(RegisterType::SP, 0xCC79);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4623, 0x55);
    CheckMemory(0xE18D, 0x12);
}

void test_12_0134()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6366);
    WriteRegisterWord(RegisterType::SP, 0x1414);
    WriteRegisterByte(RegisterType::A, 0xC9);
    WriteRegisterByte(RegisterType::B, 0x3A);
    WriteRegisterByte(RegisterType::C, 0x1E);
    WriteRegisterByte(RegisterType::D, 0x17);
    WriteRegisterByte(RegisterType::E, 0x00);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x4E);
    WriteRegisterByte(RegisterType::L, 0x99);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1700, 0x00);
    WriteMemory(0x6366, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC9);
    CheckRegisterByte(RegisterType::B, 0x3A);
    CheckRegisterByte(RegisterType::C, 0x1E);
    CheckRegisterByte(RegisterType::D, 0x17);
    CheckRegisterByte(RegisterType::E, 0x00);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x4E);
    CheckRegisterByte(RegisterType::L, 0x99);
    WriteRegisterWord(RegisterType::PC, 0x6366);
    WriteRegisterWord(RegisterType::SP, 0x1414);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1700, 0xC9);
    CheckMemory(0x6366, 0x12);
}

void test_12_0135()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB0F4);
    WriteRegisterWord(RegisterType::SP, 0x8BDA);
    WriteRegisterByte(RegisterType::A, 0x07);
    WriteRegisterByte(RegisterType::B, 0x07);
    WriteRegisterByte(RegisterType::C, 0xCD);
    WriteRegisterByte(RegisterType::D, 0xE5);
    WriteRegisterByte(RegisterType::E, 0x49);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xDE);
    WriteRegisterByte(RegisterType::L, 0x63);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB0F4, 0x12);
    WriteMemory(0xE549, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x07);
    CheckRegisterByte(RegisterType::B, 0x07);
    CheckRegisterByte(RegisterType::C, 0xCD);
    CheckRegisterByte(RegisterType::D, 0xE5);
    CheckRegisterByte(RegisterType::E, 0x49);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xDE);
    CheckRegisterByte(RegisterType::L, 0x63);
    WriteRegisterWord(RegisterType::PC, 0xB0F4);
    WriteRegisterWord(RegisterType::SP, 0x8BDA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xB0F4, 0x12);
    CheckMemory(0xE549, 0x07);
}

void test_12_0136()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAB74);
    WriteRegisterWord(RegisterType::SP, 0xA483);
    WriteRegisterByte(RegisterType::A, 0xA4);
    WriteRegisterByte(RegisterType::B, 0xFE);
    WriteRegisterByte(RegisterType::C, 0xB0);
    WriteRegisterByte(RegisterType::D, 0x72);
    WriteRegisterByte(RegisterType::E, 0xB1);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xC3);
    WriteRegisterByte(RegisterType::L, 0xC2);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x72B1, 0x00);
    WriteMemory(0xAB74, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA4);
    CheckRegisterByte(RegisterType::B, 0xFE);
    CheckRegisterByte(RegisterType::C, 0xB0);
    CheckRegisterByte(RegisterType::D, 0x72);
    CheckRegisterByte(RegisterType::E, 0xB1);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xC3);
    CheckRegisterByte(RegisterType::L, 0xC2);
    WriteRegisterWord(RegisterType::PC, 0xAB74);
    WriteRegisterWord(RegisterType::SP, 0xA483);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x72B1, 0xA4);
    CheckMemory(0xAB74, 0x12);
}

void test_12_0137()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC28F);
    WriteRegisterWord(RegisterType::SP, 0xC6F2);
    WriteRegisterByte(RegisterType::A, 0x0F);
    WriteRegisterByte(RegisterType::B, 0xD8);
    WriteRegisterByte(RegisterType::C, 0x33);
    WriteRegisterByte(RegisterType::D, 0x4B);
    WriteRegisterByte(RegisterType::E, 0x8D);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xDD);
    WriteRegisterByte(RegisterType::L, 0xD0);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4B8D, 0x00);
    WriteMemory(0xC28F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0F);
    CheckRegisterByte(RegisterType::B, 0xD8);
    CheckRegisterByte(RegisterType::C, 0x33);
    CheckRegisterByte(RegisterType::D, 0x4B);
    CheckRegisterByte(RegisterType::E, 0x8D);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xDD);
    CheckRegisterByte(RegisterType::L, 0xD0);
    WriteRegisterWord(RegisterType::PC, 0xC28F);
    WriteRegisterWord(RegisterType::SP, 0xC6F2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4B8D, 0x0F);
    CheckMemory(0xC28F, 0x12);
}

void test_12_0138()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEE96);
    WriteRegisterWord(RegisterType::SP, 0xBF0F);
    WriteRegisterByte(RegisterType::A, 0xFC);
    WriteRegisterByte(RegisterType::B, 0xC0);
    WriteRegisterByte(RegisterType::C, 0xE8);
    WriteRegisterByte(RegisterType::D, 0xD4);
    WriteRegisterByte(RegisterType::E, 0x99);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x6F);
    WriteRegisterByte(RegisterType::L, 0xF2);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xD499, 0x00);
    WriteMemory(0xEE96, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFC);
    CheckRegisterByte(RegisterType::B, 0xC0);
    CheckRegisterByte(RegisterType::C, 0xE8);
    CheckRegisterByte(RegisterType::D, 0xD4);
    CheckRegisterByte(RegisterType::E, 0x99);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x6F);
    CheckRegisterByte(RegisterType::L, 0xF2);
    WriteRegisterWord(RegisterType::PC, 0xEE96);
    WriteRegisterWord(RegisterType::SP, 0xBF0F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xD499, 0xFC);
    CheckMemory(0xEE96, 0x12);
}

void test_12_0139()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6DF2);
    WriteRegisterWord(RegisterType::SP, 0xAF96);
    WriteRegisterByte(RegisterType::A, 0xDE);
    WriteRegisterByte(RegisterType::B, 0xFB);
    WriteRegisterByte(RegisterType::C, 0xA9);
    WriteRegisterByte(RegisterType::D, 0x89);
    WriteRegisterByte(RegisterType::E, 0x16);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x6E);
    WriteRegisterByte(RegisterType::L, 0x4F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6DF2, 0x12);
    WriteMemory(0x8916, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDE);
    CheckRegisterByte(RegisterType::B, 0xFB);
    CheckRegisterByte(RegisterType::C, 0xA9);
    CheckRegisterByte(RegisterType::D, 0x89);
    CheckRegisterByte(RegisterType::E, 0x16);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x6E);
    CheckRegisterByte(RegisterType::L, 0x4F);
    WriteRegisterWord(RegisterType::PC, 0x6DF2);
    WriteRegisterWord(RegisterType::SP, 0xAF96);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6DF2, 0x12);
    CheckMemory(0x8916, 0xDE);
}

void test_12_013A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1054);
    WriteRegisterWord(RegisterType::SP, 0xE08D);
    WriteRegisterByte(RegisterType::A, 0xA8);
    WriteRegisterByte(RegisterType::B, 0x58);
    WriteRegisterByte(RegisterType::C, 0xA1);
    WriteRegisterByte(RegisterType::D, 0x7A);
    WriteRegisterByte(RegisterType::E, 0x6F);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x9C);
    WriteRegisterByte(RegisterType::L, 0x0B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1054, 0x12);
    WriteMemory(0x7A6F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA8);
    CheckRegisterByte(RegisterType::B, 0x58);
    CheckRegisterByte(RegisterType::C, 0xA1);
    CheckRegisterByte(RegisterType::D, 0x7A);
    CheckRegisterByte(RegisterType::E, 0x6F);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x9C);
    CheckRegisterByte(RegisterType::L, 0x0B);
    WriteRegisterWord(RegisterType::PC, 0x1054);
    WriteRegisterWord(RegisterType::SP, 0xE08D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1054, 0x12);
    CheckMemory(0x7A6F, 0xA8);
}

void test_12_013B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBFDA);
    WriteRegisterWord(RegisterType::SP, 0xCB36);
    WriteRegisterByte(RegisterType::A, 0xC1);
    WriteRegisterByte(RegisterType::B, 0xCB);
    WriteRegisterByte(RegisterType::C, 0xC0);
    WriteRegisterByte(RegisterType::D, 0xB9);
    WriteRegisterByte(RegisterType::E, 0x20);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xBD);
    WriteRegisterByte(RegisterType::L, 0xA4);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB920, 0x00);
    WriteMemory(0xBFDA, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC1);
    CheckRegisterByte(RegisterType::B, 0xCB);
    CheckRegisterByte(RegisterType::C, 0xC0);
    CheckRegisterByte(RegisterType::D, 0xB9);
    CheckRegisterByte(RegisterType::E, 0x20);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xBD);
    CheckRegisterByte(RegisterType::L, 0xA4);
    WriteRegisterWord(RegisterType::PC, 0xBFDA);
    WriteRegisterWord(RegisterType::SP, 0xCB36);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xB920, 0xC1);
    CheckMemory(0xBFDA, 0x12);
}

void test_12_013C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC174);
    WriteRegisterWord(RegisterType::SP, 0xA68F);
    WriteRegisterByte(RegisterType::A, 0x36);
    WriteRegisterByte(RegisterType::B, 0x88);
    WriteRegisterByte(RegisterType::C, 0x44);
    WriteRegisterByte(RegisterType::D, 0x91);
    WriteRegisterByte(RegisterType::E, 0x19);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x90);
    WriteRegisterByte(RegisterType::L, 0x97);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9119, 0x00);
    WriteMemory(0xC174, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x36);
    CheckRegisterByte(RegisterType::B, 0x88);
    CheckRegisterByte(RegisterType::C, 0x44);
    CheckRegisterByte(RegisterType::D, 0x91);
    CheckRegisterByte(RegisterType::E, 0x19);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x90);
    CheckRegisterByte(RegisterType::L, 0x97);
    WriteRegisterWord(RegisterType::PC, 0xC174);
    WriteRegisterWord(RegisterType::SP, 0xA68F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9119, 0x36);
    CheckMemory(0xC174, 0x12);
}

void test_12_013D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDF16);
    WriteRegisterWord(RegisterType::SP, 0x9A3A);
    WriteRegisterByte(RegisterType::A, 0x23);
    WriteRegisterByte(RegisterType::B, 0x57);
    WriteRegisterByte(RegisterType::C, 0x2D);
    WriteRegisterByte(RegisterType::D, 0x8D);
    WriteRegisterByte(RegisterType::E, 0x01);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x1D);
    WriteRegisterByte(RegisterType::L, 0xBE);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x8D01, 0x00);
    WriteMemory(0xDF16, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x23);
    CheckRegisterByte(RegisterType::B, 0x57);
    CheckRegisterByte(RegisterType::C, 0x2D);
    CheckRegisterByte(RegisterType::D, 0x8D);
    CheckRegisterByte(RegisterType::E, 0x01);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x1D);
    CheckRegisterByte(RegisterType::L, 0xBE);
    WriteRegisterWord(RegisterType::PC, 0xDF16);
    WriteRegisterWord(RegisterType::SP, 0x9A3A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x8D01, 0x23);
    CheckMemory(0xDF16, 0x12);
}

void test_12_013E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x064B);
    WriteRegisterWord(RegisterType::SP, 0xD607);
    WriteRegisterByte(RegisterType::A, 0x37);
    WriteRegisterByte(RegisterType::B, 0x08);
    WriteRegisterByte(RegisterType::C, 0x88);
    WriteRegisterByte(RegisterType::D, 0x68);
    WriteRegisterByte(RegisterType::E, 0xFD);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xD4);
    WriteRegisterByte(RegisterType::L, 0xF5);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x064B, 0x12);
    WriteMemory(0x68FD, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x37);
    CheckRegisterByte(RegisterType::B, 0x08);
    CheckRegisterByte(RegisterType::C, 0x88);
    CheckRegisterByte(RegisterType::D, 0x68);
    CheckRegisterByte(RegisterType::E, 0xFD);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xD4);
    CheckRegisterByte(RegisterType::L, 0xF5);
    WriteRegisterWord(RegisterType::PC, 0x064B);
    WriteRegisterWord(RegisterType::SP, 0xD607);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x064B, 0x12);
    CheckMemory(0x68FD, 0x37);
}

void test_12_013F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x79D7);
    WriteRegisterWord(RegisterType::SP, 0x1D99);
    WriteRegisterByte(RegisterType::A, 0x9C);
    WriteRegisterByte(RegisterType::B, 0x2E);
    WriteRegisterByte(RegisterType::C, 0xFD);
    WriteRegisterByte(RegisterType::D, 0xBB);
    WriteRegisterByte(RegisterType::E, 0xD9);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x95);
    WriteRegisterByte(RegisterType::L, 0x8A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x79D7, 0x12);
    WriteMemory(0xBBD9, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9C);
    CheckRegisterByte(RegisterType::B, 0x2E);
    CheckRegisterByte(RegisterType::C, 0xFD);
    CheckRegisterByte(RegisterType::D, 0xBB);
    CheckRegisterByte(RegisterType::E, 0xD9);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x95);
    CheckRegisterByte(RegisterType::L, 0x8A);
    WriteRegisterWord(RegisterType::PC, 0x79D7);
    WriteRegisterWord(RegisterType::SP, 0x1D99);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x79D7, 0x12);
    CheckMemory(0xBBD9, 0x9C);
}

void test_12_0140()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x950E);
    WriteRegisterWord(RegisterType::SP, 0xE827);
    WriteRegisterByte(RegisterType::A, 0xCD);
    WriteRegisterByte(RegisterType::B, 0x31);
    WriteRegisterByte(RegisterType::C, 0xC8);
    WriteRegisterByte(RegisterType::D, 0xD1);
    WriteRegisterByte(RegisterType::E, 0x25);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x55);
    WriteRegisterByte(RegisterType::L, 0xF7);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x950E, 0x12);
    WriteMemory(0xD125, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCD);
    CheckRegisterByte(RegisterType::B, 0x31);
    CheckRegisterByte(RegisterType::C, 0xC8);
    CheckRegisterByte(RegisterType::D, 0xD1);
    CheckRegisterByte(RegisterType::E, 0x25);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x55);
    CheckRegisterByte(RegisterType::L, 0xF7);
    WriteRegisterWord(RegisterType::PC, 0x950E);
    WriteRegisterWord(RegisterType::SP, 0xE827);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x950E, 0x12);
    CheckMemory(0xD125, 0xCD);
}

void test_12_0141()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0F7A);
    WriteRegisterWord(RegisterType::SP, 0x5716);
    WriteRegisterByte(RegisterType::A, 0x06);
    WriteRegisterByte(RegisterType::B, 0x3B);
    WriteRegisterByte(RegisterType::C, 0x90);
    WriteRegisterByte(RegisterType::D, 0xE9);
    WriteRegisterByte(RegisterType::E, 0x4D);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x59);
    WriteRegisterByte(RegisterType::L, 0x51);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0F7A, 0x12);
    WriteMemory(0xE94D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x06);
    CheckRegisterByte(RegisterType::B, 0x3B);
    CheckRegisterByte(RegisterType::C, 0x90);
    CheckRegisterByte(RegisterType::D, 0xE9);
    CheckRegisterByte(RegisterType::E, 0x4D);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x59);
    CheckRegisterByte(RegisterType::L, 0x51);
    WriteRegisterWord(RegisterType::PC, 0x0F7A);
    WriteRegisterWord(RegisterType::SP, 0x5716);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0F7A, 0x12);
    CheckMemory(0xE94D, 0x06);
}

void test_12_0142()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC0AB);
    WriteRegisterWord(RegisterType::SP, 0x141A);
    WriteRegisterByte(RegisterType::A, 0x96);
    WriteRegisterByte(RegisterType::B, 0x11);
    WriteRegisterByte(RegisterType::C, 0x0B);
    WriteRegisterByte(RegisterType::D, 0x8C);
    WriteRegisterByte(RegisterType::E, 0x03);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xE8);
    WriteRegisterByte(RegisterType::L, 0x7A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x8C03, 0x00);
    WriteMemory(0xC0AB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x96);
    CheckRegisterByte(RegisterType::B, 0x11);
    CheckRegisterByte(RegisterType::C, 0x0B);
    CheckRegisterByte(RegisterType::D, 0x8C);
    CheckRegisterByte(RegisterType::E, 0x03);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xE8);
    CheckRegisterByte(RegisterType::L, 0x7A);
    WriteRegisterWord(RegisterType::PC, 0xC0AB);
    WriteRegisterWord(RegisterType::SP, 0x141A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x8C03, 0x96);
    CheckMemory(0xC0AB, 0x12);
}

void test_12_0143()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x343C);
    WriteRegisterWord(RegisterType::SP, 0x8D1F);
    WriteRegisterByte(RegisterType::A, 0x72);
    WriteRegisterByte(RegisterType::B, 0xEB);
    WriteRegisterByte(RegisterType::C, 0x04);
    WriteRegisterByte(RegisterType::D, 0xB3);
    WriteRegisterByte(RegisterType::E, 0x90);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xEF);
    WriteRegisterByte(RegisterType::L, 0x91);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x343C, 0x12);
    WriteMemory(0xB390, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x72);
    CheckRegisterByte(RegisterType::B, 0xEB);
    CheckRegisterByte(RegisterType::C, 0x04);
    CheckRegisterByte(RegisterType::D, 0xB3);
    CheckRegisterByte(RegisterType::E, 0x90);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xEF);
    CheckRegisterByte(RegisterType::L, 0x91);
    WriteRegisterWord(RegisterType::PC, 0x343C);
    WriteRegisterWord(RegisterType::SP, 0x8D1F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x343C, 0x12);
    CheckMemory(0xB390, 0x72);
}

void test_12_0144()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x59CC);
    WriteRegisterWord(RegisterType::SP, 0x728F);
    WriteRegisterByte(RegisterType::A, 0x98);
    WriteRegisterByte(RegisterType::B, 0x4D);
    WriteRegisterByte(RegisterType::C, 0xE0);
    WriteRegisterByte(RegisterType::D, 0x3A);
    WriteRegisterByte(RegisterType::E, 0x9F);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xC1);
    WriteRegisterByte(RegisterType::L, 0x37);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3A9F, 0x00);
    WriteMemory(0x59CC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x98);
    CheckRegisterByte(RegisterType::B, 0x4D);
    CheckRegisterByte(RegisterType::C, 0xE0);
    CheckRegisterByte(RegisterType::D, 0x3A);
    CheckRegisterByte(RegisterType::E, 0x9F);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xC1);
    CheckRegisterByte(RegisterType::L, 0x37);
    WriteRegisterWord(RegisterType::PC, 0x59CC);
    WriteRegisterWord(RegisterType::SP, 0x728F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3A9F, 0x98);
    CheckMemory(0x59CC, 0x12);
}

void test_12_0145()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xECC2);
    WriteRegisterWord(RegisterType::SP, 0x7AD4);
    WriteRegisterByte(RegisterType::A, 0x22);
    WriteRegisterByte(RegisterType::B, 0xE0);
    WriteRegisterByte(RegisterType::C, 0xA7);
    WriteRegisterByte(RegisterType::D, 0x01);
    WriteRegisterByte(RegisterType::E, 0xA5);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x83);
    WriteRegisterByte(RegisterType::L, 0x4F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x01A5, 0x00);
    WriteMemory(0xECC2, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x22);
    CheckRegisterByte(RegisterType::B, 0xE0);
    CheckRegisterByte(RegisterType::C, 0xA7);
    CheckRegisterByte(RegisterType::D, 0x01);
    CheckRegisterByte(RegisterType::E, 0xA5);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x83);
    CheckRegisterByte(RegisterType::L, 0x4F);
    WriteRegisterWord(RegisterType::PC, 0xECC2);
    WriteRegisterWord(RegisterType::SP, 0x7AD4);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x01A5, 0x22);
    CheckMemory(0xECC2, 0x12);
}

void test_12_0146()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE580);
    WriteRegisterWord(RegisterType::SP, 0x1DDA);
    WriteRegisterByte(RegisterType::A, 0xB6);
    WriteRegisterByte(RegisterType::B, 0x09);
    WriteRegisterByte(RegisterType::C, 0x38);
    WriteRegisterByte(RegisterType::D, 0xE1);
    WriteRegisterByte(RegisterType::E, 0x74);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x76);
    WriteRegisterByte(RegisterType::L, 0x0D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xE174, 0x00);
    WriteMemory(0xE580, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB6);
    CheckRegisterByte(RegisterType::B, 0x09);
    CheckRegisterByte(RegisterType::C, 0x38);
    CheckRegisterByte(RegisterType::D, 0xE1);
    CheckRegisterByte(RegisterType::E, 0x74);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x76);
    CheckRegisterByte(RegisterType::L, 0x0D);
    WriteRegisterWord(RegisterType::PC, 0xE580);
    WriteRegisterWord(RegisterType::SP, 0x1DDA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xE174, 0xB6);
    CheckMemory(0xE580, 0x12);
}

void test_12_0147()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x273E);
    WriteRegisterWord(RegisterType::SP, 0x7D45);
    WriteRegisterByte(RegisterType::A, 0x64);
    WriteRegisterByte(RegisterType::B, 0xF3);
    WriteRegisterByte(RegisterType::C, 0x95);
    WriteRegisterByte(RegisterType::D, 0x0C);
    WriteRegisterByte(RegisterType::E, 0x69);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xEE);
    WriteRegisterByte(RegisterType::L, 0x90);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0C69, 0x00);
    WriteMemory(0x273E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x64);
    CheckRegisterByte(RegisterType::B, 0xF3);
    CheckRegisterByte(RegisterType::C, 0x95);
    CheckRegisterByte(RegisterType::D, 0x0C);
    CheckRegisterByte(RegisterType::E, 0x69);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xEE);
    CheckRegisterByte(RegisterType::L, 0x90);
    WriteRegisterWord(RegisterType::PC, 0x273E);
    WriteRegisterWord(RegisterType::SP, 0x7D45);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0C69, 0x64);
    CheckMemory(0x273E, 0x12);
}

void test_12_0148()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6AE6);
    WriteRegisterWord(RegisterType::SP, 0x375C);
    WriteRegisterByte(RegisterType::A, 0x37);
    WriteRegisterByte(RegisterType::B, 0x5F);
    WriteRegisterByte(RegisterType::C, 0x51);
    WriteRegisterByte(RegisterType::D, 0x26);
    WriteRegisterByte(RegisterType::E, 0x71);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x0D);
    WriteRegisterByte(RegisterType::L, 0xDD);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2671, 0x00);
    WriteMemory(0x6AE6, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x37);
    CheckRegisterByte(RegisterType::B, 0x5F);
    CheckRegisterByte(RegisterType::C, 0x51);
    CheckRegisterByte(RegisterType::D, 0x26);
    CheckRegisterByte(RegisterType::E, 0x71);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x0D);
    CheckRegisterByte(RegisterType::L, 0xDD);
    WriteRegisterWord(RegisterType::PC, 0x6AE6);
    WriteRegisterWord(RegisterType::SP, 0x375C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2671, 0x37);
    CheckMemory(0x6AE6, 0x12);
}

void test_12_0149()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDD30);
    WriteRegisterWord(RegisterType::SP, 0xAC03);
    WriteRegisterByte(RegisterType::A, 0xE5);
    WriteRegisterByte(RegisterType::B, 0xA5);
    WriteRegisterByte(RegisterType::C, 0x57);
    WriteRegisterByte(RegisterType::D, 0xEB);
    WriteRegisterByte(RegisterType::E, 0x0E);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xDF);
    WriteRegisterByte(RegisterType::L, 0xF7);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xDD30, 0x12);
    WriteMemory(0xEB0E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE5);
    CheckRegisterByte(RegisterType::B, 0xA5);
    CheckRegisterByte(RegisterType::C, 0x57);
    CheckRegisterByte(RegisterType::D, 0xEB);
    CheckRegisterByte(RegisterType::E, 0x0E);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xDF);
    CheckRegisterByte(RegisterType::L, 0xF7);
    WriteRegisterWord(RegisterType::PC, 0xDD30);
    WriteRegisterWord(RegisterType::SP, 0xAC03);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xDD30, 0x12);
    CheckMemory(0xEB0E, 0xE5);
}

void test_12_014A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9CC4);
    WriteRegisterWord(RegisterType::SP, 0x4BC3);
    WriteRegisterByte(RegisterType::A, 0xD6);
    WriteRegisterByte(RegisterType::B, 0x4A);
    WriteRegisterByte(RegisterType::C, 0xCB);
    WriteRegisterByte(RegisterType::D, 0xD4);
    WriteRegisterByte(RegisterType::E, 0x16);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x14);
    WriteRegisterByte(RegisterType::L, 0x0D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9CC4, 0x12);
    WriteMemory(0xD416, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD6);
    CheckRegisterByte(RegisterType::B, 0x4A);
    CheckRegisterByte(RegisterType::C, 0xCB);
    CheckRegisterByte(RegisterType::D, 0xD4);
    CheckRegisterByte(RegisterType::E, 0x16);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x14);
    CheckRegisterByte(RegisterType::L, 0x0D);
    WriteRegisterWord(RegisterType::PC, 0x9CC4);
    WriteRegisterWord(RegisterType::SP, 0x4BC3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9CC4, 0x12);
    CheckMemory(0xD416, 0xD6);
}

void test_12_014B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC5D0);
    WriteRegisterWord(RegisterType::SP, 0x1E08);
    WriteRegisterByte(RegisterType::A, 0x46);
    WriteRegisterByte(RegisterType::B, 0xF0);
    WriteRegisterByte(RegisterType::C, 0x5A);
    WriteRegisterByte(RegisterType::D, 0xD8);
    WriteRegisterByte(RegisterType::E, 0x4F);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xB3);
    WriteRegisterByte(RegisterType::L, 0x5D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xC5D0, 0x12);
    WriteMemory(0xD84F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x46);
    CheckRegisterByte(RegisterType::B, 0xF0);
    CheckRegisterByte(RegisterType::C, 0x5A);
    CheckRegisterByte(RegisterType::D, 0xD8);
    CheckRegisterByte(RegisterType::E, 0x4F);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xB3);
    CheckRegisterByte(RegisterType::L, 0x5D);
    WriteRegisterWord(RegisterType::PC, 0xC5D0);
    WriteRegisterWord(RegisterType::SP, 0x1E08);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xC5D0, 0x12);
    CheckMemory(0xD84F, 0x46);
}

void test_12_014C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x32B6);
    WriteRegisterWord(RegisterType::SP, 0x9BF3);
    WriteRegisterByte(RegisterType::A, 0xD5);
    WriteRegisterByte(RegisterType::B, 0xDF);
    WriteRegisterByte(RegisterType::C, 0x48);
    WriteRegisterByte(RegisterType::D, 0x00);
    WriteRegisterByte(RegisterType::E, 0x9D);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x95);
    WriteRegisterByte(RegisterType::L, 0xB2);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x009D, 0x00);
    WriteMemory(0x32B6, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD5);
    CheckRegisterByte(RegisterType::B, 0xDF);
    CheckRegisterByte(RegisterType::C, 0x48);
    CheckRegisterByte(RegisterType::D, 0x00);
    CheckRegisterByte(RegisterType::E, 0x9D);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x95);
    CheckRegisterByte(RegisterType::L, 0xB2);
    WriteRegisterWord(RegisterType::PC, 0x32B6);
    WriteRegisterWord(RegisterType::SP, 0x9BF3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x009D, 0xD5);
    CheckMemory(0x32B6, 0x12);
}

void test_12_014D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA59E);
    WriteRegisterWord(RegisterType::SP, 0x68ED);
    WriteRegisterByte(RegisterType::A, 0xED);
    WriteRegisterByte(RegisterType::B, 0x14);
    WriteRegisterByte(RegisterType::C, 0x87);
    WriteRegisterByte(RegisterType::D, 0x66);
    WriteRegisterByte(RegisterType::E, 0xE2);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x56);
    WriteRegisterByte(RegisterType::L, 0xFA);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x66E2, 0x00);
    WriteMemory(0xA59E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xED);
    CheckRegisterByte(RegisterType::B, 0x14);
    CheckRegisterByte(RegisterType::C, 0x87);
    CheckRegisterByte(RegisterType::D, 0x66);
    CheckRegisterByte(RegisterType::E, 0xE2);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x56);
    CheckRegisterByte(RegisterType::L, 0xFA);
    WriteRegisterWord(RegisterType::PC, 0xA59E);
    WriteRegisterWord(RegisterType::SP, 0x68ED);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x66E2, 0xED);
    CheckMemory(0xA59E, 0x12);
}

void test_12_014E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5F2C);
    WriteRegisterWord(RegisterType::SP, 0x2C25);
    WriteRegisterByte(RegisterType::A, 0xC9);
    WriteRegisterByte(RegisterType::B, 0x61);
    WriteRegisterByte(RegisterType::C, 0xB7);
    WriteRegisterByte(RegisterType::D, 0xDC);
    WriteRegisterByte(RegisterType::E, 0x5C);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x82);
    WriteRegisterByte(RegisterType::L, 0x55);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5F2C, 0x12);
    WriteMemory(0xDC5C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC9);
    CheckRegisterByte(RegisterType::B, 0x61);
    CheckRegisterByte(RegisterType::C, 0xB7);
    CheckRegisterByte(RegisterType::D, 0xDC);
    CheckRegisterByte(RegisterType::E, 0x5C);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x82);
    CheckRegisterByte(RegisterType::L, 0x55);
    WriteRegisterWord(RegisterType::PC, 0x5F2C);
    WriteRegisterWord(RegisterType::SP, 0x2C25);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5F2C, 0x12);
    CheckMemory(0xDC5C, 0xC9);
}

void test_12_014F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFA65);
    WriteRegisterWord(RegisterType::SP, 0xC12D);
    WriteRegisterByte(RegisterType::A, 0xFA);
    WriteRegisterByte(RegisterType::B, 0xEB);
    WriteRegisterByte(RegisterType::C, 0x82);
    WriteRegisterByte(RegisterType::D, 0xD3);
    WriteRegisterByte(RegisterType::E, 0x2D);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x4D);
    WriteRegisterByte(RegisterType::L, 0x90);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xD32D, 0x00);
    WriteMemory(0xFA65, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFA);
    CheckRegisterByte(RegisterType::B, 0xEB);
    CheckRegisterByte(RegisterType::C, 0x82);
    CheckRegisterByte(RegisterType::D, 0xD3);
    CheckRegisterByte(RegisterType::E, 0x2D);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x4D);
    CheckRegisterByte(RegisterType::L, 0x90);
    WriteRegisterWord(RegisterType::PC, 0xFA65);
    WriteRegisterWord(RegisterType::SP, 0xC12D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xD32D, 0xFA);
    CheckMemory(0xFA65, 0x12);
}

void test_12_0150()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x753C);
    WriteRegisterWord(RegisterType::SP, 0xE080);
    WriteRegisterByte(RegisterType::A, 0x85);
    WriteRegisterByte(RegisterType::B, 0x06);
    WriteRegisterByte(RegisterType::C, 0xB0);
    WriteRegisterByte(RegisterType::D, 0xEC);
    WriteRegisterByte(RegisterType::E, 0x74);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x20);
    WriteRegisterByte(RegisterType::L, 0xFD);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x753C, 0x12);
    WriteMemory(0xEC74, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x85);
    CheckRegisterByte(RegisterType::B, 0x06);
    CheckRegisterByte(RegisterType::C, 0xB0);
    CheckRegisterByte(RegisterType::D, 0xEC);
    CheckRegisterByte(RegisterType::E, 0x74);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x20);
    CheckRegisterByte(RegisterType::L, 0xFD);
    WriteRegisterWord(RegisterType::PC, 0x753C);
    WriteRegisterWord(RegisterType::SP, 0xE080);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x753C, 0x12);
    CheckMemory(0xEC74, 0x85);
}

void test_12_0151()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE259);
    WriteRegisterWord(RegisterType::SP, 0xD865);
    WriteRegisterByte(RegisterType::A, 0x8A);
    WriteRegisterByte(RegisterType::B, 0x6F);
    WriteRegisterByte(RegisterType::C, 0x91);
    WriteRegisterByte(RegisterType::D, 0xC7);
    WriteRegisterByte(RegisterType::E, 0xAC);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x6D);
    WriteRegisterByte(RegisterType::L, 0x2B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xC7AC, 0x00);
    WriteMemory(0xE259, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8A);
    CheckRegisterByte(RegisterType::B, 0x6F);
    CheckRegisterByte(RegisterType::C, 0x91);
    CheckRegisterByte(RegisterType::D, 0xC7);
    CheckRegisterByte(RegisterType::E, 0xAC);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x6D);
    CheckRegisterByte(RegisterType::L, 0x2B);
    WriteRegisterWord(RegisterType::PC, 0xE259);
    WriteRegisterWord(RegisterType::SP, 0xD865);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xC7AC, 0x8A);
    CheckMemory(0xE259, 0x12);
}

void test_12_0152()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF898);
    WriteRegisterWord(RegisterType::SP, 0xEBCE);
    WriteRegisterByte(RegisterType::A, 0x82);
    WriteRegisterByte(RegisterType::B, 0xA0);
    WriteRegisterByte(RegisterType::C, 0xBF);
    WriteRegisterByte(RegisterType::D, 0xD6);
    WriteRegisterByte(RegisterType::E, 0x0E);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x01);
    WriteRegisterByte(RegisterType::L, 0xD8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xD60E, 0x00);
    WriteMemory(0xF898, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x82);
    CheckRegisterByte(RegisterType::B, 0xA0);
    CheckRegisterByte(RegisterType::C, 0xBF);
    CheckRegisterByte(RegisterType::D, 0xD6);
    CheckRegisterByte(RegisterType::E, 0x0E);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x01);
    CheckRegisterByte(RegisterType::L, 0xD8);
    WriteRegisterWord(RegisterType::PC, 0xF898);
    WriteRegisterWord(RegisterType::SP, 0xEBCE);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xD60E, 0x82);
    CheckMemory(0xF898, 0x12);
}

void test_12_0153()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2870);
    WriteRegisterWord(RegisterType::SP, 0xDDDA);
    WriteRegisterByte(RegisterType::A, 0x92);
    WriteRegisterByte(RegisterType::B, 0x92);
    WriteRegisterByte(RegisterType::C, 0x32);
    WriteRegisterByte(RegisterType::D, 0xF7);
    WriteRegisterByte(RegisterType::E, 0x42);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xE3);
    WriteRegisterByte(RegisterType::L, 0x89);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2870, 0x12);
    WriteMemory(0xF742, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x92);
    CheckRegisterByte(RegisterType::B, 0x92);
    CheckRegisterByte(RegisterType::C, 0x32);
    CheckRegisterByte(RegisterType::D, 0xF7);
    CheckRegisterByte(RegisterType::E, 0x42);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xE3);
    CheckRegisterByte(RegisterType::L, 0x89);
    WriteRegisterWord(RegisterType::PC, 0x2870);
    WriteRegisterWord(RegisterType::SP, 0xDDDA);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2870, 0x12);
    CheckMemory(0xF742, 0x92);
}

void test_12_0154()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA503);
    WriteRegisterWord(RegisterType::SP, 0x1319);
    WriteRegisterByte(RegisterType::A, 0xDC);
    WriteRegisterByte(RegisterType::B, 0x31);
    WriteRegisterByte(RegisterType::C, 0x00);
    WriteRegisterByte(RegisterType::D, 0xC3);
    WriteRegisterByte(RegisterType::E, 0x0A);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x62);
    WriteRegisterByte(RegisterType::L, 0xB6);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xA503, 0x12);
    WriteMemory(0xC30A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDC);
    CheckRegisterByte(RegisterType::B, 0x31);
    CheckRegisterByte(RegisterType::C, 0x00);
    CheckRegisterByte(RegisterType::D, 0xC3);
    CheckRegisterByte(RegisterType::E, 0x0A);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x62);
    CheckRegisterByte(RegisterType::L, 0xB6);
    WriteRegisterWord(RegisterType::PC, 0xA503);
    WriteRegisterWord(RegisterType::SP, 0x1319);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xA503, 0x12);
    CheckMemory(0xC30A, 0xDC);
}

void test_12_0155()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDC0A);
    WriteRegisterWord(RegisterType::SP, 0x1FC3);
    WriteRegisterByte(RegisterType::A, 0xC0);
    WriteRegisterByte(RegisterType::B, 0xAA);
    WriteRegisterByte(RegisterType::C, 0x14);
    WriteRegisterByte(RegisterType::D, 0xCE);
    WriteRegisterByte(RegisterType::E, 0x6E);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x23);
    WriteRegisterByte(RegisterType::L, 0x17);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xCE6E, 0x00);
    WriteMemory(0xDC0A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC0);
    CheckRegisterByte(RegisterType::B, 0xAA);
    CheckRegisterByte(RegisterType::C, 0x14);
    CheckRegisterByte(RegisterType::D, 0xCE);
    CheckRegisterByte(RegisterType::E, 0x6E);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x23);
    CheckRegisterByte(RegisterType::L, 0x17);
    WriteRegisterWord(RegisterType::PC, 0xDC0A);
    WriteRegisterWord(RegisterType::SP, 0x1FC3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xCE6E, 0xC0);
    CheckMemory(0xDC0A, 0x12);
}

void test_12_0156()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF983);
    WriteRegisterWord(RegisterType::SP, 0x1DB4);
    WriteRegisterByte(RegisterType::A, 0x46);
    WriteRegisterByte(RegisterType::B, 0x3A);
    WriteRegisterByte(RegisterType::C, 0xD9);
    WriteRegisterByte(RegisterType::D, 0x56);
    WriteRegisterByte(RegisterType::E, 0x22);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xB7);
    WriteRegisterByte(RegisterType::L, 0x50);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5622, 0x00);
    WriteMemory(0xF983, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x46);
    CheckRegisterByte(RegisterType::B, 0x3A);
    CheckRegisterByte(RegisterType::C, 0xD9);
    CheckRegisterByte(RegisterType::D, 0x56);
    CheckRegisterByte(RegisterType::E, 0x22);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xB7);
    CheckRegisterByte(RegisterType::L, 0x50);
    WriteRegisterWord(RegisterType::PC, 0xF983);
    WriteRegisterWord(RegisterType::SP, 0x1DB4);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5622, 0x46);
    CheckMemory(0xF983, 0x12);
}

void test_12_0157()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7D0E);
    WriteRegisterWord(RegisterType::SP, 0x9944);
    WriteRegisterByte(RegisterType::A, 0xE9);
    WriteRegisterByte(RegisterType::B, 0x74);
    WriteRegisterByte(RegisterType::C, 0xF4);
    WriteRegisterByte(RegisterType::D, 0x3B);
    WriteRegisterByte(RegisterType::E, 0x41);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x23);
    WriteRegisterByte(RegisterType::L, 0x15);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3B41, 0x00);
    WriteMemory(0x7D0E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE9);
    CheckRegisterByte(RegisterType::B, 0x74);
    CheckRegisterByte(RegisterType::C, 0xF4);
    CheckRegisterByte(RegisterType::D, 0x3B);
    CheckRegisterByte(RegisterType::E, 0x41);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x23);
    CheckRegisterByte(RegisterType::L, 0x15);
    WriteRegisterWord(RegisterType::PC, 0x7D0E);
    WriteRegisterWord(RegisterType::SP, 0x9944);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3B41, 0xE9);
    CheckMemory(0x7D0E, 0x12);
}

void test_12_0158()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6AFE);
    WriteRegisterWord(RegisterType::SP, 0xD5E3);
    WriteRegisterByte(RegisterType::A, 0x50);
    WriteRegisterByte(RegisterType::B, 0x9B);
    WriteRegisterByte(RegisterType::C, 0x01);
    WriteRegisterByte(RegisterType::D, 0x69);
    WriteRegisterByte(RegisterType::E, 0xCE);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x49);
    WriteRegisterByte(RegisterType::L, 0x6C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x69CE, 0x00);
    WriteMemory(0x6AFE, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x50);
    CheckRegisterByte(RegisterType::B, 0x9B);
    CheckRegisterByte(RegisterType::C, 0x01);
    CheckRegisterByte(RegisterType::D, 0x69);
    CheckRegisterByte(RegisterType::E, 0xCE);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x49);
    CheckRegisterByte(RegisterType::L, 0x6C);
    WriteRegisterWord(RegisterType::PC, 0x6AFE);
    WriteRegisterWord(RegisterType::SP, 0xD5E3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x69CE, 0x50);
    CheckMemory(0x6AFE, 0x12);
}

void test_12_0159()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE502);
    WriteRegisterWord(RegisterType::SP, 0xFF7B);
    WriteRegisterByte(RegisterType::A, 0x72);
    WriteRegisterByte(RegisterType::B, 0x7A);
    WriteRegisterByte(RegisterType::C, 0x9C);
    WriteRegisterByte(RegisterType::D, 0xC8);
    WriteRegisterByte(RegisterType::E, 0x13);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xB7);
    WriteRegisterByte(RegisterType::L, 0x45);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xC813, 0x00);
    WriteMemory(0xE502, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x72);
    CheckRegisterByte(RegisterType::B, 0x7A);
    CheckRegisterByte(RegisterType::C, 0x9C);
    CheckRegisterByte(RegisterType::D, 0xC8);
    CheckRegisterByte(RegisterType::E, 0x13);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xB7);
    CheckRegisterByte(RegisterType::L, 0x45);
    WriteRegisterWord(RegisterType::PC, 0xE502);
    WriteRegisterWord(RegisterType::SP, 0xFF7B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xC813, 0x72);
    CheckMemory(0xE502, 0x12);
}

void test_12_015A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x411B);
    WriteRegisterWord(RegisterType::SP, 0x5D27);
    WriteRegisterByte(RegisterType::A, 0x7C);
    WriteRegisterByte(RegisterType::B, 0xB4);
    WriteRegisterByte(RegisterType::C, 0x21);
    WriteRegisterByte(RegisterType::D, 0xA7);
    WriteRegisterByte(RegisterType::E, 0xEA);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x78);
    WriteRegisterByte(RegisterType::L, 0xAA);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x411B, 0x12);
    WriteMemory(0xA7EA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7C);
    CheckRegisterByte(RegisterType::B, 0xB4);
    CheckRegisterByte(RegisterType::C, 0x21);
    CheckRegisterByte(RegisterType::D, 0xA7);
    CheckRegisterByte(RegisterType::E, 0xEA);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x78);
    CheckRegisterByte(RegisterType::L, 0xAA);
    WriteRegisterWord(RegisterType::PC, 0x411B);
    WriteRegisterWord(RegisterType::SP, 0x5D27);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x411B, 0x12);
    CheckMemory(0xA7EA, 0x7C);
}

void test_12_015B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x87BE);
    WriteRegisterWord(RegisterType::SP, 0xCE94);
    WriteRegisterByte(RegisterType::A, 0xBF);
    WriteRegisterByte(RegisterType::B, 0x10);
    WriteRegisterByte(RegisterType::C, 0x0F);
    WriteRegisterByte(RegisterType::D, 0xAB);
    WriteRegisterByte(RegisterType::E, 0xDD);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x8A);
    WriteRegisterByte(RegisterType::L, 0xBF);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x87BE, 0x12);
    WriteMemory(0xABDD, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBF);
    CheckRegisterByte(RegisterType::B, 0x10);
    CheckRegisterByte(RegisterType::C, 0x0F);
    CheckRegisterByte(RegisterType::D, 0xAB);
    CheckRegisterByte(RegisterType::E, 0xDD);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x8A);
    CheckRegisterByte(RegisterType::L, 0xBF);
    WriteRegisterWord(RegisterType::PC, 0x87BE);
    WriteRegisterWord(RegisterType::SP, 0xCE94);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x87BE, 0x12);
    CheckMemory(0xABDD, 0xBF);
}

void test_12_015C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x603B);
    WriteRegisterWord(RegisterType::SP, 0xAFE4);
    WriteRegisterByte(RegisterType::A, 0xF2);
    WriteRegisterByte(RegisterType::B, 0x4C);
    WriteRegisterByte(RegisterType::C, 0xB8);
    WriteRegisterByte(RegisterType::D, 0x88);
    WriteRegisterByte(RegisterType::E, 0x9F);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x16);
    WriteRegisterByte(RegisterType::L, 0x63);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x603B, 0x12);
    WriteMemory(0x889F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF2);
    CheckRegisterByte(RegisterType::B, 0x4C);
    CheckRegisterByte(RegisterType::C, 0xB8);
    CheckRegisterByte(RegisterType::D, 0x88);
    CheckRegisterByte(RegisterType::E, 0x9F);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x16);
    CheckRegisterByte(RegisterType::L, 0x63);
    WriteRegisterWord(RegisterType::PC, 0x603B);
    WriteRegisterWord(RegisterType::SP, 0xAFE4);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x603B, 0x12);
    CheckMemory(0x889F, 0xF2);
}

void test_12_015D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA430);
    WriteRegisterWord(RegisterType::SP, 0xFBA2);
    WriteRegisterByte(RegisterType::A, 0xE5);
    WriteRegisterByte(RegisterType::B, 0xC7);
    WriteRegisterByte(RegisterType::C, 0xC7);
    WriteRegisterByte(RegisterType::D, 0xF8);
    WriteRegisterByte(RegisterType::E, 0xBF);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x93);
    WriteRegisterByte(RegisterType::L, 0x71);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xA430, 0x12);
    WriteMemory(0xF8BF, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE5);
    CheckRegisterByte(RegisterType::B, 0xC7);
    CheckRegisterByte(RegisterType::C, 0xC7);
    CheckRegisterByte(RegisterType::D, 0xF8);
    CheckRegisterByte(RegisterType::E, 0xBF);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x93);
    CheckRegisterByte(RegisterType::L, 0x71);
    WriteRegisterWord(RegisterType::PC, 0xA430);
    WriteRegisterWord(RegisterType::SP, 0xFBA2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xA430, 0x12);
    CheckMemory(0xF8BF, 0xE5);
}

void test_12_015E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA3F8);
    WriteRegisterWord(RegisterType::SP, 0x2623);
    WriteRegisterByte(RegisterType::A, 0xAB);
    WriteRegisterByte(RegisterType::B, 0x57);
    WriteRegisterByte(RegisterType::C, 0xE9);
    WriteRegisterByte(RegisterType::D, 0x3C);
    WriteRegisterByte(RegisterType::E, 0x65);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x4A);
    WriteRegisterByte(RegisterType::L, 0x61);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3C65, 0x00);
    WriteMemory(0xA3F8, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAB);
    CheckRegisterByte(RegisterType::B, 0x57);
    CheckRegisterByte(RegisterType::C, 0xE9);
    CheckRegisterByte(RegisterType::D, 0x3C);
    CheckRegisterByte(RegisterType::E, 0x65);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x4A);
    CheckRegisterByte(RegisterType::L, 0x61);
    WriteRegisterWord(RegisterType::PC, 0xA3F8);
    WriteRegisterWord(RegisterType::SP, 0x2623);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3C65, 0xAB);
    CheckMemory(0xA3F8, 0x12);
}

void test_12_015F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x398F);
    WriteRegisterWord(RegisterType::SP, 0x8578);
    WriteRegisterByte(RegisterType::A, 0x23);
    WriteRegisterByte(RegisterType::B, 0xC4);
    WriteRegisterByte(RegisterType::C, 0xBA);
    WriteRegisterByte(RegisterType::D, 0xF2);
    WriteRegisterByte(RegisterType::E, 0x0A);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xF4);
    WriteRegisterByte(RegisterType::L, 0x79);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x398F, 0x12);
    WriteMemory(0xF20A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x23);
    CheckRegisterByte(RegisterType::B, 0xC4);
    CheckRegisterByte(RegisterType::C, 0xBA);
    CheckRegisterByte(RegisterType::D, 0xF2);
    CheckRegisterByte(RegisterType::E, 0x0A);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xF4);
    CheckRegisterByte(RegisterType::L, 0x79);
    WriteRegisterWord(RegisterType::PC, 0x398F);
    WriteRegisterWord(RegisterType::SP, 0x8578);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x398F, 0x12);
    CheckMemory(0xF20A, 0x23);
}

void test_12_0160()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x682D);
    WriteRegisterWord(RegisterType::SP, 0x9674);
    WriteRegisterByte(RegisterType::A, 0x3A);
    WriteRegisterByte(RegisterType::B, 0x07);
    WriteRegisterByte(RegisterType::C, 0x5A);
    WriteRegisterByte(RegisterType::D, 0xD6);
    WriteRegisterByte(RegisterType::E, 0x87);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xEB);
    WriteRegisterByte(RegisterType::L, 0xDA);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x682D, 0x12);
    WriteMemory(0xD687, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3A);
    CheckRegisterByte(RegisterType::B, 0x07);
    CheckRegisterByte(RegisterType::C, 0x5A);
    CheckRegisterByte(RegisterType::D, 0xD6);
    CheckRegisterByte(RegisterType::E, 0x87);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xEB);
    CheckRegisterByte(RegisterType::L, 0xDA);
    WriteRegisterWord(RegisterType::PC, 0x682D);
    WriteRegisterWord(RegisterType::SP, 0x9674);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x682D, 0x12);
    CheckMemory(0xD687, 0x3A);
}

void test_12_0161()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2E34);
    WriteRegisterWord(RegisterType::SP, 0x1003);
    WriteRegisterByte(RegisterType::A, 0x7A);
    WriteRegisterByte(RegisterType::B, 0xC7);
    WriteRegisterByte(RegisterType::C, 0xA3);
    WriteRegisterByte(RegisterType::D, 0xFC);
    WriteRegisterByte(RegisterType::E, 0xC5);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x05);
    WriteRegisterByte(RegisterType::L, 0xB6);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2E34, 0x12);
    WriteMemory(0xFCC5, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7A);
    CheckRegisterByte(RegisterType::B, 0xC7);
    CheckRegisterByte(RegisterType::C, 0xA3);
    CheckRegisterByte(RegisterType::D, 0xFC);
    CheckRegisterByte(RegisterType::E, 0xC5);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x05);
    CheckRegisterByte(RegisterType::L, 0xB6);
    WriteRegisterWord(RegisterType::PC, 0x2E34);
    WriteRegisterWord(RegisterType::SP, 0x1003);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2E34, 0x12);
    CheckMemory(0xFCC5, 0x7A);
}

void test_12_0162()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0E75);
    WriteRegisterWord(RegisterType::SP, 0xD1FC);
    WriteRegisterByte(RegisterType::A, 0xC7);
    WriteRegisterByte(RegisterType::B, 0x6D);
    WriteRegisterByte(RegisterType::C, 0xE7);
    WriteRegisterByte(RegisterType::D, 0xEA);
    WriteRegisterByte(RegisterType::E, 0xA6);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xE9);
    WriteRegisterByte(RegisterType::L, 0x4B);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0E75, 0x12);
    WriteMemory(0xEAA6, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC7);
    CheckRegisterByte(RegisterType::B, 0x6D);
    CheckRegisterByte(RegisterType::C, 0xE7);
    CheckRegisterByte(RegisterType::D, 0xEA);
    CheckRegisterByte(RegisterType::E, 0xA6);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xE9);
    CheckRegisterByte(RegisterType::L, 0x4B);
    WriteRegisterWord(RegisterType::PC, 0x0E75);
    WriteRegisterWord(RegisterType::SP, 0xD1FC);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0E75, 0x12);
    CheckMemory(0xEAA6, 0xC7);
}

void test_12_0163()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF709);
    WriteRegisterWord(RegisterType::SP, 0x8A1F);
    WriteRegisterByte(RegisterType::A, 0x94);
    WriteRegisterByte(RegisterType::B, 0x48);
    WriteRegisterByte(RegisterType::C, 0x03);
    WriteRegisterByte(RegisterType::D, 0xE8);
    WriteRegisterByte(RegisterType::E, 0x57);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x04);
    WriteRegisterByte(RegisterType::L, 0x72);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xE857, 0x00);
    WriteMemory(0xF709, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x94);
    CheckRegisterByte(RegisterType::B, 0x48);
    CheckRegisterByte(RegisterType::C, 0x03);
    CheckRegisterByte(RegisterType::D, 0xE8);
    CheckRegisterByte(RegisterType::E, 0x57);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x04);
    CheckRegisterByte(RegisterType::L, 0x72);
    WriteRegisterWord(RegisterType::PC, 0xF709);
    WriteRegisterWord(RegisterType::SP, 0x8A1F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xE857, 0x94);
    CheckMemory(0xF709, 0x12);
}

void test_12_0164()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCF86);
    WriteRegisterWord(RegisterType::SP, 0xC32A);
    WriteRegisterByte(RegisterType::A, 0x21);
    WriteRegisterByte(RegisterType::B, 0x48);
    WriteRegisterByte(RegisterType::C, 0xF5);
    WriteRegisterByte(RegisterType::D, 0x53);
    WriteRegisterByte(RegisterType::E, 0x68);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x15);
    WriteRegisterByte(RegisterType::L, 0x28);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5368, 0x00);
    WriteMemory(0xCF86, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x21);
    CheckRegisterByte(RegisterType::B, 0x48);
    CheckRegisterByte(RegisterType::C, 0xF5);
    CheckRegisterByte(RegisterType::D, 0x53);
    CheckRegisterByte(RegisterType::E, 0x68);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x15);
    CheckRegisterByte(RegisterType::L, 0x28);
    WriteRegisterWord(RegisterType::PC, 0xCF86);
    WriteRegisterWord(RegisterType::SP, 0xC32A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5368, 0x21);
    CheckMemory(0xCF86, 0x12);
}

void test_12_0165()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAEEC);
    WriteRegisterWord(RegisterType::SP, 0x93F9);
    WriteRegisterByte(RegisterType::A, 0x1C);
    WriteRegisterByte(RegisterType::B, 0x84);
    WriteRegisterByte(RegisterType::C, 0x87);
    WriteRegisterByte(RegisterType::D, 0x4A);
    WriteRegisterByte(RegisterType::E, 0xC4);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x47);
    WriteRegisterByte(RegisterType::L, 0x4E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4AC4, 0x00);
    WriteMemory(0xAEEC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1C);
    CheckRegisterByte(RegisterType::B, 0x84);
    CheckRegisterByte(RegisterType::C, 0x87);
    CheckRegisterByte(RegisterType::D, 0x4A);
    CheckRegisterByte(RegisterType::E, 0xC4);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x47);
    CheckRegisterByte(RegisterType::L, 0x4E);
    WriteRegisterWord(RegisterType::PC, 0xAEEC);
    WriteRegisterWord(RegisterType::SP, 0x93F9);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4AC4, 0x1C);
    CheckMemory(0xAEEC, 0x12);
}

void test_12_0166()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4E21);
    WriteRegisterWord(RegisterType::SP, 0x0022);
    WriteRegisterByte(RegisterType::A, 0x07);
    WriteRegisterByte(RegisterType::B, 0x85);
    WriteRegisterByte(RegisterType::C, 0x36);
    WriteRegisterByte(RegisterType::D, 0xCC);
    WriteRegisterByte(RegisterType::E, 0x33);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x21);
    WriteRegisterByte(RegisterType::L, 0x48);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4E21, 0x12);
    WriteMemory(0xCC33, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x07);
    CheckRegisterByte(RegisterType::B, 0x85);
    CheckRegisterByte(RegisterType::C, 0x36);
    CheckRegisterByte(RegisterType::D, 0xCC);
    CheckRegisterByte(RegisterType::E, 0x33);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x21);
    CheckRegisterByte(RegisterType::L, 0x48);
    WriteRegisterWord(RegisterType::PC, 0x4E21);
    WriteRegisterWord(RegisterType::SP, 0x0022);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4E21, 0x12);
    CheckMemory(0xCC33, 0x07);
}

void test_12_0167()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0AF6);
    WriteRegisterWord(RegisterType::SP, 0x8A7D);
    WriteRegisterByte(RegisterType::A, 0xFE);
    WriteRegisterByte(RegisterType::B, 0x81);
    WriteRegisterByte(RegisterType::C, 0xB4);
    WriteRegisterByte(RegisterType::D, 0x58);
    WriteRegisterByte(RegisterType::E, 0x91);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x09);
    WriteRegisterByte(RegisterType::L, 0xEE);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0AF6, 0x12);
    WriteMemory(0x5891, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFE);
    CheckRegisterByte(RegisterType::B, 0x81);
    CheckRegisterByte(RegisterType::C, 0xB4);
    CheckRegisterByte(RegisterType::D, 0x58);
    CheckRegisterByte(RegisterType::E, 0x91);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x09);
    CheckRegisterByte(RegisterType::L, 0xEE);
    WriteRegisterWord(RegisterType::PC, 0x0AF6);
    WriteRegisterWord(RegisterType::SP, 0x8A7D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0AF6, 0x12);
    CheckMemory(0x5891, 0xFE);
}

void test_12_0168()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0336);
    WriteRegisterWord(RegisterType::SP, 0xC8DA);
    WriteRegisterByte(RegisterType::A, 0xF5);
    WriteRegisterByte(RegisterType::B, 0xAE);
    WriteRegisterByte(RegisterType::C, 0x01);
    WriteRegisterByte(RegisterType::D, 0xB0);
    WriteRegisterByte(RegisterType::E, 0xAD);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xA7);
    WriteRegisterByte(RegisterType::L, 0xA7);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0336, 0x12);
    WriteMemory(0xB0AD, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF5);
    CheckRegisterByte(RegisterType::B, 0xAE);
    CheckRegisterByte(RegisterType::C, 0x01);
    CheckRegisterByte(RegisterType::D, 0xB0);
    CheckRegisterByte(RegisterType::E, 0xAD);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xA7);
    CheckRegisterByte(RegisterType::L, 0xA7);
    WriteRegisterWord(RegisterType::PC, 0x0336);
    WriteRegisterWord(RegisterType::SP, 0xC8DA);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0336, 0x12);
    CheckMemory(0xB0AD, 0xF5);
}

void test_12_0169()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4DF1);
    WriteRegisterWord(RegisterType::SP, 0x4BCE);
    WriteRegisterByte(RegisterType::A, 0xA3);
    WriteRegisterByte(RegisterType::B, 0x6B);
    WriteRegisterByte(RegisterType::C, 0x57);
    WriteRegisterByte(RegisterType::D, 0xD7);
    WriteRegisterByte(RegisterType::E, 0x48);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x31);
    WriteRegisterByte(RegisterType::L, 0xA3);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4DF1, 0x12);
    WriteMemory(0xD748, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA3);
    CheckRegisterByte(RegisterType::B, 0x6B);
    CheckRegisterByte(RegisterType::C, 0x57);
    CheckRegisterByte(RegisterType::D, 0xD7);
    CheckRegisterByte(RegisterType::E, 0x48);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x31);
    CheckRegisterByte(RegisterType::L, 0xA3);
    WriteRegisterWord(RegisterType::PC, 0x4DF1);
    WriteRegisterWord(RegisterType::SP, 0x4BCE);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4DF1, 0x12);
    CheckMemory(0xD748, 0xA3);
}

void test_12_016A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5E5D);
    WriteRegisterWord(RegisterType::SP, 0xE418);
    WriteRegisterByte(RegisterType::A, 0xA1);
    WriteRegisterByte(RegisterType::B, 0x60);
    WriteRegisterByte(RegisterType::C, 0xAD);
    WriteRegisterByte(RegisterType::D, 0x49);
    WriteRegisterByte(RegisterType::E, 0x9C);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x84);
    WriteRegisterByte(RegisterType::L, 0x73);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x499C, 0x00);
    WriteMemory(0x5E5D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA1);
    CheckRegisterByte(RegisterType::B, 0x60);
    CheckRegisterByte(RegisterType::C, 0xAD);
    CheckRegisterByte(RegisterType::D, 0x49);
    CheckRegisterByte(RegisterType::E, 0x9C);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x84);
    CheckRegisterByte(RegisterType::L, 0x73);
    WriteRegisterWord(RegisterType::PC, 0x5E5D);
    WriteRegisterWord(RegisterType::SP, 0xE418);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x499C, 0xA1);
    CheckMemory(0x5E5D, 0x12);
}

void test_12_016B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2A42);
    WriteRegisterWord(RegisterType::SP, 0xBC45);
    WriteRegisterByte(RegisterType::A, 0x2F);
    WriteRegisterByte(RegisterType::B, 0x94);
    WriteRegisterByte(RegisterType::C, 0x96);
    WriteRegisterByte(RegisterType::D, 0x27);
    WriteRegisterByte(RegisterType::E, 0x39);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x6D);
    WriteRegisterByte(RegisterType::L, 0xD6);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2739, 0x00);
    WriteMemory(0x2A42, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2F);
    CheckRegisterByte(RegisterType::B, 0x94);
    CheckRegisterByte(RegisterType::C, 0x96);
    CheckRegisterByte(RegisterType::D, 0x27);
    CheckRegisterByte(RegisterType::E, 0x39);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x6D);
    CheckRegisterByte(RegisterType::L, 0xD6);
    WriteRegisterWord(RegisterType::PC, 0x2A42);
    WriteRegisterWord(RegisterType::SP, 0xBC45);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2739, 0x2F);
    CheckMemory(0x2A42, 0x12);
}

void test_12_016C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6E2B);
    WriteRegisterWord(RegisterType::SP, 0xCC4F);
    WriteRegisterByte(RegisterType::A, 0xAA);
    WriteRegisterByte(RegisterType::B, 0x93);
    WriteRegisterByte(RegisterType::C, 0xDB);
    WriteRegisterByte(RegisterType::D, 0x11);
    WriteRegisterByte(RegisterType::E, 0x7C);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xCF);
    WriteRegisterByte(RegisterType::L, 0xC4);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x117C, 0x00);
    WriteMemory(0x6E2B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAA);
    CheckRegisterByte(RegisterType::B, 0x93);
    CheckRegisterByte(RegisterType::C, 0xDB);
    CheckRegisterByte(RegisterType::D, 0x11);
    CheckRegisterByte(RegisterType::E, 0x7C);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xCF);
    CheckRegisterByte(RegisterType::L, 0xC4);
    WriteRegisterWord(RegisterType::PC, 0x6E2B);
    WriteRegisterWord(RegisterType::SP, 0xCC4F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x117C, 0xAA);
    CheckMemory(0x6E2B, 0x12);
}

void test_12_016D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1C16);
    WriteRegisterWord(RegisterType::SP, 0x7055);
    WriteRegisterByte(RegisterType::A, 0x79);
    WriteRegisterByte(RegisterType::B, 0x02);
    WriteRegisterByte(RegisterType::C, 0x82);
    WriteRegisterByte(RegisterType::D, 0xA8);
    WriteRegisterByte(RegisterType::E, 0x45);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x94);
    WriteRegisterByte(RegisterType::L, 0x5A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1C16, 0x12);
    WriteMemory(0xA845, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x79);
    CheckRegisterByte(RegisterType::B, 0x02);
    CheckRegisterByte(RegisterType::C, 0x82);
    CheckRegisterByte(RegisterType::D, 0xA8);
    CheckRegisterByte(RegisterType::E, 0x45);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x94);
    CheckRegisterByte(RegisterType::L, 0x5A);
    WriteRegisterWord(RegisterType::PC, 0x1C16);
    WriteRegisterWord(RegisterType::SP, 0x7055);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1C16, 0x12);
    CheckMemory(0xA845, 0x79);
}

void test_12_016E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBC7A);
    WriteRegisterWord(RegisterType::SP, 0x8E1C);
    WriteRegisterByte(RegisterType::A, 0x3D);
    WriteRegisterByte(RegisterType::B, 0xC0);
    WriteRegisterByte(RegisterType::C, 0x79);
    WriteRegisterByte(RegisterType::D, 0x9D);
    WriteRegisterByte(RegisterType::E, 0x14);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x84);
    WriteRegisterByte(RegisterType::L, 0x44);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9D14, 0x00);
    WriteMemory(0xBC7A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3D);
    CheckRegisterByte(RegisterType::B, 0xC0);
    CheckRegisterByte(RegisterType::C, 0x79);
    CheckRegisterByte(RegisterType::D, 0x9D);
    CheckRegisterByte(RegisterType::E, 0x14);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x84);
    CheckRegisterByte(RegisterType::L, 0x44);
    WriteRegisterWord(RegisterType::PC, 0xBC7A);
    WriteRegisterWord(RegisterType::SP, 0x8E1C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9D14, 0x3D);
    CheckMemory(0xBC7A, 0x12);
}

void test_12_016F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x94A7);
    WriteRegisterWord(RegisterType::SP, 0x8422);
    WriteRegisterByte(RegisterType::A, 0x4E);
    WriteRegisterByte(RegisterType::B, 0xF7);
    WriteRegisterByte(RegisterType::C, 0xCD);
    WriteRegisterByte(RegisterType::D, 0xF0);
    WriteRegisterByte(RegisterType::E, 0xC3);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x69);
    WriteRegisterByte(RegisterType::L, 0xEB);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x94A7, 0x12);
    WriteMemory(0xF0C3, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4E);
    CheckRegisterByte(RegisterType::B, 0xF7);
    CheckRegisterByte(RegisterType::C, 0xCD);
    CheckRegisterByte(RegisterType::D, 0xF0);
    CheckRegisterByte(RegisterType::E, 0xC3);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x69);
    CheckRegisterByte(RegisterType::L, 0xEB);
    WriteRegisterWord(RegisterType::PC, 0x94A7);
    WriteRegisterWord(RegisterType::SP, 0x8422);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x94A7, 0x12);
    CheckMemory(0xF0C3, 0x4E);
}

void test_12_0170()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3294);
    WriteRegisterWord(RegisterType::SP, 0x64BF);
    WriteRegisterByte(RegisterType::A, 0xD6);
    WriteRegisterByte(RegisterType::B, 0xAB);
    WriteRegisterByte(RegisterType::C, 0xD3);
    WriteRegisterByte(RegisterType::D, 0x6E);
    WriteRegisterByte(RegisterType::E, 0x92);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xDC);
    WriteRegisterByte(RegisterType::L, 0x11);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3294, 0x12);
    WriteMemory(0x6E92, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD6);
    CheckRegisterByte(RegisterType::B, 0xAB);
    CheckRegisterByte(RegisterType::C, 0xD3);
    CheckRegisterByte(RegisterType::D, 0x6E);
    CheckRegisterByte(RegisterType::E, 0x92);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xDC);
    CheckRegisterByte(RegisterType::L, 0x11);
    WriteRegisterWord(RegisterType::PC, 0x3294);
    WriteRegisterWord(RegisterType::SP, 0x64BF);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3294, 0x12);
    CheckMemory(0x6E92, 0xD6);
}

void test_12_0171()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6879);
    WriteRegisterWord(RegisterType::SP, 0xEE23);
    WriteRegisterByte(RegisterType::A, 0xC4);
    WriteRegisterByte(RegisterType::B, 0xFE);
    WriteRegisterByte(RegisterType::C, 0x56);
    WriteRegisterByte(RegisterType::D, 0x59);
    WriteRegisterByte(RegisterType::E, 0x6C);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x92);
    WriteRegisterByte(RegisterType::L, 0x94);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x596C, 0x00);
    WriteMemory(0x6879, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC4);
    CheckRegisterByte(RegisterType::B, 0xFE);
    CheckRegisterByte(RegisterType::C, 0x56);
    CheckRegisterByte(RegisterType::D, 0x59);
    CheckRegisterByte(RegisterType::E, 0x6C);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x92);
    CheckRegisterByte(RegisterType::L, 0x94);
    WriteRegisterWord(RegisterType::PC, 0x6879);
    WriteRegisterWord(RegisterType::SP, 0xEE23);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x596C, 0xC4);
    CheckMemory(0x6879, 0x12);
}

void test_12_0172()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0F1F);
    WriteRegisterWord(RegisterType::SP, 0x2CBA);
    WriteRegisterByte(RegisterType::A, 0x0A);
    WriteRegisterByte(RegisterType::B, 0x4E);
    WriteRegisterByte(RegisterType::C, 0x73);
    WriteRegisterByte(RegisterType::D, 0x2B);
    WriteRegisterByte(RegisterType::E, 0x3B);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x7D);
    WriteRegisterByte(RegisterType::L, 0xE1);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0F1F, 0x12);
    WriteMemory(0x2B3B, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0A);
    CheckRegisterByte(RegisterType::B, 0x4E);
    CheckRegisterByte(RegisterType::C, 0x73);
    CheckRegisterByte(RegisterType::D, 0x2B);
    CheckRegisterByte(RegisterType::E, 0x3B);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x7D);
    CheckRegisterByte(RegisterType::L, 0xE1);
    WriteRegisterWord(RegisterType::PC, 0x0F1F);
    WriteRegisterWord(RegisterType::SP, 0x2CBA);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0F1F, 0x12);
    CheckMemory(0x2B3B, 0x0A);
}

void test_12_0173()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1B57);
    WriteRegisterWord(RegisterType::SP, 0x76BD);
    WriteRegisterByte(RegisterType::A, 0x8B);
    WriteRegisterByte(RegisterType::B, 0x1D);
    WriteRegisterByte(RegisterType::C, 0x95);
    WriteRegisterByte(RegisterType::D, 0x19);
    WriteRegisterByte(RegisterType::E, 0x37);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x57);
    WriteRegisterByte(RegisterType::L, 0x5C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1937, 0x00);
    WriteMemory(0x1B57, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8B);
    CheckRegisterByte(RegisterType::B, 0x1D);
    CheckRegisterByte(RegisterType::C, 0x95);
    CheckRegisterByte(RegisterType::D, 0x19);
    CheckRegisterByte(RegisterType::E, 0x37);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x57);
    CheckRegisterByte(RegisterType::L, 0x5C);
    WriteRegisterWord(RegisterType::PC, 0x1B57);
    WriteRegisterWord(RegisterType::SP, 0x76BD);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1937, 0x8B);
    CheckMemory(0x1B57, 0x12);
}

void test_12_0174()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x481A);
    WriteRegisterWord(RegisterType::SP, 0xBAE2);
    WriteRegisterByte(RegisterType::A, 0x1C);
    WriteRegisterByte(RegisterType::B, 0xD2);
    WriteRegisterByte(RegisterType::C, 0xA0);
    WriteRegisterByte(RegisterType::D, 0x92);
    WriteRegisterByte(RegisterType::E, 0x3B);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x6E);
    WriteRegisterByte(RegisterType::L, 0x66);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x481A, 0x12);
    WriteMemory(0x923B, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1C);
    CheckRegisterByte(RegisterType::B, 0xD2);
    CheckRegisterByte(RegisterType::C, 0xA0);
    CheckRegisterByte(RegisterType::D, 0x92);
    CheckRegisterByte(RegisterType::E, 0x3B);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x6E);
    CheckRegisterByte(RegisterType::L, 0x66);
    WriteRegisterWord(RegisterType::PC, 0x481A);
    WriteRegisterWord(RegisterType::SP, 0xBAE2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x481A, 0x12);
    CheckMemory(0x923B, 0x1C);
}

void test_12_0175()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE43C);
    WriteRegisterWord(RegisterType::SP, 0x4225);
    WriteRegisterByte(RegisterType::A, 0x3C);
    WriteRegisterByte(RegisterType::B, 0x30);
    WriteRegisterByte(RegisterType::C, 0x04);
    WriteRegisterByte(RegisterType::D, 0xE0);
    WriteRegisterByte(RegisterType::E, 0x0B);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xCD);
    WriteRegisterByte(RegisterType::L, 0xC1);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xE00B, 0x00);
    WriteMemory(0xE43C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3C);
    CheckRegisterByte(RegisterType::B, 0x30);
    CheckRegisterByte(RegisterType::C, 0x04);
    CheckRegisterByte(RegisterType::D, 0xE0);
    CheckRegisterByte(RegisterType::E, 0x0B);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xCD);
    CheckRegisterByte(RegisterType::L, 0xC1);
    WriteRegisterWord(RegisterType::PC, 0xE43C);
    WriteRegisterWord(RegisterType::SP, 0x4225);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xE00B, 0x3C);
    CheckMemory(0xE43C, 0x12);
}

void test_12_0176()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4666);
    WriteRegisterWord(RegisterType::SP, 0x5D1C);
    WriteRegisterByte(RegisterType::A, 0x39);
    WriteRegisterByte(RegisterType::B, 0x59);
    WriteRegisterByte(RegisterType::C, 0x9D);
    WriteRegisterByte(RegisterType::D, 0xD6);
    WriteRegisterByte(RegisterType::E, 0x84);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x30);
    WriteRegisterByte(RegisterType::L, 0x50);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4666, 0x12);
    WriteMemory(0xD684, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x39);
    CheckRegisterByte(RegisterType::B, 0x59);
    CheckRegisterByte(RegisterType::C, 0x9D);
    CheckRegisterByte(RegisterType::D, 0xD6);
    CheckRegisterByte(RegisterType::E, 0x84);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x30);
    CheckRegisterByte(RegisterType::L, 0x50);
    WriteRegisterWord(RegisterType::PC, 0x4666);
    WriteRegisterWord(RegisterType::SP, 0x5D1C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4666, 0x12);
    CheckMemory(0xD684, 0x39);
}

void test_12_0177()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB054);
    WriteRegisterWord(RegisterType::SP, 0x5BCC);
    WriteRegisterByte(RegisterType::A, 0xAF);
    WriteRegisterByte(RegisterType::B, 0xF7);
    WriteRegisterByte(RegisterType::C, 0xF5);
    WriteRegisterByte(RegisterType::D, 0x99);
    WriteRegisterByte(RegisterType::E, 0xAF);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xFD);
    WriteRegisterByte(RegisterType::L, 0xD2);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x99AF, 0x00);
    WriteMemory(0xB054, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAF);
    CheckRegisterByte(RegisterType::B, 0xF7);
    CheckRegisterByte(RegisterType::C, 0xF5);
    CheckRegisterByte(RegisterType::D, 0x99);
    CheckRegisterByte(RegisterType::E, 0xAF);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xFD);
    CheckRegisterByte(RegisterType::L, 0xD2);
    WriteRegisterWord(RegisterType::PC, 0xB054);
    WriteRegisterWord(RegisterType::SP, 0x5BCC);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x99AF, 0xAF);
    CheckMemory(0xB054, 0x12);
}

void test_12_0178()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD8E3);
    WriteRegisterWord(RegisterType::SP, 0x740B);
    WriteRegisterByte(RegisterType::A, 0xA1);
    WriteRegisterByte(RegisterType::B, 0x39);
    WriteRegisterByte(RegisterType::C, 0x5C);
    WriteRegisterByte(RegisterType::D, 0xF0);
    WriteRegisterByte(RegisterType::E, 0x9D);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xCE);
    WriteRegisterByte(RegisterType::L, 0x7D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xD8E3, 0x12);
    WriteMemory(0xF09D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA1);
    CheckRegisterByte(RegisterType::B, 0x39);
    CheckRegisterByte(RegisterType::C, 0x5C);
    CheckRegisterByte(RegisterType::D, 0xF0);
    CheckRegisterByte(RegisterType::E, 0x9D);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xCE);
    CheckRegisterByte(RegisterType::L, 0x7D);
    WriteRegisterWord(RegisterType::PC, 0xD8E3);
    WriteRegisterWord(RegisterType::SP, 0x740B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xD8E3, 0x12);
    CheckMemory(0xF09D, 0xA1);
}

void test_12_0179()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC7B0);
    WriteRegisterWord(RegisterType::SP, 0x2A86);
    WriteRegisterByte(RegisterType::A, 0x35);
    WriteRegisterByte(RegisterType::B, 0xA1);
    WriteRegisterByte(RegisterType::C, 0x8E);
    WriteRegisterByte(RegisterType::D, 0x7D);
    WriteRegisterByte(RegisterType::E, 0x6F);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xD8);
    WriteRegisterByte(RegisterType::L, 0xF3);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7D6F, 0x00);
    WriteMemory(0xC7B0, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x35);
    CheckRegisterByte(RegisterType::B, 0xA1);
    CheckRegisterByte(RegisterType::C, 0x8E);
    CheckRegisterByte(RegisterType::D, 0x7D);
    CheckRegisterByte(RegisterType::E, 0x6F);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xD8);
    CheckRegisterByte(RegisterType::L, 0xF3);
    WriteRegisterWord(RegisterType::PC, 0xC7B0);
    WriteRegisterWord(RegisterType::SP, 0x2A86);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x7D6F, 0x35);
    CheckMemory(0xC7B0, 0x12);
}

void test_12_017A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xED48);
    WriteRegisterWord(RegisterType::SP, 0xE770);
    WriteRegisterByte(RegisterType::A, 0xC8);
    WriteRegisterByte(RegisterType::B, 0xB7);
    WriteRegisterByte(RegisterType::C, 0xC2);
    WriteRegisterByte(RegisterType::D, 0xB0);
    WriteRegisterByte(RegisterType::E, 0x66);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xBF);
    WriteRegisterByte(RegisterType::L, 0xC0);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB066, 0x00);
    WriteMemory(0xED48, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC8);
    CheckRegisterByte(RegisterType::B, 0xB7);
    CheckRegisterByte(RegisterType::C, 0xC2);
    CheckRegisterByte(RegisterType::D, 0xB0);
    CheckRegisterByte(RegisterType::E, 0x66);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xBF);
    CheckRegisterByte(RegisterType::L, 0xC0);
    WriteRegisterWord(RegisterType::PC, 0xED48);
    WriteRegisterWord(RegisterType::SP, 0xE770);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xB066, 0xC8);
    CheckMemory(0xED48, 0x12);
}

void test_12_017B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC0A3);
    WriteRegisterWord(RegisterType::SP, 0x6124);
    WriteRegisterByte(RegisterType::A, 0xB3);
    WriteRegisterByte(RegisterType::B, 0xC9);
    WriteRegisterByte(RegisterType::C, 0xE0);
    WriteRegisterByte(RegisterType::D, 0xC2);
    WriteRegisterByte(RegisterType::E, 0xAC);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x31);
    WriteRegisterByte(RegisterType::L, 0x6E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xC0A3, 0x12);
    WriteMemory(0xC2AC, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB3);
    CheckRegisterByte(RegisterType::B, 0xC9);
    CheckRegisterByte(RegisterType::C, 0xE0);
    CheckRegisterByte(RegisterType::D, 0xC2);
    CheckRegisterByte(RegisterType::E, 0xAC);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x31);
    CheckRegisterByte(RegisterType::L, 0x6E);
    WriteRegisterWord(RegisterType::PC, 0xC0A3);
    WriteRegisterWord(RegisterType::SP, 0x6124);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xC0A3, 0x12);
    CheckMemory(0xC2AC, 0xB3);
}

void test_12_017C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5BCA);
    WriteRegisterWord(RegisterType::SP, 0x27E5);
    WriteRegisterByte(RegisterType::A, 0xBA);
    WriteRegisterByte(RegisterType::B, 0xEC);
    WriteRegisterByte(RegisterType::C, 0xF5);
    WriteRegisterByte(RegisterType::D, 0xC5);
    WriteRegisterByte(RegisterType::E, 0xD4);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x5B);
    WriteRegisterByte(RegisterType::L, 0x38);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5BCA, 0x12);
    WriteMemory(0xC5D4, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBA);
    CheckRegisterByte(RegisterType::B, 0xEC);
    CheckRegisterByte(RegisterType::C, 0xF5);
    CheckRegisterByte(RegisterType::D, 0xC5);
    CheckRegisterByte(RegisterType::E, 0xD4);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x5B);
    CheckRegisterByte(RegisterType::L, 0x38);
    WriteRegisterWord(RegisterType::PC, 0x5BCA);
    WriteRegisterWord(RegisterType::SP, 0x27E5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5BCA, 0x12);
    CheckMemory(0xC5D4, 0xBA);
}

void test_12_017D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDF1E);
    WriteRegisterWord(RegisterType::SP, 0xD028);
    WriteRegisterByte(RegisterType::A, 0xA3);
    WriteRegisterByte(RegisterType::B, 0x5E);
    WriteRegisterByte(RegisterType::C, 0x79);
    WriteRegisterByte(RegisterType::D, 0x39);
    WriteRegisterByte(RegisterType::E, 0x9C);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x36);
    WriteRegisterByte(RegisterType::L, 0x77);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x399C, 0x00);
    WriteMemory(0xDF1E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA3);
    CheckRegisterByte(RegisterType::B, 0x5E);
    CheckRegisterByte(RegisterType::C, 0x79);
    CheckRegisterByte(RegisterType::D, 0x39);
    CheckRegisterByte(RegisterType::E, 0x9C);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x36);
    CheckRegisterByte(RegisterType::L, 0x77);
    WriteRegisterWord(RegisterType::PC, 0xDF1E);
    WriteRegisterWord(RegisterType::SP, 0xD028);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x399C, 0xA3);
    CheckMemory(0xDF1E, 0x12);
}

void test_12_017E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF558);
    WriteRegisterWord(RegisterType::SP, 0x037E);
    WriteRegisterByte(RegisterType::A, 0x3B);
    WriteRegisterByte(RegisterType::B, 0xC9);
    WriteRegisterByte(RegisterType::C, 0x77);
    WriteRegisterByte(RegisterType::D, 0x50);
    WriteRegisterByte(RegisterType::E, 0xC9);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x01);
    WriteRegisterByte(RegisterType::L, 0x3D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x50C9, 0x00);
    WriteMemory(0xF558, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3B);
    CheckRegisterByte(RegisterType::B, 0xC9);
    CheckRegisterByte(RegisterType::C, 0x77);
    CheckRegisterByte(RegisterType::D, 0x50);
    CheckRegisterByte(RegisterType::E, 0xC9);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x01);
    CheckRegisterByte(RegisterType::L, 0x3D);
    WriteRegisterWord(RegisterType::PC, 0xF558);
    WriteRegisterWord(RegisterType::SP, 0x037E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x50C9, 0x3B);
    CheckMemory(0xF558, 0x12);
}

void test_12_017F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0890);
    WriteRegisterWord(RegisterType::SP, 0x6469);
    WriteRegisterByte(RegisterType::A, 0x29);
    WriteRegisterByte(RegisterType::B, 0xD1);
    WriteRegisterByte(RegisterType::C, 0xED);
    WriteRegisterByte(RegisterType::D, 0x04);
    WriteRegisterByte(RegisterType::E, 0x23);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x85);
    WriteRegisterByte(RegisterType::L, 0x34);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0423, 0x00);
    WriteMemory(0x0890, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x29);
    CheckRegisterByte(RegisterType::B, 0xD1);
    CheckRegisterByte(RegisterType::C, 0xED);
    CheckRegisterByte(RegisterType::D, 0x04);
    CheckRegisterByte(RegisterType::E, 0x23);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x85);
    CheckRegisterByte(RegisterType::L, 0x34);
    WriteRegisterWord(RegisterType::PC, 0x0890);
    WriteRegisterWord(RegisterType::SP, 0x6469);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0423, 0x29);
    CheckMemory(0x0890, 0x12);
}

void test_12_0180()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC577);
    WriteRegisterWord(RegisterType::SP, 0x7D69);
    WriteRegisterByte(RegisterType::A, 0x89);
    WriteRegisterByte(RegisterType::B, 0xB0);
    WriteRegisterByte(RegisterType::C, 0x9C);
    WriteRegisterByte(RegisterType::D, 0x30);
    WriteRegisterByte(RegisterType::E, 0xCE);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xF1);
    WriteRegisterByte(RegisterType::L, 0x4E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x30CE, 0x00);
    WriteMemory(0xC577, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x89);
    CheckRegisterByte(RegisterType::B, 0xB0);
    CheckRegisterByte(RegisterType::C, 0x9C);
    CheckRegisterByte(RegisterType::D, 0x30);
    CheckRegisterByte(RegisterType::E, 0xCE);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xF1);
    CheckRegisterByte(RegisterType::L, 0x4E);
    WriteRegisterWord(RegisterType::PC, 0xC577);
    WriteRegisterWord(RegisterType::SP, 0x7D69);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x30CE, 0x89);
    CheckMemory(0xC577, 0x12);
}

void test_12_0181()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1D5B);
    WriteRegisterWord(RegisterType::SP, 0x98FD);
    WriteRegisterByte(RegisterType::A, 0x02);
    WriteRegisterByte(RegisterType::B, 0x05);
    WriteRegisterByte(RegisterType::C, 0x44);
    WriteRegisterByte(RegisterType::D, 0x24);
    WriteRegisterByte(RegisterType::E, 0xB2);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x47);
    WriteRegisterByte(RegisterType::L, 0xCA);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1D5B, 0x12);
    WriteMemory(0x24B2, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x02);
    CheckRegisterByte(RegisterType::B, 0x05);
    CheckRegisterByte(RegisterType::C, 0x44);
    CheckRegisterByte(RegisterType::D, 0x24);
    CheckRegisterByte(RegisterType::E, 0xB2);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x47);
    CheckRegisterByte(RegisterType::L, 0xCA);
    WriteRegisterWord(RegisterType::PC, 0x1D5B);
    WriteRegisterWord(RegisterType::SP, 0x98FD);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1D5B, 0x12);
    CheckMemory(0x24B2, 0x02);
}

void test_12_0182()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8ECC);
    WriteRegisterWord(RegisterType::SP, 0xC0DC);
    WriteRegisterByte(RegisterType::A, 0xDE);
    WriteRegisterByte(RegisterType::B, 0xAE);
    WriteRegisterByte(RegisterType::C, 0x81);
    WriteRegisterByte(RegisterType::D, 0x07);
    WriteRegisterByte(RegisterType::E, 0x0D);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x0B);
    WriteRegisterByte(RegisterType::L, 0x70);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x070D, 0x00);
    WriteMemory(0x8ECC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDE);
    CheckRegisterByte(RegisterType::B, 0xAE);
    CheckRegisterByte(RegisterType::C, 0x81);
    CheckRegisterByte(RegisterType::D, 0x07);
    CheckRegisterByte(RegisterType::E, 0x0D);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x0B);
    CheckRegisterByte(RegisterType::L, 0x70);
    WriteRegisterWord(RegisterType::PC, 0x8ECC);
    WriteRegisterWord(RegisterType::SP, 0xC0DC);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x070D, 0xDE);
    CheckMemory(0x8ECC, 0x12);
}

void test_12_0183()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6880);
    WriteRegisterWord(RegisterType::SP, 0xD56B);
    WriteRegisterByte(RegisterType::A, 0xCE);
    WriteRegisterByte(RegisterType::B, 0x6C);
    WriteRegisterByte(RegisterType::C, 0xB0);
    WriteRegisterByte(RegisterType::D, 0x2C);
    WriteRegisterByte(RegisterType::E, 0x05);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xCC);
    WriteRegisterByte(RegisterType::L, 0xBE);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2C05, 0x00);
    WriteMemory(0x6880, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCE);
    CheckRegisterByte(RegisterType::B, 0x6C);
    CheckRegisterByte(RegisterType::C, 0xB0);
    CheckRegisterByte(RegisterType::D, 0x2C);
    CheckRegisterByte(RegisterType::E, 0x05);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xCC);
    CheckRegisterByte(RegisterType::L, 0xBE);
    WriteRegisterWord(RegisterType::PC, 0x6880);
    WriteRegisterWord(RegisterType::SP, 0xD56B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2C05, 0xCE);
    CheckMemory(0x6880, 0x12);
}

void test_12_0184()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB2F9);
    WriteRegisterWord(RegisterType::SP, 0xBAF5);
    WriteRegisterByte(RegisterType::A, 0x0E);
    WriteRegisterByte(RegisterType::B, 0x12);
    WriteRegisterByte(RegisterType::C, 0x30);
    WriteRegisterByte(RegisterType::D, 0x95);
    WriteRegisterByte(RegisterType::E, 0x2A);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x59);
    WriteRegisterByte(RegisterType::L, 0x61);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x952A, 0x00);
    WriteMemory(0xB2F9, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0E);
    CheckRegisterByte(RegisterType::B, 0x12);
    CheckRegisterByte(RegisterType::C, 0x30);
    CheckRegisterByte(RegisterType::D, 0x95);
    CheckRegisterByte(RegisterType::E, 0x2A);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x59);
    CheckRegisterByte(RegisterType::L, 0x61);
    WriteRegisterWord(RegisterType::PC, 0xB2F9);
    WriteRegisterWord(RegisterType::SP, 0xBAF5);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x952A, 0x0E);
    CheckMemory(0xB2F9, 0x12);
}

void test_12_0185()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x212B);
    WriteRegisterWord(RegisterType::SP, 0x4B74);
    WriteRegisterByte(RegisterType::A, 0xB0);
    WriteRegisterByte(RegisterType::B, 0xAE);
    WriteRegisterByte(RegisterType::C, 0x51);
    WriteRegisterByte(RegisterType::D, 0xC3);
    WriteRegisterByte(RegisterType::E, 0x7F);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xEE);
    WriteRegisterByte(RegisterType::L, 0xF8);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x212B, 0x12);
    WriteMemory(0xC37F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB0);
    CheckRegisterByte(RegisterType::B, 0xAE);
    CheckRegisterByte(RegisterType::C, 0x51);
    CheckRegisterByte(RegisterType::D, 0xC3);
    CheckRegisterByte(RegisterType::E, 0x7F);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xEE);
    CheckRegisterByte(RegisterType::L, 0xF8);
    WriteRegisterWord(RegisterType::PC, 0x212B);
    WriteRegisterWord(RegisterType::SP, 0x4B74);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x212B, 0x12);
    CheckMemory(0xC37F, 0xB0);
}

void test_12_0186()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x24EE);
    WriteRegisterWord(RegisterType::SP, 0xC620);
    WriteRegisterByte(RegisterType::A, 0x57);
    WriteRegisterByte(RegisterType::B, 0x98);
    WriteRegisterByte(RegisterType::C, 0x9F);
    WriteRegisterByte(RegisterType::D, 0xB4);
    WriteRegisterByte(RegisterType::E, 0xE2);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xF3);
    WriteRegisterByte(RegisterType::L, 0x69);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x24EE, 0x12);
    WriteMemory(0xB4E2, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x57);
    CheckRegisterByte(RegisterType::B, 0x98);
    CheckRegisterByte(RegisterType::C, 0x9F);
    CheckRegisterByte(RegisterType::D, 0xB4);
    CheckRegisterByte(RegisterType::E, 0xE2);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xF3);
    CheckRegisterByte(RegisterType::L, 0x69);
    WriteRegisterWord(RegisterType::PC, 0x24EE);
    WriteRegisterWord(RegisterType::SP, 0xC620);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x24EE, 0x12);
    CheckMemory(0xB4E2, 0x57);
}

void test_12_0187()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2A37);
    WriteRegisterWord(RegisterType::SP, 0x8F70);
    WriteRegisterByte(RegisterType::A, 0x2A);
    WriteRegisterByte(RegisterType::B, 0x6A);
    WriteRegisterByte(RegisterType::C, 0xD5);
    WriteRegisterByte(RegisterType::D, 0xB6);
    WriteRegisterByte(RegisterType::E, 0xD4);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x79);
    WriteRegisterByte(RegisterType::L, 0x6F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2A37, 0x12);
    WriteMemory(0xB6D4, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2A);
    CheckRegisterByte(RegisterType::B, 0x6A);
    CheckRegisterByte(RegisterType::C, 0xD5);
    CheckRegisterByte(RegisterType::D, 0xB6);
    CheckRegisterByte(RegisterType::E, 0xD4);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x79);
    CheckRegisterByte(RegisterType::L, 0x6F);
    WriteRegisterWord(RegisterType::PC, 0x2A37);
    WriteRegisterWord(RegisterType::SP, 0x8F70);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2A37, 0x12);
    CheckMemory(0xB6D4, 0x2A);
}

void test_12_0188()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xADEB);
    WriteRegisterWord(RegisterType::SP, 0x4863);
    WriteRegisterByte(RegisterType::A, 0x0E);
    WriteRegisterByte(RegisterType::B, 0x21);
    WriteRegisterByte(RegisterType::C, 0x73);
    WriteRegisterByte(RegisterType::D, 0x9B);
    WriteRegisterByte(RegisterType::E, 0xD2);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xD9);
    WriteRegisterByte(RegisterType::L, 0x6C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9BD2, 0x00);
    WriteMemory(0xADEB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0E);
    CheckRegisterByte(RegisterType::B, 0x21);
    CheckRegisterByte(RegisterType::C, 0x73);
    CheckRegisterByte(RegisterType::D, 0x9B);
    CheckRegisterByte(RegisterType::E, 0xD2);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xD9);
    CheckRegisterByte(RegisterType::L, 0x6C);
    WriteRegisterWord(RegisterType::PC, 0xADEB);
    WriteRegisterWord(RegisterType::SP, 0x4863);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9BD2, 0x0E);
    CheckMemory(0xADEB, 0x12);
}

void test_12_0189()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA7DD);
    WriteRegisterWord(RegisterType::SP, 0x9365);
    WriteRegisterByte(RegisterType::A, 0x37);
    WriteRegisterByte(RegisterType::B, 0x3B);
    WriteRegisterByte(RegisterType::C, 0x29);
    WriteRegisterByte(RegisterType::D, 0x33);
    WriteRegisterByte(RegisterType::E, 0x83);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x9A);
    WriteRegisterByte(RegisterType::L, 0x1D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3383, 0x00);
    WriteMemory(0xA7DD, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x37);
    CheckRegisterByte(RegisterType::B, 0x3B);
    CheckRegisterByte(RegisterType::C, 0x29);
    CheckRegisterByte(RegisterType::D, 0x33);
    CheckRegisterByte(RegisterType::E, 0x83);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x9A);
    CheckRegisterByte(RegisterType::L, 0x1D);
    WriteRegisterWord(RegisterType::PC, 0xA7DD);
    WriteRegisterWord(RegisterType::SP, 0x9365);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3383, 0x37);
    CheckMemory(0xA7DD, 0x12);
}

void test_12_018A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCDBC);
    WriteRegisterWord(RegisterType::SP, 0x0038);
    WriteRegisterByte(RegisterType::A, 0x64);
    WriteRegisterByte(RegisterType::B, 0x10);
    WriteRegisterByte(RegisterType::C, 0x1B);
    WriteRegisterByte(RegisterType::D, 0x79);
    WriteRegisterByte(RegisterType::E, 0xBE);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xB6);
    WriteRegisterByte(RegisterType::L, 0x24);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x79BE, 0x00);
    WriteMemory(0xCDBC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x64);
    CheckRegisterByte(RegisterType::B, 0x10);
    CheckRegisterByte(RegisterType::C, 0x1B);
    CheckRegisterByte(RegisterType::D, 0x79);
    CheckRegisterByte(RegisterType::E, 0xBE);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xB6);
    CheckRegisterByte(RegisterType::L, 0x24);
    WriteRegisterWord(RegisterType::PC, 0xCDBC);
    WriteRegisterWord(RegisterType::SP, 0x0038);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x79BE, 0x64);
    CheckMemory(0xCDBC, 0x12);
}

void test_12_018B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF225);
    WriteRegisterWord(RegisterType::SP, 0x6FB1);
    WriteRegisterByte(RegisterType::A, 0xE8);
    WriteRegisterByte(RegisterType::B, 0x6B);
    WriteRegisterByte(RegisterType::C, 0x37);
    WriteRegisterByte(RegisterType::D, 0x10);
    WriteRegisterByte(RegisterType::E, 0xD7);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x5C);
    WriteRegisterByte(RegisterType::L, 0x7F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x10D7, 0x00);
    WriteMemory(0xF225, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE8);
    CheckRegisterByte(RegisterType::B, 0x6B);
    CheckRegisterByte(RegisterType::C, 0x37);
    CheckRegisterByte(RegisterType::D, 0x10);
    CheckRegisterByte(RegisterType::E, 0xD7);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x5C);
    CheckRegisterByte(RegisterType::L, 0x7F);
    WriteRegisterWord(RegisterType::PC, 0xF225);
    WriteRegisterWord(RegisterType::SP, 0x6FB1);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x10D7, 0xE8);
    CheckMemory(0xF225, 0x12);
}

void test_12_018C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2B4B);
    WriteRegisterWord(RegisterType::SP, 0xD9D0);
    WriteRegisterByte(RegisterType::A, 0xAA);
    WriteRegisterByte(RegisterType::B, 0xB5);
    WriteRegisterByte(RegisterType::C, 0x12);
    WriteRegisterByte(RegisterType::D, 0x01);
    WriteRegisterByte(RegisterType::E, 0x0F);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x93);
    WriteRegisterByte(RegisterType::L, 0x4A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x010F, 0x00);
    WriteMemory(0x2B4B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAA);
    CheckRegisterByte(RegisterType::B, 0xB5);
    CheckRegisterByte(RegisterType::C, 0x12);
    CheckRegisterByte(RegisterType::D, 0x01);
    CheckRegisterByte(RegisterType::E, 0x0F);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x93);
    CheckRegisterByte(RegisterType::L, 0x4A);
    WriteRegisterWord(RegisterType::PC, 0x2B4B);
    WriteRegisterWord(RegisterType::SP, 0xD9D0);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x010F, 0xAA);
    CheckMemory(0x2B4B, 0x12);
}

void test_12_018D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD518);
    WriteRegisterWord(RegisterType::SP, 0x8567);
    WriteRegisterByte(RegisterType::A, 0xCB);
    WriteRegisterByte(RegisterType::B, 0x80);
    WriteRegisterByte(RegisterType::C, 0xCA);
    WriteRegisterByte(RegisterType::D, 0x4F);
    WriteRegisterByte(RegisterType::E, 0x7E);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x26);
    WriteRegisterByte(RegisterType::L, 0x20);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4F7E, 0x00);
    WriteMemory(0xD518, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCB);
    CheckRegisterByte(RegisterType::B, 0x80);
    CheckRegisterByte(RegisterType::C, 0xCA);
    CheckRegisterByte(RegisterType::D, 0x4F);
    CheckRegisterByte(RegisterType::E, 0x7E);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x26);
    CheckRegisterByte(RegisterType::L, 0x20);
    WriteRegisterWord(RegisterType::PC, 0xD518);
    WriteRegisterWord(RegisterType::SP, 0x8567);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4F7E, 0xCB);
    CheckMemory(0xD518, 0x12);
}

void test_12_018E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9E2B);
    WriteRegisterWord(RegisterType::SP, 0x56C0);
    WriteRegisterByte(RegisterType::A, 0x78);
    WriteRegisterByte(RegisterType::B, 0x54);
    WriteRegisterByte(RegisterType::C, 0xA6);
    WriteRegisterByte(RegisterType::D, 0x39);
    WriteRegisterByte(RegisterType::E, 0x29);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xAD);
    WriteRegisterByte(RegisterType::L, 0x5D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3929, 0x00);
    WriteMemory(0x9E2B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x78);
    CheckRegisterByte(RegisterType::B, 0x54);
    CheckRegisterByte(RegisterType::C, 0xA6);
    CheckRegisterByte(RegisterType::D, 0x39);
    CheckRegisterByte(RegisterType::E, 0x29);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xAD);
    CheckRegisterByte(RegisterType::L, 0x5D);
    WriteRegisterWord(RegisterType::PC, 0x9E2B);
    WriteRegisterWord(RegisterType::SP, 0x56C0);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3929, 0x78);
    CheckMemory(0x9E2B, 0x12);
}

void test_12_018F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB27B);
    WriteRegisterWord(RegisterType::SP, 0x493B);
    WriteRegisterByte(RegisterType::A, 0x4D);
    WriteRegisterByte(RegisterType::B, 0x96);
    WriteRegisterByte(RegisterType::C, 0x9D);
    WriteRegisterByte(RegisterType::D, 0x9D);
    WriteRegisterByte(RegisterType::E, 0xAF);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xFA);
    WriteRegisterByte(RegisterType::L, 0x9F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9DAF, 0x00);
    WriteMemory(0xB27B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4D);
    CheckRegisterByte(RegisterType::B, 0x96);
    CheckRegisterByte(RegisterType::C, 0x9D);
    CheckRegisterByte(RegisterType::D, 0x9D);
    CheckRegisterByte(RegisterType::E, 0xAF);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xFA);
    CheckRegisterByte(RegisterType::L, 0x9F);
    WriteRegisterWord(RegisterType::PC, 0xB27B);
    WriteRegisterWord(RegisterType::SP, 0x493B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9DAF, 0x4D);
    CheckMemory(0xB27B, 0x12);
}

void test_12_0190()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF54F);
    WriteRegisterWord(RegisterType::SP, 0xA515);
    WriteRegisterByte(RegisterType::A, 0x73);
    WriteRegisterByte(RegisterType::B, 0xE5);
    WriteRegisterByte(RegisterType::C, 0xF4);
    WriteRegisterByte(RegisterType::D, 0x2C);
    WriteRegisterByte(RegisterType::E, 0xAC);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x30);
    WriteRegisterByte(RegisterType::L, 0xE1);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2CAC, 0x00);
    WriteMemory(0xF54F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x73);
    CheckRegisterByte(RegisterType::B, 0xE5);
    CheckRegisterByte(RegisterType::C, 0xF4);
    CheckRegisterByte(RegisterType::D, 0x2C);
    CheckRegisterByte(RegisterType::E, 0xAC);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x30);
    CheckRegisterByte(RegisterType::L, 0xE1);
    WriteRegisterWord(RegisterType::PC, 0xF54F);
    WriteRegisterWord(RegisterType::SP, 0xA515);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2CAC, 0x73);
    CheckMemory(0xF54F, 0x12);
}

void test_12_0191()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD9FB);
    WriteRegisterWord(RegisterType::SP, 0x3988);
    WriteRegisterByte(RegisterType::A, 0xAE);
    WriteRegisterByte(RegisterType::B, 0xBF);
    WriteRegisterByte(RegisterType::C, 0x14);
    WriteRegisterByte(RegisterType::D, 0x75);
    WriteRegisterByte(RegisterType::E, 0x8C);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xB3);
    WriteRegisterByte(RegisterType::L, 0xAA);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x758C, 0x00);
    WriteMemory(0xD9FB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAE);
    CheckRegisterByte(RegisterType::B, 0xBF);
    CheckRegisterByte(RegisterType::C, 0x14);
    CheckRegisterByte(RegisterType::D, 0x75);
    CheckRegisterByte(RegisterType::E, 0x8C);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xB3);
    CheckRegisterByte(RegisterType::L, 0xAA);
    WriteRegisterWord(RegisterType::PC, 0xD9FB);
    WriteRegisterWord(RegisterType::SP, 0x3988);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x758C, 0xAE);
    CheckMemory(0xD9FB, 0x12);
}

void test_12_0192()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x019B);
    WriteRegisterWord(RegisterType::SP, 0xE267);
    WriteRegisterByte(RegisterType::A, 0x11);
    WriteRegisterByte(RegisterType::B, 0x7F);
    WriteRegisterByte(RegisterType::C, 0x10);
    WriteRegisterByte(RegisterType::D, 0x76);
    WriteRegisterByte(RegisterType::E, 0x85);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xE0);
    WriteRegisterByte(RegisterType::L, 0xCF);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x019B, 0x12);
    WriteMemory(0x7685, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x11);
    CheckRegisterByte(RegisterType::B, 0x7F);
    CheckRegisterByte(RegisterType::C, 0x10);
    CheckRegisterByte(RegisterType::D, 0x76);
    CheckRegisterByte(RegisterType::E, 0x85);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xE0);
    CheckRegisterByte(RegisterType::L, 0xCF);
    WriteRegisterWord(RegisterType::PC, 0x019B);
    WriteRegisterWord(RegisterType::SP, 0xE267);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x019B, 0x12);
    CheckMemory(0x7685, 0x11);
}

void test_12_0193()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0D7D);
    WriteRegisterWord(RegisterType::SP, 0x15F7);
    WriteRegisterByte(RegisterType::A, 0x29);
    WriteRegisterByte(RegisterType::B, 0x04);
    WriteRegisterByte(RegisterType::C, 0xA1);
    WriteRegisterByte(RegisterType::D, 0xC2);
    WriteRegisterByte(RegisterType::E, 0x39);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xAE);
    WriteRegisterByte(RegisterType::L, 0x8A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0D7D, 0x12);
    WriteMemory(0xC239, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x29);
    CheckRegisterByte(RegisterType::B, 0x04);
    CheckRegisterByte(RegisterType::C, 0xA1);
    CheckRegisterByte(RegisterType::D, 0xC2);
    CheckRegisterByte(RegisterType::E, 0x39);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xAE);
    CheckRegisterByte(RegisterType::L, 0x8A);
    WriteRegisterWord(RegisterType::PC, 0x0D7D);
    WriteRegisterWord(RegisterType::SP, 0x15F7);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0D7D, 0x12);
    CheckMemory(0xC239, 0x29);
}

void test_12_0194()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7F90);
    WriteRegisterWord(RegisterType::SP, 0x534E);
    WriteRegisterByte(RegisterType::A, 0x7E);
    WriteRegisterByte(RegisterType::B, 0x2D);
    WriteRegisterByte(RegisterType::C, 0x62);
    WriteRegisterByte(RegisterType::D, 0xAF);
    WriteRegisterByte(RegisterType::E, 0x88);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x33);
    WriteRegisterByte(RegisterType::L, 0x34);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7F90, 0x12);
    WriteMemory(0xAF88, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7E);
    CheckRegisterByte(RegisterType::B, 0x2D);
    CheckRegisterByte(RegisterType::C, 0x62);
    CheckRegisterByte(RegisterType::D, 0xAF);
    CheckRegisterByte(RegisterType::E, 0x88);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x33);
    CheckRegisterByte(RegisterType::L, 0x34);
    WriteRegisterWord(RegisterType::PC, 0x7F90);
    WriteRegisterWord(RegisterType::SP, 0x534E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7F90, 0x12);
    CheckMemory(0xAF88, 0x7E);
}

void test_12_0195()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDC7F);
    WriteRegisterWord(RegisterType::SP, 0x59C2);
    WriteRegisterByte(RegisterType::A, 0xDC);
    WriteRegisterByte(RegisterType::B, 0x2A);
    WriteRegisterByte(RegisterType::C, 0xC5);
    WriteRegisterByte(RegisterType::D, 0xA2);
    WriteRegisterByte(RegisterType::E, 0x98);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xA5);
    WriteRegisterByte(RegisterType::L, 0x12);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xA298, 0x00);
    WriteMemory(0xDC7F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDC);
    CheckRegisterByte(RegisterType::B, 0x2A);
    CheckRegisterByte(RegisterType::C, 0xC5);
    CheckRegisterByte(RegisterType::D, 0xA2);
    CheckRegisterByte(RegisterType::E, 0x98);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xA5);
    CheckRegisterByte(RegisterType::L, 0x12);
    WriteRegisterWord(RegisterType::PC, 0xDC7F);
    WriteRegisterWord(RegisterType::SP, 0x59C2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xA298, 0xDC);
    CheckMemory(0xDC7F, 0x12);
}

void test_12_0196()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6359);
    WriteRegisterWord(RegisterType::SP, 0x2E5D);
    WriteRegisterByte(RegisterType::A, 0x58);
    WriteRegisterByte(RegisterType::B, 0xFD);
    WriteRegisterByte(RegisterType::C, 0x24);
    WriteRegisterByte(RegisterType::D, 0xCD);
    WriteRegisterByte(RegisterType::E, 0x77);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xDD);
    WriteRegisterByte(RegisterType::L, 0x0F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6359, 0x12);
    WriteMemory(0xCD77, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x58);
    CheckRegisterByte(RegisterType::B, 0xFD);
    CheckRegisterByte(RegisterType::C, 0x24);
    CheckRegisterByte(RegisterType::D, 0xCD);
    CheckRegisterByte(RegisterType::E, 0x77);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xDD);
    CheckRegisterByte(RegisterType::L, 0x0F);
    WriteRegisterWord(RegisterType::PC, 0x6359);
    WriteRegisterWord(RegisterType::SP, 0x2E5D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6359, 0x12);
    CheckMemory(0xCD77, 0x58);
}

void test_12_0197()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF859);
    WriteRegisterWord(RegisterType::SP, 0x3699);
    WriteRegisterByte(RegisterType::A, 0x49);
    WriteRegisterByte(RegisterType::B, 0x7B);
    WriteRegisterByte(RegisterType::C, 0x57);
    WriteRegisterByte(RegisterType::D, 0x4C);
    WriteRegisterByte(RegisterType::E, 0xA7);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x02);
    WriteRegisterByte(RegisterType::L, 0xBD);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4CA7, 0x00);
    WriteMemory(0xF859, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x49);
    CheckRegisterByte(RegisterType::B, 0x7B);
    CheckRegisterByte(RegisterType::C, 0x57);
    CheckRegisterByte(RegisterType::D, 0x4C);
    CheckRegisterByte(RegisterType::E, 0xA7);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x02);
    CheckRegisterByte(RegisterType::L, 0xBD);
    WriteRegisterWord(RegisterType::PC, 0xF859);
    WriteRegisterWord(RegisterType::SP, 0x3699);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4CA7, 0x49);
    CheckMemory(0xF859, 0x12);
}

void test_12_0198()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFDD7);
    WriteRegisterWord(RegisterType::SP, 0x1BB5);
    WriteRegisterByte(RegisterType::A, 0x4E);
    WriteRegisterByte(RegisterType::B, 0x3C);
    WriteRegisterByte(RegisterType::C, 0x10);
    WriteRegisterByte(RegisterType::D, 0xC9);
    WriteRegisterByte(RegisterType::E, 0x45);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x18);
    WriteRegisterByte(RegisterType::L, 0x25);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xC945, 0x00);
    WriteMemory(0xFDD7, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4E);
    CheckRegisterByte(RegisterType::B, 0x3C);
    CheckRegisterByte(RegisterType::C, 0x10);
    CheckRegisterByte(RegisterType::D, 0xC9);
    CheckRegisterByte(RegisterType::E, 0x45);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x18);
    CheckRegisterByte(RegisterType::L, 0x25);
    WriteRegisterWord(RegisterType::PC, 0xFDD7);
    WriteRegisterWord(RegisterType::SP, 0x1BB5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xC945, 0x4E);
    CheckMemory(0xFDD7, 0x12);
}

void test_12_0199()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEBE6);
    WriteRegisterWord(RegisterType::SP, 0x9A2F);
    WriteRegisterByte(RegisterType::A, 0x68);
    WriteRegisterByte(RegisterType::B, 0xFA);
    WriteRegisterByte(RegisterType::C, 0x23);
    WriteRegisterByte(RegisterType::D, 0xB5);
    WriteRegisterByte(RegisterType::E, 0xAF);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xC4);
    WriteRegisterByte(RegisterType::L, 0xC5);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB5AF, 0x00);
    WriteMemory(0xEBE6, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x68);
    CheckRegisterByte(RegisterType::B, 0xFA);
    CheckRegisterByte(RegisterType::C, 0x23);
    CheckRegisterByte(RegisterType::D, 0xB5);
    CheckRegisterByte(RegisterType::E, 0xAF);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xC4);
    CheckRegisterByte(RegisterType::L, 0xC5);
    WriteRegisterWord(RegisterType::PC, 0xEBE6);
    WriteRegisterWord(RegisterType::SP, 0x9A2F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xB5AF, 0x68);
    CheckMemory(0xEBE6, 0x12);
}

void test_12_019A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x74BC);
    WriteRegisterWord(RegisterType::SP, 0x8B6F);
    WriteRegisterByte(RegisterType::A, 0x02);
    WriteRegisterByte(RegisterType::B, 0x05);
    WriteRegisterByte(RegisterType::C, 0x0D);
    WriteRegisterByte(RegisterType::D, 0x9E);
    WriteRegisterByte(RegisterType::E, 0x04);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x63);
    WriteRegisterByte(RegisterType::L, 0x83);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x74BC, 0x12);
    WriteMemory(0x9E04, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x02);
    CheckRegisterByte(RegisterType::B, 0x05);
    CheckRegisterByte(RegisterType::C, 0x0D);
    CheckRegisterByte(RegisterType::D, 0x9E);
    CheckRegisterByte(RegisterType::E, 0x04);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x63);
    CheckRegisterByte(RegisterType::L, 0x83);
    WriteRegisterWord(RegisterType::PC, 0x74BC);
    WriteRegisterWord(RegisterType::SP, 0x8B6F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x74BC, 0x12);
    CheckMemory(0x9E04, 0x02);
}

void test_12_019B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x62BA);
    WriteRegisterWord(RegisterType::SP, 0x930B);
    WriteRegisterByte(RegisterType::A, 0xB3);
    WriteRegisterByte(RegisterType::B, 0x5E);
    WriteRegisterByte(RegisterType::C, 0x10);
    WriteRegisterByte(RegisterType::D, 0x43);
    WriteRegisterByte(RegisterType::E, 0x0C);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xE0);
    WriteRegisterByte(RegisterType::L, 0xCA);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x430C, 0x00);
    WriteMemory(0x62BA, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB3);
    CheckRegisterByte(RegisterType::B, 0x5E);
    CheckRegisterByte(RegisterType::C, 0x10);
    CheckRegisterByte(RegisterType::D, 0x43);
    CheckRegisterByte(RegisterType::E, 0x0C);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xE0);
    CheckRegisterByte(RegisterType::L, 0xCA);
    WriteRegisterWord(RegisterType::PC, 0x62BA);
    WriteRegisterWord(RegisterType::SP, 0x930B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x430C, 0xB3);
    CheckMemory(0x62BA, 0x12);
}

void test_12_019C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF680);
    WriteRegisterWord(RegisterType::SP, 0x67EC);
    WriteRegisterByte(RegisterType::A, 0xD2);
    WriteRegisterByte(RegisterType::B, 0xF0);
    WriteRegisterByte(RegisterType::C, 0xA9);
    WriteRegisterByte(RegisterType::D, 0x0F);
    WriteRegisterByte(RegisterType::E, 0x82);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xDF);
    WriteRegisterByte(RegisterType::L, 0xA1);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0F82, 0x00);
    WriteMemory(0xF680, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD2);
    CheckRegisterByte(RegisterType::B, 0xF0);
    CheckRegisterByte(RegisterType::C, 0xA9);
    CheckRegisterByte(RegisterType::D, 0x0F);
    CheckRegisterByte(RegisterType::E, 0x82);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xDF);
    CheckRegisterByte(RegisterType::L, 0xA1);
    WriteRegisterWord(RegisterType::PC, 0xF680);
    WriteRegisterWord(RegisterType::SP, 0x67EC);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0F82, 0xD2);
    CheckMemory(0xF680, 0x12);
}

void test_12_019D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5ACA);
    WriteRegisterWord(RegisterType::SP, 0xE036);
    WriteRegisterByte(RegisterType::A, 0x9A);
    WriteRegisterByte(RegisterType::B, 0xB8);
    WriteRegisterByte(RegisterType::C, 0x7A);
    WriteRegisterByte(RegisterType::D, 0xA6);
    WriteRegisterByte(RegisterType::E, 0x0C);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x98);
    WriteRegisterByte(RegisterType::L, 0x64);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5ACA, 0x12);
    WriteMemory(0xA60C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9A);
    CheckRegisterByte(RegisterType::B, 0xB8);
    CheckRegisterByte(RegisterType::C, 0x7A);
    CheckRegisterByte(RegisterType::D, 0xA6);
    CheckRegisterByte(RegisterType::E, 0x0C);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x98);
    CheckRegisterByte(RegisterType::L, 0x64);
    WriteRegisterWord(RegisterType::PC, 0x5ACA);
    WriteRegisterWord(RegisterType::SP, 0xE036);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5ACA, 0x12);
    CheckMemory(0xA60C, 0x9A);
}

void test_12_019E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7A7D);
    WriteRegisterWord(RegisterType::SP, 0xCFD7);
    WriteRegisterByte(RegisterType::A, 0xD0);
    WriteRegisterByte(RegisterType::B, 0xDA);
    WriteRegisterByte(RegisterType::C, 0x30);
    WriteRegisterByte(RegisterType::D, 0xC5);
    WriteRegisterByte(RegisterType::E, 0x16);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x89);
    WriteRegisterByte(RegisterType::L, 0x66);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7A7D, 0x12);
    WriteMemory(0xC516, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD0);
    CheckRegisterByte(RegisterType::B, 0xDA);
    CheckRegisterByte(RegisterType::C, 0x30);
    CheckRegisterByte(RegisterType::D, 0xC5);
    CheckRegisterByte(RegisterType::E, 0x16);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x89);
    CheckRegisterByte(RegisterType::L, 0x66);
    WriteRegisterWord(RegisterType::PC, 0x7A7D);
    WriteRegisterWord(RegisterType::SP, 0xCFD7);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7A7D, 0x12);
    CheckMemory(0xC516, 0xD0);
}

void test_12_019F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA7D1);
    WriteRegisterWord(RegisterType::SP, 0xFAE0);
    WriteRegisterByte(RegisterType::A, 0x3A);
    WriteRegisterByte(RegisterType::B, 0xBD);
    WriteRegisterByte(RegisterType::C, 0x1F);
    WriteRegisterByte(RegisterType::D, 0x96);
    WriteRegisterByte(RegisterType::E, 0x66);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x2F);
    WriteRegisterByte(RegisterType::L, 0x57);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9666, 0x00);
    WriteMemory(0xA7D1, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3A);
    CheckRegisterByte(RegisterType::B, 0xBD);
    CheckRegisterByte(RegisterType::C, 0x1F);
    CheckRegisterByte(RegisterType::D, 0x96);
    CheckRegisterByte(RegisterType::E, 0x66);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x2F);
    CheckRegisterByte(RegisterType::L, 0x57);
    WriteRegisterWord(RegisterType::PC, 0xA7D1);
    WriteRegisterWord(RegisterType::SP, 0xFAE0);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9666, 0x3A);
    CheckMemory(0xA7D1, 0x12);
}

void test_12_01A0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5A2B);
    WriteRegisterWord(RegisterType::SP, 0xFFD7);
    WriteRegisterByte(RegisterType::A, 0x56);
    WriteRegisterByte(RegisterType::B, 0xF7);
    WriteRegisterByte(RegisterType::C, 0x11);
    WriteRegisterByte(RegisterType::D, 0xB0);
    WriteRegisterByte(RegisterType::E, 0x00);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xE5);
    WriteRegisterByte(RegisterType::L, 0x57);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5A2B, 0x12);
    WriteMemory(0xB000, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x56);
    CheckRegisterByte(RegisterType::B, 0xF7);
    CheckRegisterByte(RegisterType::C, 0x11);
    CheckRegisterByte(RegisterType::D, 0xB0);
    CheckRegisterByte(RegisterType::E, 0x00);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xE5);
    CheckRegisterByte(RegisterType::L, 0x57);
    WriteRegisterWord(RegisterType::PC, 0x5A2B);
    WriteRegisterWord(RegisterType::SP, 0xFFD7);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5A2B, 0x12);
    CheckMemory(0xB000, 0x56);
}

void test_12_01A1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x54B3);
    WriteRegisterWord(RegisterType::SP, 0x9330);
    WriteRegisterByte(RegisterType::A, 0x27);
    WriteRegisterByte(RegisterType::B, 0x43);
    WriteRegisterByte(RegisterType::C, 0xD5);
    WriteRegisterByte(RegisterType::D, 0x0C);
    WriteRegisterByte(RegisterType::E, 0x16);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x8F);
    WriteRegisterByte(RegisterType::L, 0xFB);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0C16, 0x00);
    WriteMemory(0x54B3, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x27);
    CheckRegisterByte(RegisterType::B, 0x43);
    CheckRegisterByte(RegisterType::C, 0xD5);
    CheckRegisterByte(RegisterType::D, 0x0C);
    CheckRegisterByte(RegisterType::E, 0x16);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x8F);
    CheckRegisterByte(RegisterType::L, 0xFB);
    WriteRegisterWord(RegisterType::PC, 0x54B3);
    WriteRegisterWord(RegisterType::SP, 0x9330);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0C16, 0x27);
    CheckMemory(0x54B3, 0x12);
}

void test_12_01A2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDCD8);
    WriteRegisterWord(RegisterType::SP, 0x6E31);
    WriteRegisterByte(RegisterType::A, 0x0D);
    WriteRegisterByte(RegisterType::B, 0x59);
    WriteRegisterByte(RegisterType::C, 0x0E);
    WriteRegisterByte(RegisterType::D, 0xFB);
    WriteRegisterByte(RegisterType::E, 0x49);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xC7);
    WriteRegisterByte(RegisterType::L, 0x55);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xDCD8, 0x12);
    WriteMemory(0xFB49, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0D);
    CheckRegisterByte(RegisterType::B, 0x59);
    CheckRegisterByte(RegisterType::C, 0x0E);
    CheckRegisterByte(RegisterType::D, 0xFB);
    CheckRegisterByte(RegisterType::E, 0x49);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xC7);
    CheckRegisterByte(RegisterType::L, 0x55);
    WriteRegisterWord(RegisterType::PC, 0xDCD8);
    WriteRegisterWord(RegisterType::SP, 0x6E31);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xDCD8, 0x12);
    CheckMemory(0xFB49, 0x0D);
}

void test_12_01A3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF875);
    WriteRegisterWord(RegisterType::SP, 0x42F2);
    WriteRegisterByte(RegisterType::A, 0x02);
    WriteRegisterByte(RegisterType::B, 0x72);
    WriteRegisterByte(RegisterType::C, 0x34);
    WriteRegisterByte(RegisterType::D, 0x5A);
    WriteRegisterByte(RegisterType::E, 0x49);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x75);
    WriteRegisterByte(RegisterType::L, 0xF8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5A49, 0x00);
    WriteMemory(0xF875, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x02);
    CheckRegisterByte(RegisterType::B, 0x72);
    CheckRegisterByte(RegisterType::C, 0x34);
    CheckRegisterByte(RegisterType::D, 0x5A);
    CheckRegisterByte(RegisterType::E, 0x49);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x75);
    CheckRegisterByte(RegisterType::L, 0xF8);
    WriteRegisterWord(RegisterType::PC, 0xF875);
    WriteRegisterWord(RegisterType::SP, 0x42F2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5A49, 0x02);
    CheckMemory(0xF875, 0x12);
}

void test_12_01A4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9505);
    WriteRegisterWord(RegisterType::SP, 0x83E0);
    WriteRegisterByte(RegisterType::A, 0x70);
    WriteRegisterByte(RegisterType::B, 0x3C);
    WriteRegisterByte(RegisterType::C, 0xCD);
    WriteRegisterByte(RegisterType::D, 0x34);
    WriteRegisterByte(RegisterType::E, 0x3A);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xBE);
    WriteRegisterByte(RegisterType::L, 0x94);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x343A, 0x00);
    WriteMemory(0x9505, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x70);
    CheckRegisterByte(RegisterType::B, 0x3C);
    CheckRegisterByte(RegisterType::C, 0xCD);
    CheckRegisterByte(RegisterType::D, 0x34);
    CheckRegisterByte(RegisterType::E, 0x3A);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xBE);
    CheckRegisterByte(RegisterType::L, 0x94);
    WriteRegisterWord(RegisterType::PC, 0x9505);
    WriteRegisterWord(RegisterType::SP, 0x83E0);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x343A, 0x70);
    CheckMemory(0x9505, 0x12);
}

void test_12_01A5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9262);
    WriteRegisterWord(RegisterType::SP, 0x2473);
    WriteRegisterByte(RegisterType::A, 0x74);
    WriteRegisterByte(RegisterType::B, 0xA0);
    WriteRegisterByte(RegisterType::C, 0xAF);
    WriteRegisterByte(RegisterType::D, 0xF9);
    WriteRegisterByte(RegisterType::E, 0xFB);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x97);
    WriteRegisterByte(RegisterType::L, 0x02);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9262, 0x12);
    WriteMemory(0xF9FB, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x74);
    CheckRegisterByte(RegisterType::B, 0xA0);
    CheckRegisterByte(RegisterType::C, 0xAF);
    CheckRegisterByte(RegisterType::D, 0xF9);
    CheckRegisterByte(RegisterType::E, 0xFB);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x97);
    CheckRegisterByte(RegisterType::L, 0x02);
    WriteRegisterWord(RegisterType::PC, 0x9262);
    WriteRegisterWord(RegisterType::SP, 0x2473);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9262, 0x12);
    CheckMemory(0xF9FB, 0x74);
}

void test_12_01A6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF282);
    WriteRegisterWord(RegisterType::SP, 0x42CF);
    WriteRegisterByte(RegisterType::A, 0x65);
    WriteRegisterByte(RegisterType::B, 0x72);
    WriteRegisterByte(RegisterType::C, 0xEC);
    WriteRegisterByte(RegisterType::D, 0x68);
    WriteRegisterByte(RegisterType::E, 0xE1);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xC4);
    WriteRegisterByte(RegisterType::L, 0xB9);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x68E1, 0x00);
    WriteMemory(0xF282, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x65);
    CheckRegisterByte(RegisterType::B, 0x72);
    CheckRegisterByte(RegisterType::C, 0xEC);
    CheckRegisterByte(RegisterType::D, 0x68);
    CheckRegisterByte(RegisterType::E, 0xE1);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xC4);
    CheckRegisterByte(RegisterType::L, 0xB9);
    WriteRegisterWord(RegisterType::PC, 0xF282);
    WriteRegisterWord(RegisterType::SP, 0x42CF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x68E1, 0x65);
    CheckMemory(0xF282, 0x12);
}

void test_12_01A7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9030);
    WriteRegisterWord(RegisterType::SP, 0x4E67);
    WriteRegisterByte(RegisterType::A, 0xAA);
    WriteRegisterByte(RegisterType::B, 0x1D);
    WriteRegisterByte(RegisterType::C, 0x23);
    WriteRegisterByte(RegisterType::D, 0xD3);
    WriteRegisterByte(RegisterType::E, 0x99);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xB9);
    WriteRegisterByte(RegisterType::L, 0xDB);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9030, 0x12);
    WriteMemory(0xD399, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAA);
    CheckRegisterByte(RegisterType::B, 0x1D);
    CheckRegisterByte(RegisterType::C, 0x23);
    CheckRegisterByte(RegisterType::D, 0xD3);
    CheckRegisterByte(RegisterType::E, 0x99);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xB9);
    CheckRegisterByte(RegisterType::L, 0xDB);
    WriteRegisterWord(RegisterType::PC, 0x9030);
    WriteRegisterWord(RegisterType::SP, 0x4E67);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9030, 0x12);
    CheckMemory(0xD399, 0xAA);
}

void test_12_01A8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1CDD);
    WriteRegisterWord(RegisterType::SP, 0xF3D1);
    WriteRegisterByte(RegisterType::A, 0x62);
    WriteRegisterByte(RegisterType::B, 0x13);
    WriteRegisterByte(RegisterType::C, 0xBC);
    WriteRegisterByte(RegisterType::D, 0x84);
    WriteRegisterByte(RegisterType::E, 0xE7);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x36);
    WriteRegisterByte(RegisterType::L, 0x72);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1CDD, 0x12);
    WriteMemory(0x84E7, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x62);
    CheckRegisterByte(RegisterType::B, 0x13);
    CheckRegisterByte(RegisterType::C, 0xBC);
    CheckRegisterByte(RegisterType::D, 0x84);
    CheckRegisterByte(RegisterType::E, 0xE7);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x36);
    CheckRegisterByte(RegisterType::L, 0x72);
    WriteRegisterWord(RegisterType::PC, 0x1CDD);
    WriteRegisterWord(RegisterType::SP, 0xF3D1);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1CDD, 0x12);
    CheckMemory(0x84E7, 0x62);
}

void test_12_01A9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEC90);
    WriteRegisterWord(RegisterType::SP, 0x6A4C);
    WriteRegisterByte(RegisterType::A, 0xB1);
    WriteRegisterByte(RegisterType::B, 0xDE);
    WriteRegisterByte(RegisterType::C, 0x0B);
    WriteRegisterByte(RegisterType::D, 0xD7);
    WriteRegisterByte(RegisterType::E, 0xED);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x37);
    WriteRegisterByte(RegisterType::L, 0x3E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xD7ED, 0x00);
    WriteMemory(0xEC90, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB1);
    CheckRegisterByte(RegisterType::B, 0xDE);
    CheckRegisterByte(RegisterType::C, 0x0B);
    CheckRegisterByte(RegisterType::D, 0xD7);
    CheckRegisterByte(RegisterType::E, 0xED);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x37);
    CheckRegisterByte(RegisterType::L, 0x3E);
    WriteRegisterWord(RegisterType::PC, 0xEC90);
    WriteRegisterWord(RegisterType::SP, 0x6A4C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xD7ED, 0xB1);
    CheckMemory(0xEC90, 0x12);
}

void test_12_01AA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2B12);
    WriteRegisterWord(RegisterType::SP, 0x2E86);
    WriteRegisterByte(RegisterType::A, 0xB1);
    WriteRegisterByte(RegisterType::B, 0xA7);
    WriteRegisterByte(RegisterType::C, 0x73);
    WriteRegisterByte(RegisterType::D, 0x4F);
    WriteRegisterByte(RegisterType::E, 0x23);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xE6);
    WriteRegisterByte(RegisterType::L, 0x2D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2B12, 0x12);
    WriteMemory(0x4F23, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB1);
    CheckRegisterByte(RegisterType::B, 0xA7);
    CheckRegisterByte(RegisterType::C, 0x73);
    CheckRegisterByte(RegisterType::D, 0x4F);
    CheckRegisterByte(RegisterType::E, 0x23);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xE6);
    CheckRegisterByte(RegisterType::L, 0x2D);
    WriteRegisterWord(RegisterType::PC, 0x2B12);
    WriteRegisterWord(RegisterType::SP, 0x2E86);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2B12, 0x12);
    CheckMemory(0x4F23, 0xB1);
}

void test_12_01AB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCB27);
    WriteRegisterWord(RegisterType::SP, 0xB467);
    WriteRegisterByte(RegisterType::A, 0xFE);
    WriteRegisterByte(RegisterType::B, 0xB0);
    WriteRegisterByte(RegisterType::C, 0x39);
    WriteRegisterByte(RegisterType::D, 0xFA);
    WriteRegisterByte(RegisterType::E, 0x88);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x07);
    WriteRegisterByte(RegisterType::L, 0xC3);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xCB27, 0x12);
    WriteMemory(0xFA88, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFE);
    CheckRegisterByte(RegisterType::B, 0xB0);
    CheckRegisterByte(RegisterType::C, 0x39);
    CheckRegisterByte(RegisterType::D, 0xFA);
    CheckRegisterByte(RegisterType::E, 0x88);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x07);
    CheckRegisterByte(RegisterType::L, 0xC3);
    WriteRegisterWord(RegisterType::PC, 0xCB27);
    WriteRegisterWord(RegisterType::SP, 0xB467);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xCB27, 0x12);
    CheckMemory(0xFA88, 0xFE);
}

void test_12_01AC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEDC5);
    WriteRegisterWord(RegisterType::SP, 0xE294);
    WriteRegisterByte(RegisterType::A, 0x76);
    WriteRegisterByte(RegisterType::B, 0x1E);
    WriteRegisterByte(RegisterType::C, 0x70);
    WriteRegisterByte(RegisterType::D, 0x2B);
    WriteRegisterByte(RegisterType::E, 0xC8);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xFA);
    WriteRegisterByte(RegisterType::L, 0xFC);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2BC8, 0x00);
    WriteMemory(0xEDC5, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x76);
    CheckRegisterByte(RegisterType::B, 0x1E);
    CheckRegisterByte(RegisterType::C, 0x70);
    CheckRegisterByte(RegisterType::D, 0x2B);
    CheckRegisterByte(RegisterType::E, 0xC8);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xFA);
    CheckRegisterByte(RegisterType::L, 0xFC);
    WriteRegisterWord(RegisterType::PC, 0xEDC5);
    WriteRegisterWord(RegisterType::SP, 0xE294);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2BC8, 0x76);
    CheckMemory(0xEDC5, 0x12);
}

void test_12_01AD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x83CE);
    WriteRegisterWord(RegisterType::SP, 0x04D4);
    WriteRegisterByte(RegisterType::A, 0x0E);
    WriteRegisterByte(RegisterType::B, 0xAD);
    WriteRegisterByte(RegisterType::C, 0xC5);
    WriteRegisterByte(RegisterType::D, 0x84);
    WriteRegisterByte(RegisterType::E, 0xE1);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xD6);
    WriteRegisterByte(RegisterType::L, 0xD2);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x83CE, 0x12);
    WriteMemory(0x84E1, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0E);
    CheckRegisterByte(RegisterType::B, 0xAD);
    CheckRegisterByte(RegisterType::C, 0xC5);
    CheckRegisterByte(RegisterType::D, 0x84);
    CheckRegisterByte(RegisterType::E, 0xE1);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xD6);
    CheckRegisterByte(RegisterType::L, 0xD2);
    WriteRegisterWord(RegisterType::PC, 0x83CE);
    WriteRegisterWord(RegisterType::SP, 0x04D4);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x83CE, 0x12);
    CheckMemory(0x84E1, 0x0E);
}

void test_12_01AE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2345);
    WriteRegisterWord(RegisterType::SP, 0x2EFA);
    WriteRegisterByte(RegisterType::A, 0x1C);
    WriteRegisterByte(RegisterType::B, 0x63);
    WriteRegisterByte(RegisterType::C, 0x21);
    WriteRegisterByte(RegisterType::D, 0xB2);
    WriteRegisterByte(RegisterType::E, 0xD1);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x48);
    WriteRegisterByte(RegisterType::L, 0xF9);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2345, 0x12);
    WriteMemory(0xB2D1, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1C);
    CheckRegisterByte(RegisterType::B, 0x63);
    CheckRegisterByte(RegisterType::C, 0x21);
    CheckRegisterByte(RegisterType::D, 0xB2);
    CheckRegisterByte(RegisterType::E, 0xD1);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x48);
    CheckRegisterByte(RegisterType::L, 0xF9);
    WriteRegisterWord(RegisterType::PC, 0x2345);
    WriteRegisterWord(RegisterType::SP, 0x2EFA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2345, 0x12);
    CheckMemory(0xB2D1, 0x1C);
}

void test_12_01AF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC6F4);
    WriteRegisterWord(RegisterType::SP, 0x95BF);
    WriteRegisterByte(RegisterType::A, 0xC8);
    WriteRegisterByte(RegisterType::B, 0x96);
    WriteRegisterByte(RegisterType::C, 0xC6);
    WriteRegisterByte(RegisterType::D, 0xB5);
    WriteRegisterByte(RegisterType::E, 0x89);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x11);
    WriteRegisterByte(RegisterType::L, 0xBC);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB589, 0x00);
    WriteMemory(0xC6F4, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC8);
    CheckRegisterByte(RegisterType::B, 0x96);
    CheckRegisterByte(RegisterType::C, 0xC6);
    CheckRegisterByte(RegisterType::D, 0xB5);
    CheckRegisterByte(RegisterType::E, 0x89);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x11);
    CheckRegisterByte(RegisterType::L, 0xBC);
    WriteRegisterWord(RegisterType::PC, 0xC6F4);
    WriteRegisterWord(RegisterType::SP, 0x95BF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xB589, 0xC8);
    CheckMemory(0xC6F4, 0x12);
}

void test_12_01B0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9048);
    WriteRegisterWord(RegisterType::SP, 0xB790);
    WriteRegisterByte(RegisterType::A, 0x53);
    WriteRegisterByte(RegisterType::B, 0x7B);
    WriteRegisterByte(RegisterType::C, 0x0F);
    WriteRegisterByte(RegisterType::D, 0x28);
    WriteRegisterByte(RegisterType::E, 0x86);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x40);
    WriteRegisterByte(RegisterType::L, 0xD0);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2886, 0x00);
    WriteMemory(0x9048, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x53);
    CheckRegisterByte(RegisterType::B, 0x7B);
    CheckRegisterByte(RegisterType::C, 0x0F);
    CheckRegisterByte(RegisterType::D, 0x28);
    CheckRegisterByte(RegisterType::E, 0x86);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x40);
    CheckRegisterByte(RegisterType::L, 0xD0);
    WriteRegisterWord(RegisterType::PC, 0x9048);
    WriteRegisterWord(RegisterType::SP, 0xB790);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2886, 0x53);
    CheckMemory(0x9048, 0x12);
}

void test_12_01B1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x26F3);
    WriteRegisterWord(RegisterType::SP, 0xBFA4);
    WriteRegisterByte(RegisterType::A, 0xEB);
    WriteRegisterByte(RegisterType::B, 0x05);
    WriteRegisterByte(RegisterType::C, 0xEA);
    WriteRegisterByte(RegisterType::D, 0xB3);
    WriteRegisterByte(RegisterType::E, 0xA1);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x47);
    WriteRegisterByte(RegisterType::L, 0x5D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x26F3, 0x12);
    WriteMemory(0xB3A1, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xEB);
    CheckRegisterByte(RegisterType::B, 0x05);
    CheckRegisterByte(RegisterType::C, 0xEA);
    CheckRegisterByte(RegisterType::D, 0xB3);
    CheckRegisterByte(RegisterType::E, 0xA1);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x47);
    CheckRegisterByte(RegisterType::L, 0x5D);
    WriteRegisterWord(RegisterType::PC, 0x26F3);
    WriteRegisterWord(RegisterType::SP, 0xBFA4);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x26F3, 0x12);
    CheckMemory(0xB3A1, 0xEB);
}

void test_12_01B2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0415);
    WriteRegisterWord(RegisterType::SP, 0x1E17);
    WriteRegisterByte(RegisterType::A, 0x79);
    WriteRegisterByte(RegisterType::B, 0xEC);
    WriteRegisterByte(RegisterType::C, 0x9E);
    WriteRegisterByte(RegisterType::D, 0x0E);
    WriteRegisterByte(RegisterType::E, 0x6F);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xE8);
    WriteRegisterByte(RegisterType::L, 0x50);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0415, 0x12);
    WriteMemory(0x0E6F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x79);
    CheckRegisterByte(RegisterType::B, 0xEC);
    CheckRegisterByte(RegisterType::C, 0x9E);
    CheckRegisterByte(RegisterType::D, 0x0E);
    CheckRegisterByte(RegisterType::E, 0x6F);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xE8);
    CheckRegisterByte(RegisterType::L, 0x50);
    WriteRegisterWord(RegisterType::PC, 0x0415);
    WriteRegisterWord(RegisterType::SP, 0x1E17);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0415, 0x12);
    CheckMemory(0x0E6F, 0x79);
}

void test_12_01B3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0E60);
    WriteRegisterWord(RegisterType::SP, 0x4CCB);
    WriteRegisterByte(RegisterType::A, 0xB8);
    WriteRegisterByte(RegisterType::B, 0x8C);
    WriteRegisterByte(RegisterType::C, 0x64);
    WriteRegisterByte(RegisterType::D, 0x86);
    WriteRegisterByte(RegisterType::E, 0xB9);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x55);
    WriteRegisterByte(RegisterType::L, 0x33);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0E60, 0x12);
    WriteMemory(0x86B9, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB8);
    CheckRegisterByte(RegisterType::B, 0x8C);
    CheckRegisterByte(RegisterType::C, 0x64);
    CheckRegisterByte(RegisterType::D, 0x86);
    CheckRegisterByte(RegisterType::E, 0xB9);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x55);
    CheckRegisterByte(RegisterType::L, 0x33);
    WriteRegisterWord(RegisterType::PC, 0x0E60);
    WriteRegisterWord(RegisterType::SP, 0x4CCB);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0E60, 0x12);
    CheckMemory(0x86B9, 0xB8);
}

void test_12_01B4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x60CC);
    WriteRegisterWord(RegisterType::SP, 0x61DC);
    WriteRegisterByte(RegisterType::A, 0x88);
    WriteRegisterByte(RegisterType::B, 0xBD);
    WriteRegisterByte(RegisterType::C, 0x73);
    WriteRegisterByte(RegisterType::D, 0x19);
    WriteRegisterByte(RegisterType::E, 0x51);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x6A);
    WriteRegisterByte(RegisterType::L, 0xAB);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1951, 0x00);
    WriteMemory(0x60CC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x88);
    CheckRegisterByte(RegisterType::B, 0xBD);
    CheckRegisterByte(RegisterType::C, 0x73);
    CheckRegisterByte(RegisterType::D, 0x19);
    CheckRegisterByte(RegisterType::E, 0x51);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x6A);
    CheckRegisterByte(RegisterType::L, 0xAB);
    WriteRegisterWord(RegisterType::PC, 0x60CC);
    WriteRegisterWord(RegisterType::SP, 0x61DC);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1951, 0x88);
    CheckMemory(0x60CC, 0x12);
}

void test_12_01B5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE31D);
    WriteRegisterWord(RegisterType::SP, 0x724C);
    WriteRegisterByte(RegisterType::A, 0x69);
    WriteRegisterByte(RegisterType::B, 0xFA);
    WriteRegisterByte(RegisterType::C, 0x8E);
    WriteRegisterByte(RegisterType::D, 0xEC);
    WriteRegisterByte(RegisterType::E, 0x39);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x58);
    WriteRegisterByte(RegisterType::L, 0xD5);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xE31D, 0x12);
    WriteMemory(0xEC39, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x69);
    CheckRegisterByte(RegisterType::B, 0xFA);
    CheckRegisterByte(RegisterType::C, 0x8E);
    CheckRegisterByte(RegisterType::D, 0xEC);
    CheckRegisterByte(RegisterType::E, 0x39);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x58);
    CheckRegisterByte(RegisterType::L, 0xD5);
    WriteRegisterWord(RegisterType::PC, 0xE31D);
    WriteRegisterWord(RegisterType::SP, 0x724C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xE31D, 0x12);
    CheckMemory(0xEC39, 0x69);
}

void test_12_01B6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC086);
    WriteRegisterWord(RegisterType::SP, 0x76F6);
    WriteRegisterByte(RegisterType::A, 0xBA);
    WriteRegisterByte(RegisterType::B, 0xAE);
    WriteRegisterByte(RegisterType::C, 0xCA);
    WriteRegisterByte(RegisterType::D, 0x9C);
    WriteRegisterByte(RegisterType::E, 0xA4);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xF7);
    WriteRegisterByte(RegisterType::L, 0xF6);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9CA4, 0x00);
    WriteMemory(0xC086, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBA);
    CheckRegisterByte(RegisterType::B, 0xAE);
    CheckRegisterByte(RegisterType::C, 0xCA);
    CheckRegisterByte(RegisterType::D, 0x9C);
    CheckRegisterByte(RegisterType::E, 0xA4);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xF7);
    CheckRegisterByte(RegisterType::L, 0xF6);
    WriteRegisterWord(RegisterType::PC, 0xC086);
    WriteRegisterWord(RegisterType::SP, 0x76F6);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9CA4, 0xBA);
    CheckMemory(0xC086, 0x12);
}

void test_12_01B7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFA91);
    WriteRegisterWord(RegisterType::SP, 0x9A81);
    WriteRegisterByte(RegisterType::A, 0x9B);
    WriteRegisterByte(RegisterType::B, 0x08);
    WriteRegisterByte(RegisterType::C, 0xFA);
    WriteRegisterByte(RegisterType::D, 0xEA);
    WriteRegisterByte(RegisterType::E, 0x9E);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xF9);
    WriteRegisterByte(RegisterType::L, 0x3F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xEA9E, 0x00);
    WriteMemory(0xFA91, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9B);
    CheckRegisterByte(RegisterType::B, 0x08);
    CheckRegisterByte(RegisterType::C, 0xFA);
    CheckRegisterByte(RegisterType::D, 0xEA);
    CheckRegisterByte(RegisterType::E, 0x9E);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xF9);
    CheckRegisterByte(RegisterType::L, 0x3F);
    WriteRegisterWord(RegisterType::PC, 0xFA91);
    WriteRegisterWord(RegisterType::SP, 0x9A81);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xEA9E, 0x9B);
    CheckMemory(0xFA91, 0x12);
}

void test_12_01B8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x07F7);
    WriteRegisterWord(RegisterType::SP, 0xEB7E);
    WriteRegisterByte(RegisterType::A, 0x4B);
    WriteRegisterByte(RegisterType::B, 0xA4);
    WriteRegisterByte(RegisterType::C, 0x18);
    WriteRegisterByte(RegisterType::D, 0x68);
    WriteRegisterByte(RegisterType::E, 0xCB);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x77);
    WriteRegisterByte(RegisterType::L, 0x57);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x07F7, 0x12);
    WriteMemory(0x68CB, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4B);
    CheckRegisterByte(RegisterType::B, 0xA4);
    CheckRegisterByte(RegisterType::C, 0x18);
    CheckRegisterByte(RegisterType::D, 0x68);
    CheckRegisterByte(RegisterType::E, 0xCB);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x77);
    CheckRegisterByte(RegisterType::L, 0x57);
    WriteRegisterWord(RegisterType::PC, 0x07F7);
    WriteRegisterWord(RegisterType::SP, 0xEB7E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x07F7, 0x12);
    CheckMemory(0x68CB, 0x4B);
}

void test_12_01B9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE477);
    WriteRegisterWord(RegisterType::SP, 0xC684);
    WriteRegisterByte(RegisterType::A, 0x7A);
    WriteRegisterByte(RegisterType::B, 0x47);
    WriteRegisterByte(RegisterType::C, 0xDF);
    WriteRegisterByte(RegisterType::D, 0xBB);
    WriteRegisterByte(RegisterType::E, 0x73);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xB5);
    WriteRegisterByte(RegisterType::L, 0xF8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xBB73, 0x00);
    WriteMemory(0xE477, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7A);
    CheckRegisterByte(RegisterType::B, 0x47);
    CheckRegisterByte(RegisterType::C, 0xDF);
    CheckRegisterByte(RegisterType::D, 0xBB);
    CheckRegisterByte(RegisterType::E, 0x73);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xB5);
    CheckRegisterByte(RegisterType::L, 0xF8);
    WriteRegisterWord(RegisterType::PC, 0xE477);
    WriteRegisterWord(RegisterType::SP, 0xC684);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xBB73, 0x7A);
    CheckMemory(0xE477, 0x12);
}

void test_12_01BA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD5F8);
    WriteRegisterWord(RegisterType::SP, 0x4DF6);
    WriteRegisterByte(RegisterType::A, 0xC6);
    WriteRegisterByte(RegisterType::B, 0xA2);
    WriteRegisterByte(RegisterType::C, 0x15);
    WriteRegisterByte(RegisterType::D, 0xA4);
    WriteRegisterByte(RegisterType::E, 0xFD);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x1B);
    WriteRegisterByte(RegisterType::L, 0x28);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xA4FD, 0x00);
    WriteMemory(0xD5F8, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC6);
    CheckRegisterByte(RegisterType::B, 0xA2);
    CheckRegisterByte(RegisterType::C, 0x15);
    CheckRegisterByte(RegisterType::D, 0xA4);
    CheckRegisterByte(RegisterType::E, 0xFD);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x1B);
    CheckRegisterByte(RegisterType::L, 0x28);
    WriteRegisterWord(RegisterType::PC, 0xD5F8);
    WriteRegisterWord(RegisterType::SP, 0x4DF6);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xA4FD, 0xC6);
    CheckMemory(0xD5F8, 0x12);
}

void test_12_01BB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0E91);
    WriteRegisterWord(RegisterType::SP, 0x937F);
    WriteRegisterByte(RegisterType::A, 0x43);
    WriteRegisterByte(RegisterType::B, 0xF1);
    WriteRegisterByte(RegisterType::C, 0x11);
    WriteRegisterByte(RegisterType::D, 0xB9);
    WriteRegisterByte(RegisterType::E, 0xBE);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x86);
    WriteRegisterByte(RegisterType::L, 0xA4);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0E91, 0x12);
    WriteMemory(0xB9BE, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x43);
    CheckRegisterByte(RegisterType::B, 0xF1);
    CheckRegisterByte(RegisterType::C, 0x11);
    CheckRegisterByte(RegisterType::D, 0xB9);
    CheckRegisterByte(RegisterType::E, 0xBE);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x86);
    CheckRegisterByte(RegisterType::L, 0xA4);
    WriteRegisterWord(RegisterType::PC, 0x0E91);
    WriteRegisterWord(RegisterType::SP, 0x937F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0E91, 0x12);
    CheckMemory(0xB9BE, 0x43);
}

void test_12_01BC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD657);
    WriteRegisterWord(RegisterType::SP, 0xF48A);
    WriteRegisterByte(RegisterType::A, 0x7B);
    WriteRegisterByte(RegisterType::B, 0x40);
    WriteRegisterByte(RegisterType::C, 0x5E);
    WriteRegisterByte(RegisterType::D, 0x55);
    WriteRegisterByte(RegisterType::E, 0x86);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x44);
    WriteRegisterByte(RegisterType::L, 0xB9);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5586, 0x00);
    WriteMemory(0xD657, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7B);
    CheckRegisterByte(RegisterType::B, 0x40);
    CheckRegisterByte(RegisterType::C, 0x5E);
    CheckRegisterByte(RegisterType::D, 0x55);
    CheckRegisterByte(RegisterType::E, 0x86);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x44);
    CheckRegisterByte(RegisterType::L, 0xB9);
    WriteRegisterWord(RegisterType::PC, 0xD657);
    WriteRegisterWord(RegisterType::SP, 0xF48A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5586, 0x7B);
    CheckMemory(0xD657, 0x12);
}

void test_12_01BD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x51B9);
    WriteRegisterWord(RegisterType::SP, 0xA992);
    WriteRegisterByte(RegisterType::A, 0xBF);
    WriteRegisterByte(RegisterType::B, 0x94);
    WriteRegisterByte(RegisterType::C, 0xA6);
    WriteRegisterByte(RegisterType::D, 0xEF);
    WriteRegisterByte(RegisterType::E, 0xAF);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xD2);
    WriteRegisterByte(RegisterType::L, 0x77);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x51B9, 0x12);
    WriteMemory(0xEFAF, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBF);
    CheckRegisterByte(RegisterType::B, 0x94);
    CheckRegisterByte(RegisterType::C, 0xA6);
    CheckRegisterByte(RegisterType::D, 0xEF);
    CheckRegisterByte(RegisterType::E, 0xAF);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xD2);
    CheckRegisterByte(RegisterType::L, 0x77);
    WriteRegisterWord(RegisterType::PC, 0x51B9);
    WriteRegisterWord(RegisterType::SP, 0xA992);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x51B9, 0x12);
    CheckMemory(0xEFAF, 0xBF);
}

void test_12_01BE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBF8B);
    WriteRegisterWord(RegisterType::SP, 0x7964);
    WriteRegisterByte(RegisterType::A, 0x30);
    WriteRegisterByte(RegisterType::B, 0xCB);
    WriteRegisterByte(RegisterType::C, 0x06);
    WriteRegisterByte(RegisterType::D, 0xCE);
    WriteRegisterByte(RegisterType::E, 0x70);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x6D);
    WriteRegisterByte(RegisterType::L, 0x2E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xBF8B, 0x12);
    WriteMemory(0xCE70, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x30);
    CheckRegisterByte(RegisterType::B, 0xCB);
    CheckRegisterByte(RegisterType::C, 0x06);
    CheckRegisterByte(RegisterType::D, 0xCE);
    CheckRegisterByte(RegisterType::E, 0x70);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x6D);
    CheckRegisterByte(RegisterType::L, 0x2E);
    WriteRegisterWord(RegisterType::PC, 0xBF8B);
    WriteRegisterWord(RegisterType::SP, 0x7964);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xBF8B, 0x12);
    CheckMemory(0xCE70, 0x30);
}

void test_12_01BF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEDE4);
    WriteRegisterWord(RegisterType::SP, 0x8EC5);
    WriteRegisterByte(RegisterType::A, 0x44);
    WriteRegisterByte(RegisterType::B, 0xFF);
    WriteRegisterByte(RegisterType::C, 0x17);
    WriteRegisterByte(RegisterType::D, 0xA1);
    WriteRegisterByte(RegisterType::E, 0x5C);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x0B);
    WriteRegisterByte(RegisterType::L, 0x6A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xA15C, 0x00);
    WriteMemory(0xEDE4, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x44);
    CheckRegisterByte(RegisterType::B, 0xFF);
    CheckRegisterByte(RegisterType::C, 0x17);
    CheckRegisterByte(RegisterType::D, 0xA1);
    CheckRegisterByte(RegisterType::E, 0x5C);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x0B);
    CheckRegisterByte(RegisterType::L, 0x6A);
    WriteRegisterWord(RegisterType::PC, 0xEDE4);
    WriteRegisterWord(RegisterType::SP, 0x8EC5);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xA15C, 0x44);
    CheckMemory(0xEDE4, 0x12);
}

void test_12_01C0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5960);
    WriteRegisterWord(RegisterType::SP, 0x528C);
    WriteRegisterByte(RegisterType::A, 0x8C);
    WriteRegisterByte(RegisterType::B, 0x08);
    WriteRegisterByte(RegisterType::C, 0xB5);
    WriteRegisterByte(RegisterType::D, 0x47);
    WriteRegisterByte(RegisterType::E, 0x77);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xA3);
    WriteRegisterByte(RegisterType::L, 0x68);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4777, 0x00);
    WriteMemory(0x5960, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8C);
    CheckRegisterByte(RegisterType::B, 0x08);
    CheckRegisterByte(RegisterType::C, 0xB5);
    CheckRegisterByte(RegisterType::D, 0x47);
    CheckRegisterByte(RegisterType::E, 0x77);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xA3);
    CheckRegisterByte(RegisterType::L, 0x68);
    WriteRegisterWord(RegisterType::PC, 0x5960);
    WriteRegisterWord(RegisterType::SP, 0x528C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4777, 0x8C);
    CheckMemory(0x5960, 0x12);
}

void test_12_01C1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9905);
    WriteRegisterWord(RegisterType::SP, 0xAB9F);
    WriteRegisterByte(RegisterType::A, 0xA9);
    WriteRegisterByte(RegisterType::B, 0x83);
    WriteRegisterByte(RegisterType::C, 0xF5);
    WriteRegisterByte(RegisterType::D, 0x21);
    WriteRegisterByte(RegisterType::E, 0x59);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x18);
    WriteRegisterByte(RegisterType::L, 0x0D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2159, 0x00);
    WriteMemory(0x9905, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA9);
    CheckRegisterByte(RegisterType::B, 0x83);
    CheckRegisterByte(RegisterType::C, 0xF5);
    CheckRegisterByte(RegisterType::D, 0x21);
    CheckRegisterByte(RegisterType::E, 0x59);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x18);
    CheckRegisterByte(RegisterType::L, 0x0D);
    WriteRegisterWord(RegisterType::PC, 0x9905);
    WriteRegisterWord(RegisterType::SP, 0xAB9F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2159, 0xA9);
    CheckMemory(0x9905, 0x12);
}

void test_12_01C2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0847);
    WriteRegisterWord(RegisterType::SP, 0x8C9F);
    WriteRegisterByte(RegisterType::A, 0x7F);
    WriteRegisterByte(RegisterType::B, 0x90);
    WriteRegisterByte(RegisterType::C, 0xD8);
    WriteRegisterByte(RegisterType::D, 0xC0);
    WriteRegisterByte(RegisterType::E, 0xA6);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x6C);
    WriteRegisterByte(RegisterType::L, 0x08);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0847, 0x12);
    WriteMemory(0xC0A6, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7F);
    CheckRegisterByte(RegisterType::B, 0x90);
    CheckRegisterByte(RegisterType::C, 0xD8);
    CheckRegisterByte(RegisterType::D, 0xC0);
    CheckRegisterByte(RegisterType::E, 0xA6);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x6C);
    CheckRegisterByte(RegisterType::L, 0x08);
    WriteRegisterWord(RegisterType::PC, 0x0847);
    WriteRegisterWord(RegisterType::SP, 0x8C9F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0847, 0x12);
    CheckMemory(0xC0A6, 0x7F);
}

void test_12_01C3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x058D);
    WriteRegisterWord(RegisterType::SP, 0xFEFF);
    WriteRegisterByte(RegisterType::A, 0x47);
    WriteRegisterByte(RegisterType::B, 0xF2);
    WriteRegisterByte(RegisterType::C, 0xBB);
    WriteRegisterByte(RegisterType::D, 0xDA);
    WriteRegisterByte(RegisterType::E, 0x46);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xA5);
    WriteRegisterByte(RegisterType::L, 0xAD);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x058D, 0x12);
    WriteMemory(0xDA46, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x47);
    CheckRegisterByte(RegisterType::B, 0xF2);
    CheckRegisterByte(RegisterType::C, 0xBB);
    CheckRegisterByte(RegisterType::D, 0xDA);
    CheckRegisterByte(RegisterType::E, 0x46);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xA5);
    CheckRegisterByte(RegisterType::L, 0xAD);
    WriteRegisterWord(RegisterType::PC, 0x058D);
    WriteRegisterWord(RegisterType::SP, 0xFEFF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x058D, 0x12);
    CheckMemory(0xDA46, 0x47);
}

void test_12_01C4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDB8A);
    WriteRegisterWord(RegisterType::SP, 0x838E);
    WriteRegisterByte(RegisterType::A, 0x11);
    WriteRegisterByte(RegisterType::B, 0xB9);
    WriteRegisterByte(RegisterType::C, 0xC8);
    WriteRegisterByte(RegisterType::D, 0xF2);
    WriteRegisterByte(RegisterType::E, 0x7E);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x8E);
    WriteRegisterByte(RegisterType::L, 0x5F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xDB8A, 0x12);
    WriteMemory(0xF27E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x11);
    CheckRegisterByte(RegisterType::B, 0xB9);
    CheckRegisterByte(RegisterType::C, 0xC8);
    CheckRegisterByte(RegisterType::D, 0xF2);
    CheckRegisterByte(RegisterType::E, 0x7E);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x8E);
    CheckRegisterByte(RegisterType::L, 0x5F);
    WriteRegisterWord(RegisterType::PC, 0xDB8A);
    WriteRegisterWord(RegisterType::SP, 0x838E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xDB8A, 0x12);
    CheckMemory(0xF27E, 0x11);
}

void test_12_01C5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6942);
    WriteRegisterWord(RegisterType::SP, 0xAA13);
    WriteRegisterByte(RegisterType::A, 0xB8);
    WriteRegisterByte(RegisterType::B, 0xF2);
    WriteRegisterByte(RegisterType::C, 0x3B);
    WriteRegisterByte(RegisterType::D, 0x36);
    WriteRegisterByte(RegisterType::E, 0xF3);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xBB);
    WriteRegisterByte(RegisterType::L, 0x04);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x36F3, 0x00);
    WriteMemory(0x6942, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB8);
    CheckRegisterByte(RegisterType::B, 0xF2);
    CheckRegisterByte(RegisterType::C, 0x3B);
    CheckRegisterByte(RegisterType::D, 0x36);
    CheckRegisterByte(RegisterType::E, 0xF3);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xBB);
    CheckRegisterByte(RegisterType::L, 0x04);
    WriteRegisterWord(RegisterType::PC, 0x6942);
    WriteRegisterWord(RegisterType::SP, 0xAA13);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x36F3, 0xB8);
    CheckMemory(0x6942, 0x12);
}

void test_12_01C6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBE92);
    WriteRegisterWord(RegisterType::SP, 0x92E3);
    WriteRegisterByte(RegisterType::A, 0x72);
    WriteRegisterByte(RegisterType::B, 0x7C);
    WriteRegisterByte(RegisterType::C, 0x67);
    WriteRegisterByte(RegisterType::D, 0x79);
    WriteRegisterByte(RegisterType::E, 0x75);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xE6);
    WriteRegisterByte(RegisterType::L, 0x3C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7975, 0x00);
    WriteMemory(0xBE92, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x72);
    CheckRegisterByte(RegisterType::B, 0x7C);
    CheckRegisterByte(RegisterType::C, 0x67);
    CheckRegisterByte(RegisterType::D, 0x79);
    CheckRegisterByte(RegisterType::E, 0x75);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xE6);
    CheckRegisterByte(RegisterType::L, 0x3C);
    WriteRegisterWord(RegisterType::PC, 0xBE92);
    WriteRegisterWord(RegisterType::SP, 0x92E3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x7975, 0x72);
    CheckMemory(0xBE92, 0x12);
}

void test_12_01C7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC98F);
    WriteRegisterWord(RegisterType::SP, 0x02DF);
    WriteRegisterByte(RegisterType::A, 0xA4);
    WriteRegisterByte(RegisterType::B, 0xB5);
    WriteRegisterByte(RegisterType::C, 0xE7);
    WriteRegisterByte(RegisterType::D, 0xF5);
    WriteRegisterByte(RegisterType::E, 0x30);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x42);
    WriteRegisterByte(RegisterType::L, 0x43);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xC98F, 0x12);
    WriteMemory(0xF530, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA4);
    CheckRegisterByte(RegisterType::B, 0xB5);
    CheckRegisterByte(RegisterType::C, 0xE7);
    CheckRegisterByte(RegisterType::D, 0xF5);
    CheckRegisterByte(RegisterType::E, 0x30);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x42);
    CheckRegisterByte(RegisterType::L, 0x43);
    WriteRegisterWord(RegisterType::PC, 0xC98F);
    WriteRegisterWord(RegisterType::SP, 0x02DF);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xC98F, 0x12);
    CheckMemory(0xF530, 0xA4);
}

void test_12_01C8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8A11);
    WriteRegisterWord(RegisterType::SP, 0x60CA);
    WriteRegisterByte(RegisterType::A, 0xFD);
    WriteRegisterByte(RegisterType::B, 0x89);
    WriteRegisterByte(RegisterType::C, 0xE7);
    WriteRegisterByte(RegisterType::D, 0x8B);
    WriteRegisterByte(RegisterType::E, 0xF9);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x73);
    WriteRegisterByte(RegisterType::L, 0x1C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x8A11, 0x12);
    WriteMemory(0x8BF9, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFD);
    CheckRegisterByte(RegisterType::B, 0x89);
    CheckRegisterByte(RegisterType::C, 0xE7);
    CheckRegisterByte(RegisterType::D, 0x8B);
    CheckRegisterByte(RegisterType::E, 0xF9);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x73);
    CheckRegisterByte(RegisterType::L, 0x1C);
    WriteRegisterWord(RegisterType::PC, 0x8A11);
    WriteRegisterWord(RegisterType::SP, 0x60CA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x8A11, 0x12);
    CheckMemory(0x8BF9, 0xFD);
}

void test_12_01C9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x19F1);
    WriteRegisterWord(RegisterType::SP, 0xF4A2);
    WriteRegisterByte(RegisterType::A, 0x26);
    WriteRegisterByte(RegisterType::B, 0x9C);
    WriteRegisterByte(RegisterType::C, 0xA6);
    WriteRegisterByte(RegisterType::D, 0x49);
    WriteRegisterByte(RegisterType::E, 0xAE);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xBD);
    WriteRegisterByte(RegisterType::L, 0x6D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x19F1, 0x12);
    WriteMemory(0x49AE, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x26);
    CheckRegisterByte(RegisterType::B, 0x9C);
    CheckRegisterByte(RegisterType::C, 0xA6);
    CheckRegisterByte(RegisterType::D, 0x49);
    CheckRegisterByte(RegisterType::E, 0xAE);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xBD);
    CheckRegisterByte(RegisterType::L, 0x6D);
    WriteRegisterWord(RegisterType::PC, 0x19F1);
    WriteRegisterWord(RegisterType::SP, 0xF4A2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x19F1, 0x12);
    CheckMemory(0x49AE, 0x26);
}

void test_12_01CA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5735);
    WriteRegisterWord(RegisterType::SP, 0xDFCC);
    WriteRegisterByte(RegisterType::A, 0x71);
    WriteRegisterByte(RegisterType::B, 0x7A);
    WriteRegisterByte(RegisterType::C, 0x9B);
    WriteRegisterByte(RegisterType::D, 0xEA);
    WriteRegisterByte(RegisterType::E, 0x4D);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x31);
    WriteRegisterByte(RegisterType::L, 0xA9);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5735, 0x12);
    WriteMemory(0xEA4D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x71);
    CheckRegisterByte(RegisterType::B, 0x7A);
    CheckRegisterByte(RegisterType::C, 0x9B);
    CheckRegisterByte(RegisterType::D, 0xEA);
    CheckRegisterByte(RegisterType::E, 0x4D);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x31);
    CheckRegisterByte(RegisterType::L, 0xA9);
    WriteRegisterWord(RegisterType::PC, 0x5735);
    WriteRegisterWord(RegisterType::SP, 0xDFCC);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5735, 0x12);
    CheckMemory(0xEA4D, 0x71);
}

void test_12_01CB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5A3E);
    WriteRegisterWord(RegisterType::SP, 0x84D0);
    WriteRegisterByte(RegisterType::A, 0x0E);
    WriteRegisterByte(RegisterType::B, 0xFC);
    WriteRegisterByte(RegisterType::C, 0x88);
    WriteRegisterByte(RegisterType::D, 0x8C);
    WriteRegisterByte(RegisterType::E, 0x22);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x33);
    WriteRegisterByte(RegisterType::L, 0x50);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5A3E, 0x12);
    WriteMemory(0x8C22, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0E);
    CheckRegisterByte(RegisterType::B, 0xFC);
    CheckRegisterByte(RegisterType::C, 0x88);
    CheckRegisterByte(RegisterType::D, 0x8C);
    CheckRegisterByte(RegisterType::E, 0x22);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x33);
    CheckRegisterByte(RegisterType::L, 0x50);
    WriteRegisterWord(RegisterType::PC, 0x5A3E);
    WriteRegisterWord(RegisterType::SP, 0x84D0);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5A3E, 0x12);
    CheckMemory(0x8C22, 0x0E);
}

void test_12_01CC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1935);
    WriteRegisterWord(RegisterType::SP, 0xAA7F);
    WriteRegisterByte(RegisterType::A, 0xA0);
    WriteRegisterByte(RegisterType::B, 0xE5);
    WriteRegisterByte(RegisterType::C, 0xE4);
    WriteRegisterByte(RegisterType::D, 0x57);
    WriteRegisterByte(RegisterType::E, 0x89);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x69);
    WriteRegisterByte(RegisterType::L, 0x3D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1935, 0x12);
    WriteMemory(0x5789, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA0);
    CheckRegisterByte(RegisterType::B, 0xE5);
    CheckRegisterByte(RegisterType::C, 0xE4);
    CheckRegisterByte(RegisterType::D, 0x57);
    CheckRegisterByte(RegisterType::E, 0x89);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x69);
    CheckRegisterByte(RegisterType::L, 0x3D);
    WriteRegisterWord(RegisterType::PC, 0x1935);
    WriteRegisterWord(RegisterType::SP, 0xAA7F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1935, 0x12);
    CheckMemory(0x5789, 0xA0);
}

void test_12_01CD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1DD8);
    WriteRegisterWord(RegisterType::SP, 0xE242);
    WriteRegisterByte(RegisterType::A, 0xA8);
    WriteRegisterByte(RegisterType::B, 0x81);
    WriteRegisterByte(RegisterType::C, 0xEC);
    WriteRegisterByte(RegisterType::D, 0x60);
    WriteRegisterByte(RegisterType::E, 0x39);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xC8);
    WriteRegisterByte(RegisterType::L, 0x28);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1DD8, 0x12);
    WriteMemory(0x6039, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA8);
    CheckRegisterByte(RegisterType::B, 0x81);
    CheckRegisterByte(RegisterType::C, 0xEC);
    CheckRegisterByte(RegisterType::D, 0x60);
    CheckRegisterByte(RegisterType::E, 0x39);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xC8);
    CheckRegisterByte(RegisterType::L, 0x28);
    WriteRegisterWord(RegisterType::PC, 0x1DD8);
    WriteRegisterWord(RegisterType::SP, 0xE242);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1DD8, 0x12);
    CheckMemory(0x6039, 0xA8);
}

void test_12_01CE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD6E8);
    WriteRegisterWord(RegisterType::SP, 0xB687);
    WriteRegisterByte(RegisterType::A, 0x9C);
    WriteRegisterByte(RegisterType::B, 0x97);
    WriteRegisterByte(RegisterType::C, 0xD6);
    WriteRegisterByte(RegisterType::D, 0x83);
    WriteRegisterByte(RegisterType::E, 0xCD);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x33);
    WriteRegisterByte(RegisterType::L, 0x86);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x83CD, 0x00);
    WriteMemory(0xD6E8, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9C);
    CheckRegisterByte(RegisterType::B, 0x97);
    CheckRegisterByte(RegisterType::C, 0xD6);
    CheckRegisterByte(RegisterType::D, 0x83);
    CheckRegisterByte(RegisterType::E, 0xCD);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x33);
    CheckRegisterByte(RegisterType::L, 0x86);
    WriteRegisterWord(RegisterType::PC, 0xD6E8);
    WriteRegisterWord(RegisterType::SP, 0xB687);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x83CD, 0x9C);
    CheckMemory(0xD6E8, 0x12);
}

void test_12_01CF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1B19);
    WriteRegisterWord(RegisterType::SP, 0xF053);
    WriteRegisterByte(RegisterType::A, 0xC3);
    WriteRegisterByte(RegisterType::B, 0x4C);
    WriteRegisterByte(RegisterType::C, 0x96);
    WriteRegisterByte(RegisterType::D, 0x02);
    WriteRegisterByte(RegisterType::E, 0xFD);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xAB);
    WriteRegisterByte(RegisterType::L, 0xFE);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x02FD, 0x00);
    WriteMemory(0x1B19, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC3);
    CheckRegisterByte(RegisterType::B, 0x4C);
    CheckRegisterByte(RegisterType::C, 0x96);
    CheckRegisterByte(RegisterType::D, 0x02);
    CheckRegisterByte(RegisterType::E, 0xFD);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xAB);
    CheckRegisterByte(RegisterType::L, 0xFE);
    WriteRegisterWord(RegisterType::PC, 0x1B19);
    WriteRegisterWord(RegisterType::SP, 0xF053);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x02FD, 0xC3);
    CheckMemory(0x1B19, 0x12);
}

void test_12_01D0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3054);
    WriteRegisterWord(RegisterType::SP, 0xEA44);
    WriteRegisterByte(RegisterType::A, 0xDC);
    WriteRegisterByte(RegisterType::B, 0xD9);
    WriteRegisterByte(RegisterType::C, 0x99);
    WriteRegisterByte(RegisterType::D, 0xDA);
    WriteRegisterByte(RegisterType::E, 0x91);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x16);
    WriteRegisterByte(RegisterType::L, 0xB8);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3054, 0x12);
    WriteMemory(0xDA91, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDC);
    CheckRegisterByte(RegisterType::B, 0xD9);
    CheckRegisterByte(RegisterType::C, 0x99);
    CheckRegisterByte(RegisterType::D, 0xDA);
    CheckRegisterByte(RegisterType::E, 0x91);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x16);
    CheckRegisterByte(RegisterType::L, 0xB8);
    WriteRegisterWord(RegisterType::PC, 0x3054);
    WriteRegisterWord(RegisterType::SP, 0xEA44);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3054, 0x12);
    CheckMemory(0xDA91, 0xDC);
}

void test_12_01D1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9F74);
    WriteRegisterWord(RegisterType::SP, 0x95CF);
    WriteRegisterByte(RegisterType::A, 0xDD);
    WriteRegisterByte(RegisterType::B, 0x37);
    WriteRegisterByte(RegisterType::C, 0x36);
    WriteRegisterByte(RegisterType::D, 0x35);
    WriteRegisterByte(RegisterType::E, 0xB0);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x9B);
    WriteRegisterByte(RegisterType::L, 0x7D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x35B0, 0x00);
    WriteMemory(0x9F74, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDD);
    CheckRegisterByte(RegisterType::B, 0x37);
    CheckRegisterByte(RegisterType::C, 0x36);
    CheckRegisterByte(RegisterType::D, 0x35);
    CheckRegisterByte(RegisterType::E, 0xB0);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x9B);
    CheckRegisterByte(RegisterType::L, 0x7D);
    WriteRegisterWord(RegisterType::PC, 0x9F74);
    WriteRegisterWord(RegisterType::SP, 0x95CF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x35B0, 0xDD);
    CheckMemory(0x9F74, 0x12);
}

void test_12_01D2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8FA3);
    WriteRegisterWord(RegisterType::SP, 0x195E);
    WriteRegisterByte(RegisterType::A, 0xC0);
    WriteRegisterByte(RegisterType::B, 0x66);
    WriteRegisterByte(RegisterType::C, 0xF8);
    WriteRegisterByte(RegisterType::D, 0xE8);
    WriteRegisterByte(RegisterType::E, 0xA2);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xAD);
    WriteRegisterByte(RegisterType::L, 0xC8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x8FA3, 0x12);
    WriteMemory(0xE8A2, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC0);
    CheckRegisterByte(RegisterType::B, 0x66);
    CheckRegisterByte(RegisterType::C, 0xF8);
    CheckRegisterByte(RegisterType::D, 0xE8);
    CheckRegisterByte(RegisterType::E, 0xA2);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xAD);
    CheckRegisterByte(RegisterType::L, 0xC8);
    WriteRegisterWord(RegisterType::PC, 0x8FA3);
    WriteRegisterWord(RegisterType::SP, 0x195E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x8FA3, 0x12);
    CheckMemory(0xE8A2, 0xC0);
}

void test_12_01D3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6224);
    WriteRegisterWord(RegisterType::SP, 0x9F21);
    WriteRegisterByte(RegisterType::A, 0x0A);
    WriteRegisterByte(RegisterType::B, 0x13);
    WriteRegisterByte(RegisterType::C, 0xCD);
    WriteRegisterByte(RegisterType::D, 0xA2);
    WriteRegisterByte(RegisterType::E, 0xDC);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xEE);
    WriteRegisterByte(RegisterType::L, 0x2D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6224, 0x12);
    WriteMemory(0xA2DC, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0A);
    CheckRegisterByte(RegisterType::B, 0x13);
    CheckRegisterByte(RegisterType::C, 0xCD);
    CheckRegisterByte(RegisterType::D, 0xA2);
    CheckRegisterByte(RegisterType::E, 0xDC);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xEE);
    CheckRegisterByte(RegisterType::L, 0x2D);
    WriteRegisterWord(RegisterType::PC, 0x6224);
    WriteRegisterWord(RegisterType::SP, 0x9F21);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6224, 0x12);
    CheckMemory(0xA2DC, 0x0A);
}

void test_12_01D4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4195);
    WriteRegisterWord(RegisterType::SP, 0x05AD);
    WriteRegisterByte(RegisterType::A, 0xF2);
    WriteRegisterByte(RegisterType::B, 0x3B);
    WriteRegisterByte(RegisterType::C, 0x41);
    WriteRegisterByte(RegisterType::D, 0x02);
    WriteRegisterByte(RegisterType::E, 0x46);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x1F);
    WriteRegisterByte(RegisterType::L, 0xDF);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0246, 0x00);
    WriteMemory(0x4195, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF2);
    CheckRegisterByte(RegisterType::B, 0x3B);
    CheckRegisterByte(RegisterType::C, 0x41);
    CheckRegisterByte(RegisterType::D, 0x02);
    CheckRegisterByte(RegisterType::E, 0x46);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x1F);
    CheckRegisterByte(RegisterType::L, 0xDF);
    WriteRegisterWord(RegisterType::PC, 0x4195);
    WriteRegisterWord(RegisterType::SP, 0x05AD);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0246, 0xF2);
    CheckMemory(0x4195, 0x12);
}

void test_12_01D5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2CAC);
    WriteRegisterWord(RegisterType::SP, 0xEFC5);
    WriteRegisterByte(RegisterType::A, 0x5B);
    WriteRegisterByte(RegisterType::B, 0x7D);
    WriteRegisterByte(RegisterType::C, 0x03);
    WriteRegisterByte(RegisterType::D, 0x08);
    WriteRegisterByte(RegisterType::E, 0xC1);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x33);
    WriteRegisterByte(RegisterType::L, 0xE1);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x08C1, 0x00);
    WriteMemory(0x2CAC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5B);
    CheckRegisterByte(RegisterType::B, 0x7D);
    CheckRegisterByte(RegisterType::C, 0x03);
    CheckRegisterByte(RegisterType::D, 0x08);
    CheckRegisterByte(RegisterType::E, 0xC1);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x33);
    CheckRegisterByte(RegisterType::L, 0xE1);
    WriteRegisterWord(RegisterType::PC, 0x2CAC);
    WriteRegisterWord(RegisterType::SP, 0xEFC5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x08C1, 0x5B);
    CheckMemory(0x2CAC, 0x12);
}

void test_12_01D6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF57E);
    WriteRegisterWord(RegisterType::SP, 0x811F);
    WriteRegisterByte(RegisterType::A, 0xDD);
    WriteRegisterByte(RegisterType::B, 0xE0);
    WriteRegisterByte(RegisterType::C, 0x46);
    WriteRegisterByte(RegisterType::D, 0x7C);
    WriteRegisterByte(RegisterType::E, 0x11);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x9D);
    WriteRegisterByte(RegisterType::L, 0xEE);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7C11, 0x00);
    WriteMemory(0xF57E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDD);
    CheckRegisterByte(RegisterType::B, 0xE0);
    CheckRegisterByte(RegisterType::C, 0x46);
    CheckRegisterByte(RegisterType::D, 0x7C);
    CheckRegisterByte(RegisterType::E, 0x11);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x9D);
    CheckRegisterByte(RegisterType::L, 0xEE);
    WriteRegisterWord(RegisterType::PC, 0xF57E);
    WriteRegisterWord(RegisterType::SP, 0x811F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7C11, 0xDD);
    CheckMemory(0xF57E, 0x12);
}

void test_12_01D7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1C91);
    WriteRegisterWord(RegisterType::SP, 0x8411);
    WriteRegisterByte(RegisterType::A, 0xBD);
    WriteRegisterByte(RegisterType::B, 0xD1);
    WriteRegisterByte(RegisterType::C, 0x13);
    WriteRegisterByte(RegisterType::D, 0x3F);
    WriteRegisterByte(RegisterType::E, 0x68);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x1C);
    WriteRegisterByte(RegisterType::L, 0x27);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1C91, 0x12);
    WriteMemory(0x3F68, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBD);
    CheckRegisterByte(RegisterType::B, 0xD1);
    CheckRegisterByte(RegisterType::C, 0x13);
    CheckRegisterByte(RegisterType::D, 0x3F);
    CheckRegisterByte(RegisterType::E, 0x68);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x1C);
    CheckRegisterByte(RegisterType::L, 0x27);
    WriteRegisterWord(RegisterType::PC, 0x1C91);
    WriteRegisterWord(RegisterType::SP, 0x8411);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1C91, 0x12);
    CheckMemory(0x3F68, 0xBD);
}

void test_12_01D8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x26A3);
    WriteRegisterWord(RegisterType::SP, 0xC0E3);
    WriteRegisterByte(RegisterType::A, 0x0F);
    WriteRegisterByte(RegisterType::B, 0x18);
    WriteRegisterByte(RegisterType::C, 0x5D);
    WriteRegisterByte(RegisterType::D, 0x1E);
    WriteRegisterByte(RegisterType::E, 0x11);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x23);
    WriteRegisterByte(RegisterType::L, 0x30);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1E11, 0x00);
    WriteMemory(0x26A3, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0F);
    CheckRegisterByte(RegisterType::B, 0x18);
    CheckRegisterByte(RegisterType::C, 0x5D);
    CheckRegisterByte(RegisterType::D, 0x1E);
    CheckRegisterByte(RegisterType::E, 0x11);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x23);
    CheckRegisterByte(RegisterType::L, 0x30);
    WriteRegisterWord(RegisterType::PC, 0x26A3);
    WriteRegisterWord(RegisterType::SP, 0xC0E3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1E11, 0x0F);
    CheckMemory(0x26A3, 0x12);
}

void test_12_01D9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x829F);
    WriteRegisterWord(RegisterType::SP, 0xB538);
    WriteRegisterByte(RegisterType::A, 0x32);
    WriteRegisterByte(RegisterType::B, 0x99);
    WriteRegisterByte(RegisterType::C, 0x85);
    WriteRegisterByte(RegisterType::D, 0xE3);
    WriteRegisterByte(RegisterType::E, 0xC0);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x38);
    WriteRegisterByte(RegisterType::L, 0xAF);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x829F, 0x12);
    WriteMemory(0xE3C0, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x32);
    CheckRegisterByte(RegisterType::B, 0x99);
    CheckRegisterByte(RegisterType::C, 0x85);
    CheckRegisterByte(RegisterType::D, 0xE3);
    CheckRegisterByte(RegisterType::E, 0xC0);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x38);
    CheckRegisterByte(RegisterType::L, 0xAF);
    WriteRegisterWord(RegisterType::PC, 0x829F);
    WriteRegisterWord(RegisterType::SP, 0xB538);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x829F, 0x12);
    CheckMemory(0xE3C0, 0x32);
}

void test_12_01DA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB66B);
    WriteRegisterWord(RegisterType::SP, 0x73E2);
    WriteRegisterByte(RegisterType::A, 0x32);
    WriteRegisterByte(RegisterType::B, 0x21);
    WriteRegisterByte(RegisterType::C, 0xFF);
    WriteRegisterByte(RegisterType::D, 0x69);
    WriteRegisterByte(RegisterType::E, 0x8B);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x6C);
    WriteRegisterByte(RegisterType::L, 0x46);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x698B, 0x00);
    WriteMemory(0xB66B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x32);
    CheckRegisterByte(RegisterType::B, 0x21);
    CheckRegisterByte(RegisterType::C, 0xFF);
    CheckRegisterByte(RegisterType::D, 0x69);
    CheckRegisterByte(RegisterType::E, 0x8B);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x6C);
    CheckRegisterByte(RegisterType::L, 0x46);
    WriteRegisterWord(RegisterType::PC, 0xB66B);
    WriteRegisterWord(RegisterType::SP, 0x73E2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x698B, 0x32);
    CheckMemory(0xB66B, 0x12);
}

void test_12_01DB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBDB1);
    WriteRegisterWord(RegisterType::SP, 0xF2A8);
    WriteRegisterByte(RegisterType::A, 0x68);
    WriteRegisterByte(RegisterType::B, 0x48);
    WriteRegisterByte(RegisterType::C, 0x3A);
    WriteRegisterByte(RegisterType::D, 0x49);
    WriteRegisterByte(RegisterType::E, 0xCF);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x68);
    WriteRegisterByte(RegisterType::L, 0x9D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x49CF, 0x00);
    WriteMemory(0xBDB1, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x68);
    CheckRegisterByte(RegisterType::B, 0x48);
    CheckRegisterByte(RegisterType::C, 0x3A);
    CheckRegisterByte(RegisterType::D, 0x49);
    CheckRegisterByte(RegisterType::E, 0xCF);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x68);
    CheckRegisterByte(RegisterType::L, 0x9D);
    WriteRegisterWord(RegisterType::PC, 0xBDB1);
    WriteRegisterWord(RegisterType::SP, 0xF2A8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x49CF, 0x68);
    CheckMemory(0xBDB1, 0x12);
}

void test_12_01DC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x65CE);
    WriteRegisterWord(RegisterType::SP, 0xDDC5);
    WriteRegisterByte(RegisterType::A, 0x8A);
    WriteRegisterByte(RegisterType::B, 0x80);
    WriteRegisterByte(RegisterType::C, 0xF3);
    WriteRegisterByte(RegisterType::D, 0x75);
    WriteRegisterByte(RegisterType::E, 0x8E);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x21);
    WriteRegisterByte(RegisterType::L, 0xD7);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x65CE, 0x12);
    WriteMemory(0x758E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8A);
    CheckRegisterByte(RegisterType::B, 0x80);
    CheckRegisterByte(RegisterType::C, 0xF3);
    CheckRegisterByte(RegisterType::D, 0x75);
    CheckRegisterByte(RegisterType::E, 0x8E);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x21);
    CheckRegisterByte(RegisterType::L, 0xD7);
    WriteRegisterWord(RegisterType::PC, 0x65CE);
    WriteRegisterWord(RegisterType::SP, 0xDDC5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x65CE, 0x12);
    CheckMemory(0x758E, 0x8A);
}

void test_12_01DD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEE3E);
    WriteRegisterWord(RegisterType::SP, 0xF925);
    WriteRegisterByte(RegisterType::A, 0xBE);
    WriteRegisterByte(RegisterType::B, 0x43);
    WriteRegisterByte(RegisterType::C, 0x64);
    WriteRegisterByte(RegisterType::D, 0xB8);
    WriteRegisterByte(RegisterType::E, 0x80);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x8E);
    WriteRegisterByte(RegisterType::L, 0x2F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB880, 0x00);
    WriteMemory(0xEE3E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBE);
    CheckRegisterByte(RegisterType::B, 0x43);
    CheckRegisterByte(RegisterType::C, 0x64);
    CheckRegisterByte(RegisterType::D, 0xB8);
    CheckRegisterByte(RegisterType::E, 0x80);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x8E);
    CheckRegisterByte(RegisterType::L, 0x2F);
    WriteRegisterWord(RegisterType::PC, 0xEE3E);
    WriteRegisterWord(RegisterType::SP, 0xF925);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xB880, 0xBE);
    CheckMemory(0xEE3E, 0x12);
}

void test_12_01DE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF516);
    WriteRegisterWord(RegisterType::SP, 0x1EE7);
    WriteRegisterByte(RegisterType::A, 0x1A);
    WriteRegisterByte(RegisterType::B, 0xA9);
    WriteRegisterByte(RegisterType::C, 0xB7);
    WriteRegisterByte(RegisterType::D, 0xAB);
    WriteRegisterByte(RegisterType::E, 0x95);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x6E);
    WriteRegisterByte(RegisterType::L, 0xC7);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xAB95, 0x00);
    WriteMemory(0xF516, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1A);
    CheckRegisterByte(RegisterType::B, 0xA9);
    CheckRegisterByte(RegisterType::C, 0xB7);
    CheckRegisterByte(RegisterType::D, 0xAB);
    CheckRegisterByte(RegisterType::E, 0x95);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x6E);
    CheckRegisterByte(RegisterType::L, 0xC7);
    WriteRegisterWord(RegisterType::PC, 0xF516);
    WriteRegisterWord(RegisterType::SP, 0x1EE7);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xAB95, 0x1A);
    CheckMemory(0xF516, 0x12);
}

void test_12_01DF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x02B7);
    WriteRegisterWord(RegisterType::SP, 0xE488);
    WriteRegisterByte(RegisterType::A, 0xA3);
    WriteRegisterByte(RegisterType::B, 0xB6);
    WriteRegisterByte(RegisterType::C, 0x03);
    WriteRegisterByte(RegisterType::D, 0x1E);
    WriteRegisterByte(RegisterType::E, 0xBA);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xE6);
    WriteRegisterByte(RegisterType::L, 0x34);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x02B7, 0x12);
    WriteMemory(0x1EBA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA3);
    CheckRegisterByte(RegisterType::B, 0xB6);
    CheckRegisterByte(RegisterType::C, 0x03);
    CheckRegisterByte(RegisterType::D, 0x1E);
    CheckRegisterByte(RegisterType::E, 0xBA);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xE6);
    CheckRegisterByte(RegisterType::L, 0x34);
    WriteRegisterWord(RegisterType::PC, 0x02B7);
    WriteRegisterWord(RegisterType::SP, 0xE488);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x02B7, 0x12);
    CheckMemory(0x1EBA, 0xA3);
}

void test_12_01E0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7784);
    WriteRegisterWord(RegisterType::SP, 0x8CEE);
    WriteRegisterByte(RegisterType::A, 0x09);
    WriteRegisterByte(RegisterType::B, 0xD1);
    WriteRegisterByte(RegisterType::C, 0x32);
    WriteRegisterByte(RegisterType::D, 0x39);
    WriteRegisterByte(RegisterType::E, 0x9F);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x46);
    WriteRegisterByte(RegisterType::L, 0x40);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x399F, 0x00);
    WriteMemory(0x7784, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x09);
    CheckRegisterByte(RegisterType::B, 0xD1);
    CheckRegisterByte(RegisterType::C, 0x32);
    CheckRegisterByte(RegisterType::D, 0x39);
    CheckRegisterByte(RegisterType::E, 0x9F);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x46);
    CheckRegisterByte(RegisterType::L, 0x40);
    WriteRegisterWord(RegisterType::PC, 0x7784);
    WriteRegisterWord(RegisterType::SP, 0x8CEE);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x399F, 0x09);
    CheckMemory(0x7784, 0x12);
}

void test_12_01E1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAC7D);
    WriteRegisterWord(RegisterType::SP, 0x9032);
    WriteRegisterByte(RegisterType::A, 0x81);
    WriteRegisterByte(RegisterType::B, 0x3B);
    WriteRegisterByte(RegisterType::C, 0xDD);
    WriteRegisterByte(RegisterType::D, 0x00);
    WriteRegisterByte(RegisterType::E, 0x18);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xF4);
    WriteRegisterByte(RegisterType::L, 0x05);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0018, 0x00);
    WriteMemory(0xAC7D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x81);
    CheckRegisterByte(RegisterType::B, 0x3B);
    CheckRegisterByte(RegisterType::C, 0xDD);
    CheckRegisterByte(RegisterType::D, 0x00);
    CheckRegisterByte(RegisterType::E, 0x18);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xF4);
    CheckRegisterByte(RegisterType::L, 0x05);
    WriteRegisterWord(RegisterType::PC, 0xAC7D);
    WriteRegisterWord(RegisterType::SP, 0x9032);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0018, 0x81);
    CheckMemory(0xAC7D, 0x12);
}

void test_12_01E2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x418F);
    WriteRegisterWord(RegisterType::SP, 0x7243);
    WriteRegisterByte(RegisterType::A, 0x42);
    WriteRegisterByte(RegisterType::B, 0xD1);
    WriteRegisterByte(RegisterType::C, 0x54);
    WriteRegisterByte(RegisterType::D, 0x56);
    WriteRegisterByte(RegisterType::E, 0x38);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xC2);
    WriteRegisterByte(RegisterType::L, 0x6A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x418F, 0x12);
    WriteMemory(0x5638, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x42);
    CheckRegisterByte(RegisterType::B, 0xD1);
    CheckRegisterByte(RegisterType::C, 0x54);
    CheckRegisterByte(RegisterType::D, 0x56);
    CheckRegisterByte(RegisterType::E, 0x38);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xC2);
    CheckRegisterByte(RegisterType::L, 0x6A);
    WriteRegisterWord(RegisterType::PC, 0x418F);
    WriteRegisterWord(RegisterType::SP, 0x7243);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x418F, 0x12);
    CheckMemory(0x5638, 0x42);
}

void test_12_01E3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE1C8);
    WriteRegisterWord(RegisterType::SP, 0x2A3A);
    WriteRegisterByte(RegisterType::A, 0xE1);
    WriteRegisterByte(RegisterType::B, 0x1C);
    WriteRegisterByte(RegisterType::C, 0xA2);
    WriteRegisterByte(RegisterType::D, 0x94);
    WriteRegisterByte(RegisterType::E, 0x43);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xEC);
    WriteRegisterByte(RegisterType::L, 0xFC);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9443, 0x00);
    WriteMemory(0xE1C8, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE1);
    CheckRegisterByte(RegisterType::B, 0x1C);
    CheckRegisterByte(RegisterType::C, 0xA2);
    CheckRegisterByte(RegisterType::D, 0x94);
    CheckRegisterByte(RegisterType::E, 0x43);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xEC);
    CheckRegisterByte(RegisterType::L, 0xFC);
    WriteRegisterWord(RegisterType::PC, 0xE1C8);
    WriteRegisterWord(RegisterType::SP, 0x2A3A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9443, 0xE1);
    CheckMemory(0xE1C8, 0x12);
}

void test_12_01E4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6591);
    WriteRegisterWord(RegisterType::SP, 0xA213);
    WriteRegisterByte(RegisterType::A, 0x22);
    WriteRegisterByte(RegisterType::B, 0xB5);
    WriteRegisterByte(RegisterType::C, 0x01);
    WriteRegisterByte(RegisterType::D, 0xD3);
    WriteRegisterByte(RegisterType::E, 0x08);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xB1);
    WriteRegisterByte(RegisterType::L, 0xF0);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6591, 0x12);
    WriteMemory(0xD308, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x22);
    CheckRegisterByte(RegisterType::B, 0xB5);
    CheckRegisterByte(RegisterType::C, 0x01);
    CheckRegisterByte(RegisterType::D, 0xD3);
    CheckRegisterByte(RegisterType::E, 0x08);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xB1);
    CheckRegisterByte(RegisterType::L, 0xF0);
    WriteRegisterWord(RegisterType::PC, 0x6591);
    WriteRegisterWord(RegisterType::SP, 0xA213);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6591, 0x12);
    CheckMemory(0xD308, 0x22);
}

void test_12_01E5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x425A);
    WriteRegisterWord(RegisterType::SP, 0xF081);
    WriteRegisterByte(RegisterType::A, 0x13);
    WriteRegisterByte(RegisterType::B, 0x13);
    WriteRegisterByte(RegisterType::C, 0x7A);
    WriteRegisterByte(RegisterType::D, 0x01);
    WriteRegisterByte(RegisterType::E, 0xCF);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x4A);
    WriteRegisterByte(RegisterType::L, 0x98);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x01CF, 0x00);
    WriteMemory(0x425A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x13);
    CheckRegisterByte(RegisterType::B, 0x13);
    CheckRegisterByte(RegisterType::C, 0x7A);
    CheckRegisterByte(RegisterType::D, 0x01);
    CheckRegisterByte(RegisterType::E, 0xCF);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x4A);
    CheckRegisterByte(RegisterType::L, 0x98);
    WriteRegisterWord(RegisterType::PC, 0x425A);
    WriteRegisterWord(RegisterType::SP, 0xF081);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x01CF, 0x13);
    CheckMemory(0x425A, 0x12);
}

void test_12_01E6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0EC6);
    WriteRegisterWord(RegisterType::SP, 0xDAB9);
    WriteRegisterByte(RegisterType::A, 0x58);
    WriteRegisterByte(RegisterType::B, 0x95);
    WriteRegisterByte(RegisterType::C, 0xD0);
    WriteRegisterByte(RegisterType::D, 0x44);
    WriteRegisterByte(RegisterType::E, 0xC6);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x0E);
    WriteRegisterByte(RegisterType::L, 0xE5);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0EC6, 0x12);
    WriteMemory(0x44C6, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x58);
    CheckRegisterByte(RegisterType::B, 0x95);
    CheckRegisterByte(RegisterType::C, 0xD0);
    CheckRegisterByte(RegisterType::D, 0x44);
    CheckRegisterByte(RegisterType::E, 0xC6);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x0E);
    CheckRegisterByte(RegisterType::L, 0xE5);
    WriteRegisterWord(RegisterType::PC, 0x0EC6);
    WriteRegisterWord(RegisterType::SP, 0xDAB9);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0EC6, 0x12);
    CheckMemory(0x44C6, 0x58);
}

void test_12_01E7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAF08);
    WriteRegisterWord(RegisterType::SP, 0x6426);
    WriteRegisterByte(RegisterType::A, 0xB8);
    WriteRegisterByte(RegisterType::B, 0x2F);
    WriteRegisterByte(RegisterType::C, 0xD3);
    WriteRegisterByte(RegisterType::D, 0xE2);
    WriteRegisterByte(RegisterType::E, 0x55);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xCC);
    WriteRegisterByte(RegisterType::L, 0xF6);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xAF08, 0x12);
    WriteMemory(0xE255, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB8);
    CheckRegisterByte(RegisterType::B, 0x2F);
    CheckRegisterByte(RegisterType::C, 0xD3);
    CheckRegisterByte(RegisterType::D, 0xE2);
    CheckRegisterByte(RegisterType::E, 0x55);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xCC);
    CheckRegisterByte(RegisterType::L, 0xF6);
    WriteRegisterWord(RegisterType::PC, 0xAF08);
    WriteRegisterWord(RegisterType::SP, 0x6426);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xAF08, 0x12);
    CheckMemory(0xE255, 0xB8);
}

void test_12_01E8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x314F);
    WriteRegisterWord(RegisterType::SP, 0xAD0C);
    WriteRegisterByte(RegisterType::A, 0x93);
    WriteRegisterByte(RegisterType::B, 0x19);
    WriteRegisterByte(RegisterType::C, 0x39);
    WriteRegisterByte(RegisterType::D, 0x8A);
    WriteRegisterByte(RegisterType::E, 0x92);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x97);
    WriteRegisterByte(RegisterType::L, 0x2D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x314F, 0x12);
    WriteMemory(0x8A92, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x93);
    CheckRegisterByte(RegisterType::B, 0x19);
    CheckRegisterByte(RegisterType::C, 0x39);
    CheckRegisterByte(RegisterType::D, 0x8A);
    CheckRegisterByte(RegisterType::E, 0x92);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x97);
    CheckRegisterByte(RegisterType::L, 0x2D);
    WriteRegisterWord(RegisterType::PC, 0x314F);
    WriteRegisterWord(RegisterType::SP, 0xAD0C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x314F, 0x12);
    CheckMemory(0x8A92, 0x93);
}

void test_12_01E9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x25C0);
    WriteRegisterWord(RegisterType::SP, 0x4250);
    WriteRegisterByte(RegisterType::A, 0xFB);
    WriteRegisterByte(RegisterType::B, 0x4B);
    WriteRegisterByte(RegisterType::C, 0x72);
    WriteRegisterByte(RegisterType::D, 0xB8);
    WriteRegisterByte(RegisterType::E, 0x81);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xDB);
    WriteRegisterByte(RegisterType::L, 0x1D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x25C0, 0x12);
    WriteMemory(0xB881, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFB);
    CheckRegisterByte(RegisterType::B, 0x4B);
    CheckRegisterByte(RegisterType::C, 0x72);
    CheckRegisterByte(RegisterType::D, 0xB8);
    CheckRegisterByte(RegisterType::E, 0x81);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xDB);
    CheckRegisterByte(RegisterType::L, 0x1D);
    WriteRegisterWord(RegisterType::PC, 0x25C0);
    WriteRegisterWord(RegisterType::SP, 0x4250);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x25C0, 0x12);
    CheckMemory(0xB881, 0xFB);
}

void test_12_01EA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0C07);
    WriteRegisterWord(RegisterType::SP, 0xD91B);
    WriteRegisterByte(RegisterType::A, 0x6F);
    WriteRegisterByte(RegisterType::B, 0x33);
    WriteRegisterByte(RegisterType::C, 0x62);
    WriteRegisterByte(RegisterType::D, 0xBF);
    WriteRegisterByte(RegisterType::E, 0x98);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x47);
    WriteRegisterByte(RegisterType::L, 0x94);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0C07, 0x12);
    WriteMemory(0xBF98, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6F);
    CheckRegisterByte(RegisterType::B, 0x33);
    CheckRegisterByte(RegisterType::C, 0x62);
    CheckRegisterByte(RegisterType::D, 0xBF);
    CheckRegisterByte(RegisterType::E, 0x98);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x47);
    CheckRegisterByte(RegisterType::L, 0x94);
    WriteRegisterWord(RegisterType::PC, 0x0C07);
    WriteRegisterWord(RegisterType::SP, 0xD91B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0C07, 0x12);
    CheckMemory(0xBF98, 0x6F);
}

void test_12_01EB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD10A);
    WriteRegisterWord(RegisterType::SP, 0xC9E3);
    WriteRegisterByte(RegisterType::A, 0x2F);
    WriteRegisterByte(RegisterType::B, 0x0C);
    WriteRegisterByte(RegisterType::C, 0x0B);
    WriteRegisterByte(RegisterType::D, 0xE9);
    WriteRegisterByte(RegisterType::E, 0x1E);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x3F);
    WriteRegisterByte(RegisterType::L, 0xA6);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xD10A, 0x12);
    WriteMemory(0xE91E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2F);
    CheckRegisterByte(RegisterType::B, 0x0C);
    CheckRegisterByte(RegisterType::C, 0x0B);
    CheckRegisterByte(RegisterType::D, 0xE9);
    CheckRegisterByte(RegisterType::E, 0x1E);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x3F);
    CheckRegisterByte(RegisterType::L, 0xA6);
    WriteRegisterWord(RegisterType::PC, 0xD10A);
    WriteRegisterWord(RegisterType::SP, 0xC9E3);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xD10A, 0x12);
    CheckMemory(0xE91E, 0x2F);
}

void test_12_01EC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8C0D);
    WriteRegisterWord(RegisterType::SP, 0x069A);
    WriteRegisterByte(RegisterType::A, 0x6B);
    WriteRegisterByte(RegisterType::B, 0x05);
    WriteRegisterByte(RegisterType::C, 0x0C);
    WriteRegisterByte(RegisterType::D, 0x68);
    WriteRegisterByte(RegisterType::E, 0x7A);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x46);
    WriteRegisterByte(RegisterType::L, 0x93);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x687A, 0x00);
    WriteMemory(0x8C0D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6B);
    CheckRegisterByte(RegisterType::B, 0x05);
    CheckRegisterByte(RegisterType::C, 0x0C);
    CheckRegisterByte(RegisterType::D, 0x68);
    CheckRegisterByte(RegisterType::E, 0x7A);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x46);
    CheckRegisterByte(RegisterType::L, 0x93);
    WriteRegisterWord(RegisterType::PC, 0x8C0D);
    WriteRegisterWord(RegisterType::SP, 0x069A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x687A, 0x6B);
    CheckMemory(0x8C0D, 0x12);
}

void test_12_01ED()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5E53);
    WriteRegisterWord(RegisterType::SP, 0x4549);
    WriteRegisterByte(RegisterType::A, 0xDE);
    WriteRegisterByte(RegisterType::B, 0x0C);
    WriteRegisterByte(RegisterType::C, 0x11);
    WriteRegisterByte(RegisterType::D, 0xF5);
    WriteRegisterByte(RegisterType::E, 0x9F);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x5F);
    WriteRegisterByte(RegisterType::L, 0xC1);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5E53, 0x12);
    WriteMemory(0xF59F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDE);
    CheckRegisterByte(RegisterType::B, 0x0C);
    CheckRegisterByte(RegisterType::C, 0x11);
    CheckRegisterByte(RegisterType::D, 0xF5);
    CheckRegisterByte(RegisterType::E, 0x9F);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x5F);
    CheckRegisterByte(RegisterType::L, 0xC1);
    WriteRegisterWord(RegisterType::PC, 0x5E53);
    WriteRegisterWord(RegisterType::SP, 0x4549);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5E53, 0x12);
    CheckMemory(0xF59F, 0xDE);
}

void test_12_01EE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2351);
    WriteRegisterWord(RegisterType::SP, 0x5226);
    WriteRegisterByte(RegisterType::A, 0xF8);
    WriteRegisterByte(RegisterType::B, 0x8A);
    WriteRegisterByte(RegisterType::C, 0x80);
    WriteRegisterByte(RegisterType::D, 0x42);
    WriteRegisterByte(RegisterType::E, 0x40);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x5D);
    WriteRegisterByte(RegisterType::L, 0x3A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2351, 0x12);
    WriteMemory(0x4240, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF8);
    CheckRegisterByte(RegisterType::B, 0x8A);
    CheckRegisterByte(RegisterType::C, 0x80);
    CheckRegisterByte(RegisterType::D, 0x42);
    CheckRegisterByte(RegisterType::E, 0x40);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x5D);
    CheckRegisterByte(RegisterType::L, 0x3A);
    WriteRegisterWord(RegisterType::PC, 0x2351);
    WriteRegisterWord(RegisterType::SP, 0x5226);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2351, 0x12);
    CheckMemory(0x4240, 0xF8);
}

void test_12_01EF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC446);
    WriteRegisterWord(RegisterType::SP, 0x0BD5);
    WriteRegisterByte(RegisterType::A, 0xB7);
    WriteRegisterByte(RegisterType::B, 0x02);
    WriteRegisterByte(RegisterType::C, 0x41);
    WriteRegisterByte(RegisterType::D, 0x24);
    WriteRegisterByte(RegisterType::E, 0xC0);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x64);
    WriteRegisterByte(RegisterType::L, 0x1A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x24C0, 0x00);
    WriteMemory(0xC446, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB7);
    CheckRegisterByte(RegisterType::B, 0x02);
    CheckRegisterByte(RegisterType::C, 0x41);
    CheckRegisterByte(RegisterType::D, 0x24);
    CheckRegisterByte(RegisterType::E, 0xC0);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x64);
    CheckRegisterByte(RegisterType::L, 0x1A);
    WriteRegisterWord(RegisterType::PC, 0xC446);
    WriteRegisterWord(RegisterType::SP, 0x0BD5);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x24C0, 0xB7);
    CheckMemory(0xC446, 0x12);
}

void test_12_01F0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4934);
    WriteRegisterWord(RegisterType::SP, 0x1D66);
    WriteRegisterByte(RegisterType::A, 0xE9);
    WriteRegisterByte(RegisterType::B, 0x7F);
    WriteRegisterByte(RegisterType::C, 0x37);
    WriteRegisterByte(RegisterType::D, 0x18);
    WriteRegisterByte(RegisterType::E, 0x08);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xDD);
    WriteRegisterByte(RegisterType::L, 0x45);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1808, 0x00);
    WriteMemory(0x4934, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE9);
    CheckRegisterByte(RegisterType::B, 0x7F);
    CheckRegisterByte(RegisterType::C, 0x37);
    CheckRegisterByte(RegisterType::D, 0x18);
    CheckRegisterByte(RegisterType::E, 0x08);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xDD);
    CheckRegisterByte(RegisterType::L, 0x45);
    WriteRegisterWord(RegisterType::PC, 0x4934);
    WriteRegisterWord(RegisterType::SP, 0x1D66);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1808, 0xE9);
    CheckMemory(0x4934, 0x12);
}

void test_12_01F1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3D65);
    WriteRegisterWord(RegisterType::SP, 0xCA8F);
    WriteRegisterByte(RegisterType::A, 0x96);
    WriteRegisterByte(RegisterType::B, 0x16);
    WriteRegisterByte(RegisterType::C, 0x81);
    WriteRegisterByte(RegisterType::D, 0x55);
    WriteRegisterByte(RegisterType::E, 0x90);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xD6);
    WriteRegisterByte(RegisterType::L, 0x7F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3D65, 0x12);
    WriteMemory(0x5590, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x96);
    CheckRegisterByte(RegisterType::B, 0x16);
    CheckRegisterByte(RegisterType::C, 0x81);
    CheckRegisterByte(RegisterType::D, 0x55);
    CheckRegisterByte(RegisterType::E, 0x90);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xD6);
    CheckRegisterByte(RegisterType::L, 0x7F);
    WriteRegisterWord(RegisterType::PC, 0x3D65);
    WriteRegisterWord(RegisterType::SP, 0xCA8F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3D65, 0x12);
    CheckMemory(0x5590, 0x96);
}

void test_12_01F2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4385);
    WriteRegisterWord(RegisterType::SP, 0x7B8D);
    WriteRegisterByte(RegisterType::A, 0x77);
    WriteRegisterByte(RegisterType::B, 0x77);
    WriteRegisterByte(RegisterType::C, 0x4D);
    WriteRegisterByte(RegisterType::D, 0xFD);
    WriteRegisterByte(RegisterType::E, 0x3E);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xEB);
    WriteRegisterByte(RegisterType::L, 0xF5);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4385, 0x12);
    WriteMemory(0xFD3E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x77);
    CheckRegisterByte(RegisterType::B, 0x77);
    CheckRegisterByte(RegisterType::C, 0x4D);
    CheckRegisterByte(RegisterType::D, 0xFD);
    CheckRegisterByte(RegisterType::E, 0x3E);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xEB);
    CheckRegisterByte(RegisterType::L, 0xF5);
    WriteRegisterWord(RegisterType::PC, 0x4385);
    WriteRegisterWord(RegisterType::SP, 0x7B8D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4385, 0x12);
    CheckMemory(0xFD3E, 0x77);
}

void test_12_01F3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4E1B);
    WriteRegisterWord(RegisterType::SP, 0x608A);
    WriteRegisterByte(RegisterType::A, 0xE1);
    WriteRegisterByte(RegisterType::B, 0x50);
    WriteRegisterByte(RegisterType::C, 0xA6);
    WriteRegisterByte(RegisterType::D, 0x3E);
    WriteRegisterByte(RegisterType::E, 0x19);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xA2);
    WriteRegisterByte(RegisterType::L, 0x43);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3E19, 0x00);
    WriteMemory(0x4E1B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE1);
    CheckRegisterByte(RegisterType::B, 0x50);
    CheckRegisterByte(RegisterType::C, 0xA6);
    CheckRegisterByte(RegisterType::D, 0x3E);
    CheckRegisterByte(RegisterType::E, 0x19);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xA2);
    CheckRegisterByte(RegisterType::L, 0x43);
    WriteRegisterWord(RegisterType::PC, 0x4E1B);
    WriteRegisterWord(RegisterType::SP, 0x608A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3E19, 0xE1);
    CheckMemory(0x4E1B, 0x12);
}

void test_12_01F4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9EE9);
    WriteRegisterWord(RegisterType::SP, 0xF5EF);
    WriteRegisterByte(RegisterType::A, 0x32);
    WriteRegisterByte(RegisterType::B, 0x7F);
    WriteRegisterByte(RegisterType::C, 0x9C);
    WriteRegisterByte(RegisterType::D, 0xA7);
    WriteRegisterByte(RegisterType::E, 0x0D);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xDC);
    WriteRegisterByte(RegisterType::L, 0x61);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9EE9, 0x12);
    WriteMemory(0xA70D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x32);
    CheckRegisterByte(RegisterType::B, 0x7F);
    CheckRegisterByte(RegisterType::C, 0x9C);
    CheckRegisterByte(RegisterType::D, 0xA7);
    CheckRegisterByte(RegisterType::E, 0x0D);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xDC);
    CheckRegisterByte(RegisterType::L, 0x61);
    WriteRegisterWord(RegisterType::PC, 0x9EE9);
    WriteRegisterWord(RegisterType::SP, 0xF5EF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9EE9, 0x12);
    CheckMemory(0xA70D, 0x32);
}

void test_12_01F5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE9B6);
    WriteRegisterWord(RegisterType::SP, 0xDD40);
    WriteRegisterByte(RegisterType::A, 0xF7);
    WriteRegisterByte(RegisterType::B, 0x5F);
    WriteRegisterByte(RegisterType::C, 0x80);
    WriteRegisterByte(RegisterType::D, 0x53);
    WriteRegisterByte(RegisterType::E, 0xC1);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xC5);
    WriteRegisterByte(RegisterType::L, 0xA7);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x53C1, 0x00);
    WriteMemory(0xE9B6, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF7);
    CheckRegisterByte(RegisterType::B, 0x5F);
    CheckRegisterByte(RegisterType::C, 0x80);
    CheckRegisterByte(RegisterType::D, 0x53);
    CheckRegisterByte(RegisterType::E, 0xC1);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xC5);
    CheckRegisterByte(RegisterType::L, 0xA7);
    WriteRegisterWord(RegisterType::PC, 0xE9B6);
    WriteRegisterWord(RegisterType::SP, 0xDD40);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x53C1, 0xF7);
    CheckMemory(0xE9B6, 0x12);
}

void test_12_01F6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9300);
    WriteRegisterWord(RegisterType::SP, 0x4CE1);
    WriteRegisterByte(RegisterType::A, 0x44);
    WriteRegisterByte(RegisterType::B, 0xA9);
    WriteRegisterByte(RegisterType::C, 0xCB);
    WriteRegisterByte(RegisterType::D, 0x85);
    WriteRegisterByte(RegisterType::E, 0xF5);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x5C);
    WriteRegisterByte(RegisterType::L, 0xCF);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x85F5, 0x00);
    WriteMemory(0x9300, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x44);
    CheckRegisterByte(RegisterType::B, 0xA9);
    CheckRegisterByte(RegisterType::C, 0xCB);
    CheckRegisterByte(RegisterType::D, 0x85);
    CheckRegisterByte(RegisterType::E, 0xF5);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x5C);
    CheckRegisterByte(RegisterType::L, 0xCF);
    WriteRegisterWord(RegisterType::PC, 0x9300);
    WriteRegisterWord(RegisterType::SP, 0x4CE1);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x85F5, 0x44);
    CheckMemory(0x9300, 0x12);
}

void test_12_01F7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4E5C);
    WriteRegisterWord(RegisterType::SP, 0x28DA);
    WriteRegisterByte(RegisterType::A, 0xD7);
    WriteRegisterByte(RegisterType::B, 0x65);
    WriteRegisterByte(RegisterType::C, 0xE3);
    WriteRegisterByte(RegisterType::D, 0xC3);
    WriteRegisterByte(RegisterType::E, 0xA8);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xF4);
    WriteRegisterByte(RegisterType::L, 0x12);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4E5C, 0x12);
    WriteMemory(0xC3A8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD7);
    CheckRegisterByte(RegisterType::B, 0x65);
    CheckRegisterByte(RegisterType::C, 0xE3);
    CheckRegisterByte(RegisterType::D, 0xC3);
    CheckRegisterByte(RegisterType::E, 0xA8);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xF4);
    CheckRegisterByte(RegisterType::L, 0x12);
    WriteRegisterWord(RegisterType::PC, 0x4E5C);
    WriteRegisterWord(RegisterType::SP, 0x28DA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4E5C, 0x12);
    CheckMemory(0xC3A8, 0xD7);
}

void test_12_01F8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA852);
    WriteRegisterWord(RegisterType::SP, 0x6984);
    WriteRegisterByte(RegisterType::A, 0x73);
    WriteRegisterByte(RegisterType::B, 0x97);
    WriteRegisterByte(RegisterType::C, 0x87);
    WriteRegisterByte(RegisterType::D, 0x5D);
    WriteRegisterByte(RegisterType::E, 0xEF);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x9B);
    WriteRegisterByte(RegisterType::L, 0x53);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5DEF, 0x00);
    WriteMemory(0xA852, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x73);
    CheckRegisterByte(RegisterType::B, 0x97);
    CheckRegisterByte(RegisterType::C, 0x87);
    CheckRegisterByte(RegisterType::D, 0x5D);
    CheckRegisterByte(RegisterType::E, 0xEF);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x9B);
    CheckRegisterByte(RegisterType::L, 0x53);
    WriteRegisterWord(RegisterType::PC, 0xA852);
    WriteRegisterWord(RegisterType::SP, 0x6984);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5DEF, 0x73);
    CheckMemory(0xA852, 0x12);
}

void test_12_01F9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3914);
    WriteRegisterWord(RegisterType::SP, 0xD8AD);
    WriteRegisterByte(RegisterType::A, 0xC3);
    WriteRegisterByte(RegisterType::B, 0xB3);
    WriteRegisterByte(RegisterType::C, 0x36);
    WriteRegisterByte(RegisterType::D, 0xBD);
    WriteRegisterByte(RegisterType::E, 0x15);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x66);
    WriteRegisterByte(RegisterType::L, 0x26);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3914, 0x12);
    WriteMemory(0xBD15, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC3);
    CheckRegisterByte(RegisterType::B, 0xB3);
    CheckRegisterByte(RegisterType::C, 0x36);
    CheckRegisterByte(RegisterType::D, 0xBD);
    CheckRegisterByte(RegisterType::E, 0x15);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x66);
    CheckRegisterByte(RegisterType::L, 0x26);
    WriteRegisterWord(RegisterType::PC, 0x3914);
    WriteRegisterWord(RegisterType::SP, 0xD8AD);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3914, 0x12);
    CheckMemory(0xBD15, 0xC3);
}

void test_12_01FA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCF7B);
    WriteRegisterWord(RegisterType::SP, 0x6CC4);
    WriteRegisterByte(RegisterType::A, 0x10);
    WriteRegisterByte(RegisterType::B, 0xE5);
    WriteRegisterByte(RegisterType::C, 0x06);
    WriteRegisterByte(RegisterType::D, 0xE9);
    WriteRegisterByte(RegisterType::E, 0x33);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xD2);
    WriteRegisterByte(RegisterType::L, 0xBC);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xCF7B, 0x12);
    WriteMemory(0xE933, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x10);
    CheckRegisterByte(RegisterType::B, 0xE5);
    CheckRegisterByte(RegisterType::C, 0x06);
    CheckRegisterByte(RegisterType::D, 0xE9);
    CheckRegisterByte(RegisterType::E, 0x33);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xD2);
    CheckRegisterByte(RegisterType::L, 0xBC);
    WriteRegisterWord(RegisterType::PC, 0xCF7B);
    WriteRegisterWord(RegisterType::SP, 0x6CC4);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xCF7B, 0x12);
    CheckMemory(0xE933, 0x10);
}

void test_12_01FB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9542);
    WriteRegisterWord(RegisterType::SP, 0x6F32);
    WriteRegisterByte(RegisterType::A, 0x2E);
    WriteRegisterByte(RegisterType::B, 0xF7);
    WriteRegisterByte(RegisterType::C, 0x72);
    WriteRegisterByte(RegisterType::D, 0xCD);
    WriteRegisterByte(RegisterType::E, 0x4C);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x31);
    WriteRegisterByte(RegisterType::L, 0x34);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9542, 0x12);
    WriteMemory(0xCD4C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2E);
    CheckRegisterByte(RegisterType::B, 0xF7);
    CheckRegisterByte(RegisterType::C, 0x72);
    CheckRegisterByte(RegisterType::D, 0xCD);
    CheckRegisterByte(RegisterType::E, 0x4C);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x31);
    CheckRegisterByte(RegisterType::L, 0x34);
    WriteRegisterWord(RegisterType::PC, 0x9542);
    WriteRegisterWord(RegisterType::SP, 0x6F32);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9542, 0x12);
    CheckMemory(0xCD4C, 0x2E);
}

void test_12_01FC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x059A);
    WriteRegisterWord(RegisterType::SP, 0x59C9);
    WriteRegisterByte(RegisterType::A, 0x9D);
    WriteRegisterByte(RegisterType::B, 0xC5);
    WriteRegisterByte(RegisterType::C, 0xC5);
    WriteRegisterByte(RegisterType::D, 0x40);
    WriteRegisterByte(RegisterType::E, 0xCB);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x10);
    WriteRegisterByte(RegisterType::L, 0xE3);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x059A, 0x12);
    WriteMemory(0x40CB, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9D);
    CheckRegisterByte(RegisterType::B, 0xC5);
    CheckRegisterByte(RegisterType::C, 0xC5);
    CheckRegisterByte(RegisterType::D, 0x40);
    CheckRegisterByte(RegisterType::E, 0xCB);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x10);
    CheckRegisterByte(RegisterType::L, 0xE3);
    WriteRegisterWord(RegisterType::PC, 0x059A);
    WriteRegisterWord(RegisterType::SP, 0x59C9);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x059A, 0x12);
    CheckMemory(0x40CB, 0x9D);
}

void test_12_01FD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2942);
    WriteRegisterWord(RegisterType::SP, 0x713A);
    WriteRegisterByte(RegisterType::A, 0x42);
    WriteRegisterByte(RegisterType::B, 0x23);
    WriteRegisterByte(RegisterType::C, 0x64);
    WriteRegisterByte(RegisterType::D, 0xA2);
    WriteRegisterByte(RegisterType::E, 0x12);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xED);
    WriteRegisterByte(RegisterType::L, 0x03);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2942, 0x12);
    WriteMemory(0xA212, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x42);
    CheckRegisterByte(RegisterType::B, 0x23);
    CheckRegisterByte(RegisterType::C, 0x64);
    CheckRegisterByte(RegisterType::D, 0xA2);
    CheckRegisterByte(RegisterType::E, 0x12);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xED);
    CheckRegisterByte(RegisterType::L, 0x03);
    WriteRegisterWord(RegisterType::PC, 0x2942);
    WriteRegisterWord(RegisterType::SP, 0x713A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2942, 0x12);
    CheckMemory(0xA212, 0x42);
}

void test_12_01FE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3C46);
    WriteRegisterWord(RegisterType::SP, 0x90B7);
    WriteRegisterByte(RegisterType::A, 0xA9);
    WriteRegisterByte(RegisterType::B, 0x4F);
    WriteRegisterByte(RegisterType::C, 0xD5);
    WriteRegisterByte(RegisterType::D, 0x09);
    WriteRegisterByte(RegisterType::E, 0xD1);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xC8);
    WriteRegisterByte(RegisterType::L, 0x1A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x09D1, 0x00);
    WriteMemory(0x3C46, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA9);
    CheckRegisterByte(RegisterType::B, 0x4F);
    CheckRegisterByte(RegisterType::C, 0xD5);
    CheckRegisterByte(RegisterType::D, 0x09);
    CheckRegisterByte(RegisterType::E, 0xD1);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xC8);
    CheckRegisterByte(RegisterType::L, 0x1A);
    WriteRegisterWord(RegisterType::PC, 0x3C46);
    WriteRegisterWord(RegisterType::SP, 0x90B7);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x09D1, 0xA9);
    CheckMemory(0x3C46, 0x12);
}

void test_12_01FF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA159);
    WriteRegisterWord(RegisterType::SP, 0x7769);
    WriteRegisterByte(RegisterType::A, 0xA9);
    WriteRegisterByte(RegisterType::B, 0x5F);
    WriteRegisterByte(RegisterType::C, 0xFF);
    WriteRegisterByte(RegisterType::D, 0xE1);
    WriteRegisterByte(RegisterType::E, 0x14);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xAF);
    WriteRegisterByte(RegisterType::L, 0x0C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xA159, 0x12);
    WriteMemory(0xE114, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA9);
    CheckRegisterByte(RegisterType::B, 0x5F);
    CheckRegisterByte(RegisterType::C, 0xFF);
    CheckRegisterByte(RegisterType::D, 0xE1);
    CheckRegisterByte(RegisterType::E, 0x14);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xAF);
    CheckRegisterByte(RegisterType::L, 0x0C);
    WriteRegisterWord(RegisterType::PC, 0xA159);
    WriteRegisterWord(RegisterType::SP, 0x7769);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xA159, 0x12);
    CheckMemory(0xE114, 0xA9);
}

void test_12_0200()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEFF6);
    WriteRegisterWord(RegisterType::SP, 0x774D);
    WriteRegisterByte(RegisterType::A, 0xAD);
    WriteRegisterByte(RegisterType::B, 0x09);
    WriteRegisterByte(RegisterType::C, 0x81);
    WriteRegisterByte(RegisterType::D, 0x37);
    WriteRegisterByte(RegisterType::E, 0xCF);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xB4);
    WriteRegisterByte(RegisterType::L, 0xF9);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x37CF, 0x00);
    WriteMemory(0xEFF6, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAD);
    CheckRegisterByte(RegisterType::B, 0x09);
    CheckRegisterByte(RegisterType::C, 0x81);
    CheckRegisterByte(RegisterType::D, 0x37);
    CheckRegisterByte(RegisterType::E, 0xCF);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xB4);
    CheckRegisterByte(RegisterType::L, 0xF9);
    WriteRegisterWord(RegisterType::PC, 0xEFF6);
    WriteRegisterWord(RegisterType::SP, 0x774D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x37CF, 0xAD);
    CheckMemory(0xEFF6, 0x12);
}

void test_12_0201()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7127);
    WriteRegisterWord(RegisterType::SP, 0xB22E);
    WriteRegisterByte(RegisterType::A, 0xFA);
    WriteRegisterByte(RegisterType::B, 0xC5);
    WriteRegisterByte(RegisterType::C, 0xE7);
    WriteRegisterByte(RegisterType::D, 0x02);
    WriteRegisterByte(RegisterType::E, 0x55);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x8D);
    WriteRegisterByte(RegisterType::L, 0x22);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0255, 0x00);
    WriteMemory(0x7127, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFA);
    CheckRegisterByte(RegisterType::B, 0xC5);
    CheckRegisterByte(RegisterType::C, 0xE7);
    CheckRegisterByte(RegisterType::D, 0x02);
    CheckRegisterByte(RegisterType::E, 0x55);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x8D);
    CheckRegisterByte(RegisterType::L, 0x22);
    WriteRegisterWord(RegisterType::PC, 0x7127);
    WriteRegisterWord(RegisterType::SP, 0xB22E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0255, 0xFA);
    CheckMemory(0x7127, 0x12);
}

void test_12_0202()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x365E);
    WriteRegisterWord(RegisterType::SP, 0x1B98);
    WriteRegisterByte(RegisterType::A, 0x36);
    WriteRegisterByte(RegisterType::B, 0xD2);
    WriteRegisterByte(RegisterType::C, 0xBD);
    WriteRegisterByte(RegisterType::D, 0x0D);
    WriteRegisterByte(RegisterType::E, 0x99);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xDF);
    WriteRegisterByte(RegisterType::L, 0x09);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0D99, 0x00);
    WriteMemory(0x365E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x36);
    CheckRegisterByte(RegisterType::B, 0xD2);
    CheckRegisterByte(RegisterType::C, 0xBD);
    CheckRegisterByte(RegisterType::D, 0x0D);
    CheckRegisterByte(RegisterType::E, 0x99);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xDF);
    CheckRegisterByte(RegisterType::L, 0x09);
    WriteRegisterWord(RegisterType::PC, 0x365E);
    WriteRegisterWord(RegisterType::SP, 0x1B98);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0D99, 0x36);
    CheckMemory(0x365E, 0x12);
}

void test_12_0203()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFDFB);
    WriteRegisterWord(RegisterType::SP, 0x91AC);
    WriteRegisterByte(RegisterType::A, 0x45);
    WriteRegisterByte(RegisterType::B, 0x2E);
    WriteRegisterByte(RegisterType::C, 0x30);
    WriteRegisterByte(RegisterType::D, 0xA3);
    WriteRegisterByte(RegisterType::E, 0xFD);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x81);
    WriteRegisterByte(RegisterType::L, 0x13);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xA3FD, 0x00);
    WriteMemory(0xFDFB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x45);
    CheckRegisterByte(RegisterType::B, 0x2E);
    CheckRegisterByte(RegisterType::C, 0x30);
    CheckRegisterByte(RegisterType::D, 0xA3);
    CheckRegisterByte(RegisterType::E, 0xFD);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x81);
    CheckRegisterByte(RegisterType::L, 0x13);
    WriteRegisterWord(RegisterType::PC, 0xFDFB);
    WriteRegisterWord(RegisterType::SP, 0x91AC);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xA3FD, 0x45);
    CheckMemory(0xFDFB, 0x12);
}

void test_12_0204()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x53A9);
    WriteRegisterWord(RegisterType::SP, 0x03ED);
    WriteRegisterByte(RegisterType::A, 0xA6);
    WriteRegisterByte(RegisterType::B, 0xAF);
    WriteRegisterByte(RegisterType::C, 0x1C);
    WriteRegisterByte(RegisterType::D, 0xB3);
    WriteRegisterByte(RegisterType::E, 0xC2);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x1F);
    WriteRegisterByte(RegisterType::L, 0xA3);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x53A9, 0x12);
    WriteMemory(0xB3C2, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA6);
    CheckRegisterByte(RegisterType::B, 0xAF);
    CheckRegisterByte(RegisterType::C, 0x1C);
    CheckRegisterByte(RegisterType::D, 0xB3);
    CheckRegisterByte(RegisterType::E, 0xC2);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x1F);
    CheckRegisterByte(RegisterType::L, 0xA3);
    WriteRegisterWord(RegisterType::PC, 0x53A9);
    WriteRegisterWord(RegisterType::SP, 0x03ED);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x53A9, 0x12);
    CheckMemory(0xB3C2, 0xA6);
}

void test_12_0205()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8D95);
    WriteRegisterWord(RegisterType::SP, 0xB7B4);
    WriteRegisterByte(RegisterType::A, 0x5B);
    WriteRegisterByte(RegisterType::B, 0x37);
    WriteRegisterByte(RegisterType::C, 0x25);
    WriteRegisterByte(RegisterType::D, 0xC3);
    WriteRegisterByte(RegisterType::E, 0xB1);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xDA);
    WriteRegisterByte(RegisterType::L, 0x91);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x8D95, 0x12);
    WriteMemory(0xC3B1, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5B);
    CheckRegisterByte(RegisterType::B, 0x37);
    CheckRegisterByte(RegisterType::C, 0x25);
    CheckRegisterByte(RegisterType::D, 0xC3);
    CheckRegisterByte(RegisterType::E, 0xB1);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xDA);
    CheckRegisterByte(RegisterType::L, 0x91);
    WriteRegisterWord(RegisterType::PC, 0x8D95);
    WriteRegisterWord(RegisterType::SP, 0xB7B4);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x8D95, 0x12);
    CheckMemory(0xC3B1, 0x5B);
}

void test_12_0206()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC281);
    WriteRegisterWord(RegisterType::SP, 0xBD2C);
    WriteRegisterByte(RegisterType::A, 0x4F);
    WriteRegisterByte(RegisterType::B, 0x97);
    WriteRegisterByte(RegisterType::C, 0xDC);
    WriteRegisterByte(RegisterType::D, 0x70);
    WriteRegisterByte(RegisterType::E, 0x01);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xB2);
    WriteRegisterByte(RegisterType::L, 0x5C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7001, 0x00);
    WriteMemory(0xC281, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4F);
    CheckRegisterByte(RegisterType::B, 0x97);
    CheckRegisterByte(RegisterType::C, 0xDC);
    CheckRegisterByte(RegisterType::D, 0x70);
    CheckRegisterByte(RegisterType::E, 0x01);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xB2);
    CheckRegisterByte(RegisterType::L, 0x5C);
    WriteRegisterWord(RegisterType::PC, 0xC281);
    WriteRegisterWord(RegisterType::SP, 0xBD2C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7001, 0x4F);
    CheckMemory(0xC281, 0x12);
}

void test_12_0207()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5F79);
    WriteRegisterWord(RegisterType::SP, 0x0F6B);
    WriteRegisterByte(RegisterType::A, 0xCB);
    WriteRegisterByte(RegisterType::B, 0x30);
    WriteRegisterByte(RegisterType::C, 0xB3);
    WriteRegisterByte(RegisterType::D, 0x25);
    WriteRegisterByte(RegisterType::E, 0x22);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xAD);
    WriteRegisterByte(RegisterType::L, 0xE6);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2522, 0x00);
    WriteMemory(0x5F79, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCB);
    CheckRegisterByte(RegisterType::B, 0x30);
    CheckRegisterByte(RegisterType::C, 0xB3);
    CheckRegisterByte(RegisterType::D, 0x25);
    CheckRegisterByte(RegisterType::E, 0x22);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xAD);
    CheckRegisterByte(RegisterType::L, 0xE6);
    WriteRegisterWord(RegisterType::PC, 0x5F79);
    WriteRegisterWord(RegisterType::SP, 0x0F6B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2522, 0xCB);
    CheckMemory(0x5F79, 0x12);
}

void test_12_0208()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB9EA);
    WriteRegisterWord(RegisterType::SP, 0xF179);
    WriteRegisterByte(RegisterType::A, 0xE9);
    WriteRegisterByte(RegisterType::B, 0x2E);
    WriteRegisterByte(RegisterType::C, 0x26);
    WriteRegisterByte(RegisterType::D, 0xDF);
    WriteRegisterByte(RegisterType::E, 0x00);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x64);
    WriteRegisterByte(RegisterType::L, 0x3D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xB9EA, 0x12);
    WriteMemory(0xDF00, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE9);
    CheckRegisterByte(RegisterType::B, 0x2E);
    CheckRegisterByte(RegisterType::C, 0x26);
    CheckRegisterByte(RegisterType::D, 0xDF);
    CheckRegisterByte(RegisterType::E, 0x00);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x64);
    CheckRegisterByte(RegisterType::L, 0x3D);
    WriteRegisterWord(RegisterType::PC, 0xB9EA);
    WriteRegisterWord(RegisterType::SP, 0xF179);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xB9EA, 0x12);
    CheckMemory(0xDF00, 0xE9);
}

void test_12_0209()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3F80);
    WriteRegisterWord(RegisterType::SP, 0x7970);
    WriteRegisterByte(RegisterType::A, 0xF9);
    WriteRegisterByte(RegisterType::B, 0x11);
    WriteRegisterByte(RegisterType::C, 0xB5);
    WriteRegisterByte(RegisterType::D, 0x10);
    WriteRegisterByte(RegisterType::E, 0xF8);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xBF);
    WriteRegisterByte(RegisterType::L, 0x7E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x10F8, 0x00);
    WriteMemory(0x3F80, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF9);
    CheckRegisterByte(RegisterType::B, 0x11);
    CheckRegisterByte(RegisterType::C, 0xB5);
    CheckRegisterByte(RegisterType::D, 0x10);
    CheckRegisterByte(RegisterType::E, 0xF8);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xBF);
    CheckRegisterByte(RegisterType::L, 0x7E);
    WriteRegisterWord(RegisterType::PC, 0x3F80);
    WriteRegisterWord(RegisterType::SP, 0x7970);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x10F8, 0xF9);
    CheckMemory(0x3F80, 0x12);
}

void test_12_020A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDAF8);
    WriteRegisterWord(RegisterType::SP, 0xC4EB);
    WriteRegisterByte(RegisterType::A, 0xFE);
    WriteRegisterByte(RegisterType::B, 0x12);
    WriteRegisterByte(RegisterType::C, 0x61);
    WriteRegisterByte(RegisterType::D, 0x73);
    WriteRegisterByte(RegisterType::E, 0xB3);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xBB);
    WriteRegisterByte(RegisterType::L, 0x66);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x73B3, 0x00);
    WriteMemory(0xDAF8, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFE);
    CheckRegisterByte(RegisterType::B, 0x12);
    CheckRegisterByte(RegisterType::C, 0x61);
    CheckRegisterByte(RegisterType::D, 0x73);
    CheckRegisterByte(RegisterType::E, 0xB3);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xBB);
    CheckRegisterByte(RegisterType::L, 0x66);
    WriteRegisterWord(RegisterType::PC, 0xDAF8);
    WriteRegisterWord(RegisterType::SP, 0xC4EB);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x73B3, 0xFE);
    CheckMemory(0xDAF8, 0x12);
}

void test_12_020B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB51F);
    WriteRegisterWord(RegisterType::SP, 0xFC57);
    WriteRegisterByte(RegisterType::A, 0x12);
    WriteRegisterByte(RegisterType::B, 0x5C);
    WriteRegisterByte(RegisterType::C, 0x79);
    WriteRegisterByte(RegisterType::D, 0x26);
    WriteRegisterByte(RegisterType::E, 0x00);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xDC);
    WriteRegisterByte(RegisterType::L, 0x4F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2600, 0x00);
    WriteMemory(0xB51F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x12);
    CheckRegisterByte(RegisterType::B, 0x5C);
    CheckRegisterByte(RegisterType::C, 0x79);
    CheckRegisterByte(RegisterType::D, 0x26);
    CheckRegisterByte(RegisterType::E, 0x00);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xDC);
    CheckRegisterByte(RegisterType::L, 0x4F);
    WriteRegisterWord(RegisterType::PC, 0xB51F);
    WriteRegisterWord(RegisterType::SP, 0xFC57);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2600, 0x12);
    CheckMemory(0xB51F, 0x12);
}

void test_12_020C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x84A1);
    WriteRegisterWord(RegisterType::SP, 0x39E4);
    WriteRegisterByte(RegisterType::A, 0x2D);
    WriteRegisterByte(RegisterType::B, 0x43);
    WriteRegisterByte(RegisterType::C, 0x0E);
    WriteRegisterByte(RegisterType::D, 0xB7);
    WriteRegisterByte(RegisterType::E, 0x75);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x5D);
    WriteRegisterByte(RegisterType::L, 0x79);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x84A1, 0x12);
    WriteMemory(0xB775, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2D);
    CheckRegisterByte(RegisterType::B, 0x43);
    CheckRegisterByte(RegisterType::C, 0x0E);
    CheckRegisterByte(RegisterType::D, 0xB7);
    CheckRegisterByte(RegisterType::E, 0x75);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x5D);
    CheckRegisterByte(RegisterType::L, 0x79);
    WriteRegisterWord(RegisterType::PC, 0x84A1);
    WriteRegisterWord(RegisterType::SP, 0x39E4);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x84A1, 0x12);
    CheckMemory(0xB775, 0x2D);
}

void test_12_020D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x20E1);
    WriteRegisterWord(RegisterType::SP, 0x2442);
    WriteRegisterByte(RegisterType::A, 0x0E);
    WriteRegisterByte(RegisterType::B, 0x0B);
    WriteRegisterByte(RegisterType::C, 0x36);
    WriteRegisterByte(RegisterType::D, 0x4D);
    WriteRegisterByte(RegisterType::E, 0x4D);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xE2);
    WriteRegisterByte(RegisterType::L, 0x13);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x20E1, 0x12);
    WriteMemory(0x4D4D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0E);
    CheckRegisterByte(RegisterType::B, 0x0B);
    CheckRegisterByte(RegisterType::C, 0x36);
    CheckRegisterByte(RegisterType::D, 0x4D);
    CheckRegisterByte(RegisterType::E, 0x4D);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xE2);
    CheckRegisterByte(RegisterType::L, 0x13);
    WriteRegisterWord(RegisterType::PC, 0x20E1);
    WriteRegisterWord(RegisterType::SP, 0x2442);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x20E1, 0x12);
    CheckMemory(0x4D4D, 0x0E);
}

void test_12_020E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7DB0);
    WriteRegisterWord(RegisterType::SP, 0xDD20);
    WriteRegisterByte(RegisterType::A, 0x6A);
    WriteRegisterByte(RegisterType::B, 0xFC);
    WriteRegisterByte(RegisterType::C, 0xF0);
    WriteRegisterByte(RegisterType::D, 0xD3);
    WriteRegisterByte(RegisterType::E, 0xE6);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xDC);
    WriteRegisterByte(RegisterType::L, 0x80);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7DB0, 0x12);
    WriteMemory(0xD3E6, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6A);
    CheckRegisterByte(RegisterType::B, 0xFC);
    CheckRegisterByte(RegisterType::C, 0xF0);
    CheckRegisterByte(RegisterType::D, 0xD3);
    CheckRegisterByte(RegisterType::E, 0xE6);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xDC);
    CheckRegisterByte(RegisterType::L, 0x80);
    WriteRegisterWord(RegisterType::PC, 0x7DB0);
    WriteRegisterWord(RegisterType::SP, 0xDD20);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7DB0, 0x12);
    CheckMemory(0xD3E6, 0x6A);
}

void test_12_020F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDB3F);
    WriteRegisterWord(RegisterType::SP, 0x035F);
    WriteRegisterByte(RegisterType::A, 0x89);
    WriteRegisterByte(RegisterType::B, 0x06);
    WriteRegisterByte(RegisterType::C, 0xCF);
    WriteRegisterByte(RegisterType::D, 0x01);
    WriteRegisterByte(RegisterType::E, 0x94);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xD0);
    WriteRegisterByte(RegisterType::L, 0xE2);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0194, 0x00);
    WriteMemory(0xDB3F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x89);
    CheckRegisterByte(RegisterType::B, 0x06);
    CheckRegisterByte(RegisterType::C, 0xCF);
    CheckRegisterByte(RegisterType::D, 0x01);
    CheckRegisterByte(RegisterType::E, 0x94);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xD0);
    CheckRegisterByte(RegisterType::L, 0xE2);
    WriteRegisterWord(RegisterType::PC, 0xDB3F);
    WriteRegisterWord(RegisterType::SP, 0x035F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0194, 0x89);
    CheckMemory(0xDB3F, 0x12);
}

void test_12_0210()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x94E7);
    WriteRegisterWord(RegisterType::SP, 0x310C);
    WriteRegisterByte(RegisterType::A, 0x7F);
    WriteRegisterByte(RegisterType::B, 0x0F);
    WriteRegisterByte(RegisterType::C, 0x2C);
    WriteRegisterByte(RegisterType::D, 0x8A);
    WriteRegisterByte(RegisterType::E, 0x7D);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x01);
    WriteRegisterByte(RegisterType::L, 0x76);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x8A7D, 0x00);
    WriteMemory(0x94E7, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7F);
    CheckRegisterByte(RegisterType::B, 0x0F);
    CheckRegisterByte(RegisterType::C, 0x2C);
    CheckRegisterByte(RegisterType::D, 0x8A);
    CheckRegisterByte(RegisterType::E, 0x7D);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x01);
    CheckRegisterByte(RegisterType::L, 0x76);
    WriteRegisterWord(RegisterType::PC, 0x94E7);
    WriteRegisterWord(RegisterType::SP, 0x310C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x8A7D, 0x7F);
    CheckMemory(0x94E7, 0x12);
}

void test_12_0211()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1904);
    WriteRegisterWord(RegisterType::SP, 0xB8E1);
    WriteRegisterByte(RegisterType::A, 0xD5);
    WriteRegisterByte(RegisterType::B, 0x54);
    WriteRegisterByte(RegisterType::C, 0x58);
    WriteRegisterByte(RegisterType::D, 0x89);
    WriteRegisterByte(RegisterType::E, 0xFA);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xBD);
    WriteRegisterByte(RegisterType::L, 0xFC);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1904, 0x12);
    WriteMemory(0x89FA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD5);
    CheckRegisterByte(RegisterType::B, 0x54);
    CheckRegisterByte(RegisterType::C, 0x58);
    CheckRegisterByte(RegisterType::D, 0x89);
    CheckRegisterByte(RegisterType::E, 0xFA);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xBD);
    CheckRegisterByte(RegisterType::L, 0xFC);
    WriteRegisterWord(RegisterType::PC, 0x1904);
    WriteRegisterWord(RegisterType::SP, 0xB8E1);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1904, 0x12);
    CheckMemory(0x89FA, 0xD5);
}

void test_12_0212()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x506D);
    WriteRegisterWord(RegisterType::SP, 0x5EAB);
    WriteRegisterByte(RegisterType::A, 0xAD);
    WriteRegisterByte(RegisterType::B, 0x25);
    WriteRegisterByte(RegisterType::C, 0xD1);
    WriteRegisterByte(RegisterType::D, 0x2A);
    WriteRegisterByte(RegisterType::E, 0x98);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x0C);
    WriteRegisterByte(RegisterType::L, 0x08);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2A98, 0x00);
    WriteMemory(0x506D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAD);
    CheckRegisterByte(RegisterType::B, 0x25);
    CheckRegisterByte(RegisterType::C, 0xD1);
    CheckRegisterByte(RegisterType::D, 0x2A);
    CheckRegisterByte(RegisterType::E, 0x98);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x0C);
    CheckRegisterByte(RegisterType::L, 0x08);
    WriteRegisterWord(RegisterType::PC, 0x506D);
    WriteRegisterWord(RegisterType::SP, 0x5EAB);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2A98, 0xAD);
    CheckMemory(0x506D, 0x12);
}

void test_12_0213()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9AC4);
    WriteRegisterWord(RegisterType::SP, 0xB969);
    WriteRegisterByte(RegisterType::A, 0x2D);
    WriteRegisterByte(RegisterType::B, 0xED);
    WriteRegisterByte(RegisterType::C, 0x7F);
    WriteRegisterByte(RegisterType::D, 0xAD);
    WriteRegisterByte(RegisterType::E, 0x1E);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x10);
    WriteRegisterByte(RegisterType::L, 0x8E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9AC4, 0x12);
    WriteMemory(0xAD1E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2D);
    CheckRegisterByte(RegisterType::B, 0xED);
    CheckRegisterByte(RegisterType::C, 0x7F);
    CheckRegisterByte(RegisterType::D, 0xAD);
    CheckRegisterByte(RegisterType::E, 0x1E);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x10);
    CheckRegisterByte(RegisterType::L, 0x8E);
    WriteRegisterWord(RegisterType::PC, 0x9AC4);
    WriteRegisterWord(RegisterType::SP, 0xB969);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9AC4, 0x12);
    CheckMemory(0xAD1E, 0x2D);
}

void test_12_0214()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x49F8);
    WriteRegisterWord(RegisterType::SP, 0xC182);
    WriteRegisterByte(RegisterType::A, 0x7A);
    WriteRegisterByte(RegisterType::B, 0x73);
    WriteRegisterByte(RegisterType::C, 0x1A);
    WriteRegisterByte(RegisterType::D, 0x30);
    WriteRegisterByte(RegisterType::E, 0x3D);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x61);
    WriteRegisterByte(RegisterType::L, 0x51);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x303D, 0x00);
    WriteMemory(0x49F8, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7A);
    CheckRegisterByte(RegisterType::B, 0x73);
    CheckRegisterByte(RegisterType::C, 0x1A);
    CheckRegisterByte(RegisterType::D, 0x30);
    CheckRegisterByte(RegisterType::E, 0x3D);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x61);
    CheckRegisterByte(RegisterType::L, 0x51);
    WriteRegisterWord(RegisterType::PC, 0x49F8);
    WriteRegisterWord(RegisterType::SP, 0xC182);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x303D, 0x7A);
    CheckMemory(0x49F8, 0x12);
}

void test_12_0215()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xED51);
    WriteRegisterWord(RegisterType::SP, 0xBAC8);
    WriteRegisterByte(RegisterType::A, 0x35);
    WriteRegisterByte(RegisterType::B, 0x9D);
    WriteRegisterByte(RegisterType::C, 0x7C);
    WriteRegisterByte(RegisterType::D, 0x9D);
    WriteRegisterByte(RegisterType::E, 0xB6);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x3B);
    WriteRegisterByte(RegisterType::L, 0x79);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9DB6, 0x00);
    WriteMemory(0xED51, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x35);
    CheckRegisterByte(RegisterType::B, 0x9D);
    CheckRegisterByte(RegisterType::C, 0x7C);
    CheckRegisterByte(RegisterType::D, 0x9D);
    CheckRegisterByte(RegisterType::E, 0xB6);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x3B);
    CheckRegisterByte(RegisterType::L, 0x79);
    WriteRegisterWord(RegisterType::PC, 0xED51);
    WriteRegisterWord(RegisterType::SP, 0xBAC8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9DB6, 0x35);
    CheckMemory(0xED51, 0x12);
}

void test_12_0216()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF80E);
    WriteRegisterWord(RegisterType::SP, 0xAFC6);
    WriteRegisterByte(RegisterType::A, 0x40);
    WriteRegisterByte(RegisterType::B, 0x6C);
    WriteRegisterByte(RegisterType::C, 0x06);
    WriteRegisterByte(RegisterType::D, 0x71);
    WriteRegisterByte(RegisterType::E, 0x1B);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x5E);
    WriteRegisterByte(RegisterType::L, 0x90);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x711B, 0x00);
    WriteMemory(0xF80E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x40);
    CheckRegisterByte(RegisterType::B, 0x6C);
    CheckRegisterByte(RegisterType::C, 0x06);
    CheckRegisterByte(RegisterType::D, 0x71);
    CheckRegisterByte(RegisterType::E, 0x1B);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x5E);
    CheckRegisterByte(RegisterType::L, 0x90);
    WriteRegisterWord(RegisterType::PC, 0xF80E);
    WriteRegisterWord(RegisterType::SP, 0xAFC6);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x711B, 0x40);
    CheckMemory(0xF80E, 0x12);
}

void test_12_0217()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCB12);
    WriteRegisterWord(RegisterType::SP, 0x072A);
    WriteRegisterByte(RegisterType::A, 0x80);
    WriteRegisterByte(RegisterType::B, 0x75);
    WriteRegisterByte(RegisterType::C, 0x62);
    WriteRegisterByte(RegisterType::D, 0x9E);
    WriteRegisterByte(RegisterType::E, 0x0D);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xA5);
    WriteRegisterByte(RegisterType::L, 0xA8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9E0D, 0x00);
    WriteMemory(0xCB12, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x80);
    CheckRegisterByte(RegisterType::B, 0x75);
    CheckRegisterByte(RegisterType::C, 0x62);
    CheckRegisterByte(RegisterType::D, 0x9E);
    CheckRegisterByte(RegisterType::E, 0x0D);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xA5);
    CheckRegisterByte(RegisterType::L, 0xA8);
    WriteRegisterWord(RegisterType::PC, 0xCB12);
    WriteRegisterWord(RegisterType::SP, 0x072A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9E0D, 0x80);
    CheckMemory(0xCB12, 0x12);
}

void test_12_0218()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x07DA);
    WriteRegisterWord(RegisterType::SP, 0x9954);
    WriteRegisterByte(RegisterType::A, 0x67);
    WriteRegisterByte(RegisterType::B, 0xCC);
    WriteRegisterByte(RegisterType::C, 0xAE);
    WriteRegisterByte(RegisterType::D, 0x54);
    WriteRegisterByte(RegisterType::E, 0x76);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xA2);
    WriteRegisterByte(RegisterType::L, 0x99);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x07DA, 0x12);
    WriteMemory(0x5476, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x67);
    CheckRegisterByte(RegisterType::B, 0xCC);
    CheckRegisterByte(RegisterType::C, 0xAE);
    CheckRegisterByte(RegisterType::D, 0x54);
    CheckRegisterByte(RegisterType::E, 0x76);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xA2);
    CheckRegisterByte(RegisterType::L, 0x99);
    WriteRegisterWord(RegisterType::PC, 0x07DA);
    WriteRegisterWord(RegisterType::SP, 0x9954);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x07DA, 0x12);
    CheckMemory(0x5476, 0x67);
}

void test_12_0219()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2C02);
    WriteRegisterWord(RegisterType::SP, 0xDB00);
    WriteRegisterByte(RegisterType::A, 0xA6);
    WriteRegisterByte(RegisterType::B, 0x44);
    WriteRegisterByte(RegisterType::C, 0x4C);
    WriteRegisterByte(RegisterType::D, 0x5E);
    WriteRegisterByte(RegisterType::E, 0xC4);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xE9);
    WriteRegisterByte(RegisterType::L, 0xDE);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2C02, 0x12);
    WriteMemory(0x5EC4, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA6);
    CheckRegisterByte(RegisterType::B, 0x44);
    CheckRegisterByte(RegisterType::C, 0x4C);
    CheckRegisterByte(RegisterType::D, 0x5E);
    CheckRegisterByte(RegisterType::E, 0xC4);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xE9);
    CheckRegisterByte(RegisterType::L, 0xDE);
    WriteRegisterWord(RegisterType::PC, 0x2C02);
    WriteRegisterWord(RegisterType::SP, 0xDB00);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2C02, 0x12);
    CheckMemory(0x5EC4, 0xA6);
}

void test_12_021A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB144);
    WriteRegisterWord(RegisterType::SP, 0xF747);
    WriteRegisterByte(RegisterType::A, 0x4B);
    WriteRegisterByte(RegisterType::B, 0xBC);
    WriteRegisterByte(RegisterType::C, 0x54);
    WriteRegisterByte(RegisterType::D, 0x0B);
    WriteRegisterByte(RegisterType::E, 0xEE);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xE7);
    WriteRegisterByte(RegisterType::L, 0x66);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0BEE, 0x00);
    WriteMemory(0xB144, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4B);
    CheckRegisterByte(RegisterType::B, 0xBC);
    CheckRegisterByte(RegisterType::C, 0x54);
    CheckRegisterByte(RegisterType::D, 0x0B);
    CheckRegisterByte(RegisterType::E, 0xEE);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xE7);
    CheckRegisterByte(RegisterType::L, 0x66);
    WriteRegisterWord(RegisterType::PC, 0xB144);
    WriteRegisterWord(RegisterType::SP, 0xF747);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0BEE, 0x4B);
    CheckMemory(0xB144, 0x12);
}

void test_12_021B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2357);
    WriteRegisterWord(RegisterType::SP, 0x9A5C);
    WriteRegisterByte(RegisterType::A, 0xB5);
    WriteRegisterByte(RegisterType::B, 0x59);
    WriteRegisterByte(RegisterType::C, 0xC1);
    WriteRegisterByte(RegisterType::D, 0xB2);
    WriteRegisterByte(RegisterType::E, 0xEC);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x65);
    WriteRegisterByte(RegisterType::L, 0x0D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2357, 0x12);
    WriteMemory(0xB2EC, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB5);
    CheckRegisterByte(RegisterType::B, 0x59);
    CheckRegisterByte(RegisterType::C, 0xC1);
    CheckRegisterByte(RegisterType::D, 0xB2);
    CheckRegisterByte(RegisterType::E, 0xEC);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x65);
    CheckRegisterByte(RegisterType::L, 0x0D);
    WriteRegisterWord(RegisterType::PC, 0x2357);
    WriteRegisterWord(RegisterType::SP, 0x9A5C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2357, 0x12);
    CheckMemory(0xB2EC, 0xB5);
}

void test_12_021C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x87BC);
    WriteRegisterWord(RegisterType::SP, 0xBC58);
    WriteRegisterByte(RegisterType::A, 0x17);
    WriteRegisterByte(RegisterType::B, 0x9F);
    WriteRegisterByte(RegisterType::C, 0xD6);
    WriteRegisterByte(RegisterType::D, 0xBD);
    WriteRegisterByte(RegisterType::E, 0x27);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x7A);
    WriteRegisterByte(RegisterType::L, 0xFD);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x87BC, 0x12);
    WriteMemory(0xBD27, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x17);
    CheckRegisterByte(RegisterType::B, 0x9F);
    CheckRegisterByte(RegisterType::C, 0xD6);
    CheckRegisterByte(RegisterType::D, 0xBD);
    CheckRegisterByte(RegisterType::E, 0x27);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x7A);
    CheckRegisterByte(RegisterType::L, 0xFD);
    WriteRegisterWord(RegisterType::PC, 0x87BC);
    WriteRegisterWord(RegisterType::SP, 0xBC58);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x87BC, 0x12);
    CheckMemory(0xBD27, 0x17);
}

void test_12_021D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5564);
    WriteRegisterWord(RegisterType::SP, 0x138A);
    WriteRegisterByte(RegisterType::A, 0xE5);
    WriteRegisterByte(RegisterType::B, 0x9E);
    WriteRegisterByte(RegisterType::C, 0x04);
    WriteRegisterByte(RegisterType::D, 0xB6);
    WriteRegisterByte(RegisterType::E, 0x76);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x50);
    WriteRegisterByte(RegisterType::L, 0x1A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5564, 0x12);
    WriteMemory(0xB676, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE5);
    CheckRegisterByte(RegisterType::B, 0x9E);
    CheckRegisterByte(RegisterType::C, 0x04);
    CheckRegisterByte(RegisterType::D, 0xB6);
    CheckRegisterByte(RegisterType::E, 0x76);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x50);
    CheckRegisterByte(RegisterType::L, 0x1A);
    WriteRegisterWord(RegisterType::PC, 0x5564);
    WriteRegisterWord(RegisterType::SP, 0x138A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5564, 0x12);
    CheckMemory(0xB676, 0xE5);
}

void test_12_021E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3871);
    WriteRegisterWord(RegisterType::SP, 0x007A);
    WriteRegisterByte(RegisterType::A, 0x9C);
    WriteRegisterByte(RegisterType::B, 0x1C);
    WriteRegisterByte(RegisterType::C, 0x77);
    WriteRegisterByte(RegisterType::D, 0x06);
    WriteRegisterByte(RegisterType::E, 0x0C);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xB7);
    WriteRegisterByte(RegisterType::L, 0xE8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x060C, 0x00);
    WriteMemory(0x3871, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9C);
    CheckRegisterByte(RegisterType::B, 0x1C);
    CheckRegisterByte(RegisterType::C, 0x77);
    CheckRegisterByte(RegisterType::D, 0x06);
    CheckRegisterByte(RegisterType::E, 0x0C);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xB7);
    CheckRegisterByte(RegisterType::L, 0xE8);
    WriteRegisterWord(RegisterType::PC, 0x3871);
    WriteRegisterWord(RegisterType::SP, 0x007A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x060C, 0x9C);
    CheckMemory(0x3871, 0x12);
}

void test_12_021F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB8AB);
    WriteRegisterWord(RegisterType::SP, 0xC1C0);
    WriteRegisterByte(RegisterType::A, 0x65);
    WriteRegisterByte(RegisterType::B, 0xE4);
    WriteRegisterByte(RegisterType::C, 0x80);
    WriteRegisterByte(RegisterType::D, 0x42);
    WriteRegisterByte(RegisterType::E, 0x75);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xA3);
    WriteRegisterByte(RegisterType::L, 0x10);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4275, 0x00);
    WriteMemory(0xB8AB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x65);
    CheckRegisterByte(RegisterType::B, 0xE4);
    CheckRegisterByte(RegisterType::C, 0x80);
    CheckRegisterByte(RegisterType::D, 0x42);
    CheckRegisterByte(RegisterType::E, 0x75);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xA3);
    CheckRegisterByte(RegisterType::L, 0x10);
    WriteRegisterWord(RegisterType::PC, 0xB8AB);
    WriteRegisterWord(RegisterType::SP, 0xC1C0);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4275, 0x65);
    CheckMemory(0xB8AB, 0x12);
}

void test_12_0220()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC3CE);
    WriteRegisterWord(RegisterType::SP, 0xC235);
    WriteRegisterByte(RegisterType::A, 0x86);
    WriteRegisterByte(RegisterType::B, 0xD2);
    WriteRegisterByte(RegisterType::C, 0xD5);
    WriteRegisterByte(RegisterType::D, 0x51);
    WriteRegisterByte(RegisterType::E, 0xB5);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x6F);
    WriteRegisterByte(RegisterType::L, 0xE4);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x51B5, 0x00);
    WriteMemory(0xC3CE, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x86);
    CheckRegisterByte(RegisterType::B, 0xD2);
    CheckRegisterByte(RegisterType::C, 0xD5);
    CheckRegisterByte(RegisterType::D, 0x51);
    CheckRegisterByte(RegisterType::E, 0xB5);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x6F);
    CheckRegisterByte(RegisterType::L, 0xE4);
    WriteRegisterWord(RegisterType::PC, 0xC3CE);
    WriteRegisterWord(RegisterType::SP, 0xC235);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x51B5, 0x86);
    CheckMemory(0xC3CE, 0x12);
}

void test_12_0221()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7A22);
    WriteRegisterWord(RegisterType::SP, 0x1A95);
    WriteRegisterByte(RegisterType::A, 0xED);
    WriteRegisterByte(RegisterType::B, 0x10);
    WriteRegisterByte(RegisterType::C, 0xDD);
    WriteRegisterByte(RegisterType::D, 0x45);
    WriteRegisterByte(RegisterType::E, 0x44);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x1C);
    WriteRegisterByte(RegisterType::L, 0x00);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4544, 0x00);
    WriteMemory(0x7A22, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xED);
    CheckRegisterByte(RegisterType::B, 0x10);
    CheckRegisterByte(RegisterType::C, 0xDD);
    CheckRegisterByte(RegisterType::D, 0x45);
    CheckRegisterByte(RegisterType::E, 0x44);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x1C);
    CheckRegisterByte(RegisterType::L, 0x00);
    WriteRegisterWord(RegisterType::PC, 0x7A22);
    WriteRegisterWord(RegisterType::SP, 0x1A95);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4544, 0xED);
    CheckMemory(0x7A22, 0x12);
}

void test_12_0222()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB524);
    WriteRegisterWord(RegisterType::SP, 0x57F3);
    WriteRegisterByte(RegisterType::A, 0x57);
    WriteRegisterByte(RegisterType::B, 0x43);
    WriteRegisterByte(RegisterType::C, 0x65);
    WriteRegisterByte(RegisterType::D, 0x72);
    WriteRegisterByte(RegisterType::E, 0x47);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xD2);
    WriteRegisterByte(RegisterType::L, 0xBA);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7247, 0x00);
    WriteMemory(0xB524, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x57);
    CheckRegisterByte(RegisterType::B, 0x43);
    CheckRegisterByte(RegisterType::C, 0x65);
    CheckRegisterByte(RegisterType::D, 0x72);
    CheckRegisterByte(RegisterType::E, 0x47);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xD2);
    CheckRegisterByte(RegisterType::L, 0xBA);
    WriteRegisterWord(RegisterType::PC, 0xB524);
    WriteRegisterWord(RegisterType::SP, 0x57F3);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7247, 0x57);
    CheckMemory(0xB524, 0x12);
}

void test_12_0223()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4603);
    WriteRegisterWord(RegisterType::SP, 0xEB35);
    WriteRegisterByte(RegisterType::A, 0x48);
    WriteRegisterByte(RegisterType::B, 0x36);
    WriteRegisterByte(RegisterType::C, 0xF7);
    WriteRegisterByte(RegisterType::D, 0x34);
    WriteRegisterByte(RegisterType::E, 0x02);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x6B);
    WriteRegisterByte(RegisterType::L, 0x62);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3402, 0x00);
    WriteMemory(0x4603, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x48);
    CheckRegisterByte(RegisterType::B, 0x36);
    CheckRegisterByte(RegisterType::C, 0xF7);
    CheckRegisterByte(RegisterType::D, 0x34);
    CheckRegisterByte(RegisterType::E, 0x02);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x6B);
    CheckRegisterByte(RegisterType::L, 0x62);
    WriteRegisterWord(RegisterType::PC, 0x4603);
    WriteRegisterWord(RegisterType::SP, 0xEB35);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3402, 0x48);
    CheckMemory(0x4603, 0x12);
}

void test_12_0224()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5CE1);
    WriteRegisterWord(RegisterType::SP, 0x1FB2);
    WriteRegisterByte(RegisterType::A, 0x18);
    WriteRegisterByte(RegisterType::B, 0xE0);
    WriteRegisterByte(RegisterType::C, 0xEE);
    WriteRegisterByte(RegisterType::D, 0xFE);
    WriteRegisterByte(RegisterType::E, 0xCF);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x2C);
    WriteRegisterByte(RegisterType::L, 0x29);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5CE1, 0x12);
    WriteMemory(0xFECF, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x18);
    CheckRegisterByte(RegisterType::B, 0xE0);
    CheckRegisterByte(RegisterType::C, 0xEE);
    CheckRegisterByte(RegisterType::D, 0xFE);
    CheckRegisterByte(RegisterType::E, 0xCF);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x2C);
    CheckRegisterByte(RegisterType::L, 0x29);
    WriteRegisterWord(RegisterType::PC, 0x5CE1);
    WriteRegisterWord(RegisterType::SP, 0x1FB2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5CE1, 0x12);
    CheckMemory(0xFECF, 0x18);
}

void test_12_0225()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB3A4);
    WriteRegisterWord(RegisterType::SP, 0x3229);
    WriteRegisterByte(RegisterType::A, 0x75);
    WriteRegisterByte(RegisterType::B, 0x20);
    WriteRegisterByte(RegisterType::C, 0x6F);
    WriteRegisterByte(RegisterType::D, 0x4C);
    WriteRegisterByte(RegisterType::E, 0xCF);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x51);
    WriteRegisterByte(RegisterType::L, 0xE8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4CCF, 0x00);
    WriteMemory(0xB3A4, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x75);
    CheckRegisterByte(RegisterType::B, 0x20);
    CheckRegisterByte(RegisterType::C, 0x6F);
    CheckRegisterByte(RegisterType::D, 0x4C);
    CheckRegisterByte(RegisterType::E, 0xCF);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x51);
    CheckRegisterByte(RegisterType::L, 0xE8);
    WriteRegisterWord(RegisterType::PC, 0xB3A4);
    WriteRegisterWord(RegisterType::SP, 0x3229);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4CCF, 0x75);
    CheckMemory(0xB3A4, 0x12);
}

void test_12_0226()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xACDE);
    WriteRegisterWord(RegisterType::SP, 0x3017);
    WriteRegisterByte(RegisterType::A, 0x5C);
    WriteRegisterByte(RegisterType::B, 0xBC);
    WriteRegisterByte(RegisterType::C, 0x52);
    WriteRegisterByte(RegisterType::D, 0xB5);
    WriteRegisterByte(RegisterType::E, 0xF8);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xF3);
    WriteRegisterByte(RegisterType::L, 0x96);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xACDE, 0x12);
    WriteMemory(0xB5F8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5C);
    CheckRegisterByte(RegisterType::B, 0xBC);
    CheckRegisterByte(RegisterType::C, 0x52);
    CheckRegisterByte(RegisterType::D, 0xB5);
    CheckRegisterByte(RegisterType::E, 0xF8);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xF3);
    CheckRegisterByte(RegisterType::L, 0x96);
    WriteRegisterWord(RegisterType::PC, 0xACDE);
    WriteRegisterWord(RegisterType::SP, 0x3017);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xACDE, 0x12);
    CheckMemory(0xB5F8, 0x5C);
}

void test_12_0227()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4143);
    WriteRegisterWord(RegisterType::SP, 0xE343);
    WriteRegisterByte(RegisterType::A, 0x0A);
    WriteRegisterByte(RegisterType::B, 0x7D);
    WriteRegisterByte(RegisterType::C, 0x95);
    WriteRegisterByte(RegisterType::D, 0x62);
    WriteRegisterByte(RegisterType::E, 0x74);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x1C);
    WriteRegisterByte(RegisterType::L, 0xA1);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4143, 0x12);
    WriteMemory(0x6274, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0A);
    CheckRegisterByte(RegisterType::B, 0x7D);
    CheckRegisterByte(RegisterType::C, 0x95);
    CheckRegisterByte(RegisterType::D, 0x62);
    CheckRegisterByte(RegisterType::E, 0x74);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x1C);
    CheckRegisterByte(RegisterType::L, 0xA1);
    WriteRegisterWord(RegisterType::PC, 0x4143);
    WriteRegisterWord(RegisterType::SP, 0xE343);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4143, 0x12);
    CheckMemory(0x6274, 0x0A);
}

void test_12_0228()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2FD7);
    WriteRegisterWord(RegisterType::SP, 0x4AB9);
    WriteRegisterByte(RegisterType::A, 0x61);
    WriteRegisterByte(RegisterType::B, 0xBA);
    WriteRegisterByte(RegisterType::C, 0xA4);
    WriteRegisterByte(RegisterType::D, 0xBB);
    WriteRegisterByte(RegisterType::E, 0x57);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xDE);
    WriteRegisterByte(RegisterType::L, 0x25);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2FD7, 0x12);
    WriteMemory(0xBB57, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x61);
    CheckRegisterByte(RegisterType::B, 0xBA);
    CheckRegisterByte(RegisterType::C, 0xA4);
    CheckRegisterByte(RegisterType::D, 0xBB);
    CheckRegisterByte(RegisterType::E, 0x57);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xDE);
    CheckRegisterByte(RegisterType::L, 0x25);
    WriteRegisterWord(RegisterType::PC, 0x2FD7);
    WriteRegisterWord(RegisterType::SP, 0x4AB9);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2FD7, 0x12);
    CheckMemory(0xBB57, 0x61);
}

void test_12_0229()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5775);
    WriteRegisterWord(RegisterType::SP, 0x2924);
    WriteRegisterByte(RegisterType::A, 0x6D);
    WriteRegisterByte(RegisterType::B, 0xCE);
    WriteRegisterByte(RegisterType::C, 0x9B);
    WriteRegisterByte(RegisterType::D, 0x93);
    WriteRegisterByte(RegisterType::E, 0x21);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x5B);
    WriteRegisterByte(RegisterType::L, 0xA7);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5775, 0x12);
    WriteMemory(0x9321, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6D);
    CheckRegisterByte(RegisterType::B, 0xCE);
    CheckRegisterByte(RegisterType::C, 0x9B);
    CheckRegisterByte(RegisterType::D, 0x93);
    CheckRegisterByte(RegisterType::E, 0x21);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x5B);
    CheckRegisterByte(RegisterType::L, 0xA7);
    WriteRegisterWord(RegisterType::PC, 0x5775);
    WriteRegisterWord(RegisterType::SP, 0x2924);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5775, 0x12);
    CheckMemory(0x9321, 0x6D);
}

void test_12_022A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8280);
    WriteRegisterWord(RegisterType::SP, 0xC909);
    WriteRegisterByte(RegisterType::A, 0xA9);
    WriteRegisterByte(RegisterType::B, 0x7A);
    WriteRegisterByte(RegisterType::C, 0x3F);
    WriteRegisterByte(RegisterType::D, 0xC1);
    WriteRegisterByte(RegisterType::E, 0x65);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xD7);
    WriteRegisterByte(RegisterType::L, 0x07);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x8280, 0x12);
    WriteMemory(0xC165, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA9);
    CheckRegisterByte(RegisterType::B, 0x7A);
    CheckRegisterByte(RegisterType::C, 0x3F);
    CheckRegisterByte(RegisterType::D, 0xC1);
    CheckRegisterByte(RegisterType::E, 0x65);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xD7);
    CheckRegisterByte(RegisterType::L, 0x07);
    WriteRegisterWord(RegisterType::PC, 0x8280);
    WriteRegisterWord(RegisterType::SP, 0xC909);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x8280, 0x12);
    CheckMemory(0xC165, 0xA9);
}

void test_12_022B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6FFF);
    WriteRegisterWord(RegisterType::SP, 0xE511);
    WriteRegisterByte(RegisterType::A, 0x95);
    WriteRegisterByte(RegisterType::B, 0xEC);
    WriteRegisterByte(RegisterType::C, 0x93);
    WriteRegisterByte(RegisterType::D, 0xE4);
    WriteRegisterByte(RegisterType::E, 0x26);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xDE);
    WriteRegisterByte(RegisterType::L, 0x71);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6FFF, 0x12);
    WriteMemory(0xE426, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x95);
    CheckRegisterByte(RegisterType::B, 0xEC);
    CheckRegisterByte(RegisterType::C, 0x93);
    CheckRegisterByte(RegisterType::D, 0xE4);
    CheckRegisterByte(RegisterType::E, 0x26);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xDE);
    CheckRegisterByte(RegisterType::L, 0x71);
    WriteRegisterWord(RegisterType::PC, 0x6FFF);
    WriteRegisterWord(RegisterType::SP, 0xE511);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6FFF, 0x12);
    CheckMemory(0xE426, 0x95);
}

void test_12_022C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x815A);
    WriteRegisterWord(RegisterType::SP, 0x69C8);
    WriteRegisterByte(RegisterType::A, 0x46);
    WriteRegisterByte(RegisterType::B, 0xF2);
    WriteRegisterByte(RegisterType::C, 0x59);
    WriteRegisterByte(RegisterType::D, 0xBB);
    WriteRegisterByte(RegisterType::E, 0x8C);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xFE);
    WriteRegisterByte(RegisterType::L, 0xA9);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x815A, 0x12);
    WriteMemory(0xBB8C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x46);
    CheckRegisterByte(RegisterType::B, 0xF2);
    CheckRegisterByte(RegisterType::C, 0x59);
    CheckRegisterByte(RegisterType::D, 0xBB);
    CheckRegisterByte(RegisterType::E, 0x8C);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xFE);
    CheckRegisterByte(RegisterType::L, 0xA9);
    WriteRegisterWord(RegisterType::PC, 0x815A);
    WriteRegisterWord(RegisterType::SP, 0x69C8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x815A, 0x12);
    CheckMemory(0xBB8C, 0x46);
}

void test_12_022D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x18F2);
    WriteRegisterWord(RegisterType::SP, 0x3595);
    WriteRegisterByte(RegisterType::A, 0x13);
    WriteRegisterByte(RegisterType::B, 0xE7);
    WriteRegisterByte(RegisterType::C, 0x88);
    WriteRegisterByte(RegisterType::D, 0xAE);
    WriteRegisterByte(RegisterType::E, 0x40);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xB1);
    WriteRegisterByte(RegisterType::L, 0x24);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x18F2, 0x12);
    WriteMemory(0xAE40, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x13);
    CheckRegisterByte(RegisterType::B, 0xE7);
    CheckRegisterByte(RegisterType::C, 0x88);
    CheckRegisterByte(RegisterType::D, 0xAE);
    CheckRegisterByte(RegisterType::E, 0x40);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xB1);
    CheckRegisterByte(RegisterType::L, 0x24);
    WriteRegisterWord(RegisterType::PC, 0x18F2);
    WriteRegisterWord(RegisterType::SP, 0x3595);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x18F2, 0x12);
    CheckMemory(0xAE40, 0x13);
}

void test_12_022E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0BE4);
    WriteRegisterWord(RegisterType::SP, 0x73D2);
    WriteRegisterByte(RegisterType::A, 0x07);
    WriteRegisterByte(RegisterType::B, 0x2C);
    WriteRegisterByte(RegisterType::C, 0x89);
    WriteRegisterByte(RegisterType::D, 0x18);
    WriteRegisterByte(RegisterType::E, 0x80);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x3E);
    WriteRegisterByte(RegisterType::L, 0x04);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0BE4, 0x12);
    WriteMemory(0x1880, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x07);
    CheckRegisterByte(RegisterType::B, 0x2C);
    CheckRegisterByte(RegisterType::C, 0x89);
    CheckRegisterByte(RegisterType::D, 0x18);
    CheckRegisterByte(RegisterType::E, 0x80);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x3E);
    CheckRegisterByte(RegisterType::L, 0x04);
    WriteRegisterWord(RegisterType::PC, 0x0BE4);
    WriteRegisterWord(RegisterType::SP, 0x73D2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0BE4, 0x12);
    CheckMemory(0x1880, 0x07);
}

void test_12_022F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1C6D);
    WriteRegisterWord(RegisterType::SP, 0xBD9C);
    WriteRegisterByte(RegisterType::A, 0x31);
    WriteRegisterByte(RegisterType::B, 0x18);
    WriteRegisterByte(RegisterType::C, 0x65);
    WriteRegisterByte(RegisterType::D, 0x0C);
    WriteRegisterByte(RegisterType::E, 0x8D);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xDC);
    WriteRegisterByte(RegisterType::L, 0xDF);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0C8D, 0x00);
    WriteMemory(0x1C6D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x31);
    CheckRegisterByte(RegisterType::B, 0x18);
    CheckRegisterByte(RegisterType::C, 0x65);
    CheckRegisterByte(RegisterType::D, 0x0C);
    CheckRegisterByte(RegisterType::E, 0x8D);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xDC);
    CheckRegisterByte(RegisterType::L, 0xDF);
    WriteRegisterWord(RegisterType::PC, 0x1C6D);
    WriteRegisterWord(RegisterType::SP, 0xBD9C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0C8D, 0x31);
    CheckMemory(0x1C6D, 0x12);
}

void test_12_0230()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4D58);
    WriteRegisterWord(RegisterType::SP, 0x8C09);
    WriteRegisterByte(RegisterType::A, 0x22);
    WriteRegisterByte(RegisterType::B, 0xD0);
    WriteRegisterByte(RegisterType::C, 0x33);
    WriteRegisterByte(RegisterType::D, 0xCC);
    WriteRegisterByte(RegisterType::E, 0xD8);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xBE);
    WriteRegisterByte(RegisterType::L, 0xEA);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4D58, 0x12);
    WriteMemory(0xCCD8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x22);
    CheckRegisterByte(RegisterType::B, 0xD0);
    CheckRegisterByte(RegisterType::C, 0x33);
    CheckRegisterByte(RegisterType::D, 0xCC);
    CheckRegisterByte(RegisterType::E, 0xD8);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xBE);
    CheckRegisterByte(RegisterType::L, 0xEA);
    WriteRegisterWord(RegisterType::PC, 0x4D58);
    WriteRegisterWord(RegisterType::SP, 0x8C09);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4D58, 0x12);
    CheckMemory(0xCCD8, 0x22);
}

void test_12_0231()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC860);
    WriteRegisterWord(RegisterType::SP, 0x2BE9);
    WriteRegisterByte(RegisterType::A, 0xE3);
    WriteRegisterByte(RegisterType::B, 0xFE);
    WriteRegisterByte(RegisterType::C, 0x18);
    WriteRegisterByte(RegisterType::D, 0xEB);
    WriteRegisterByte(RegisterType::E, 0x10);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x37);
    WriteRegisterByte(RegisterType::L, 0x43);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xC860, 0x12);
    WriteMemory(0xEB10, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE3);
    CheckRegisterByte(RegisterType::B, 0xFE);
    CheckRegisterByte(RegisterType::C, 0x18);
    CheckRegisterByte(RegisterType::D, 0xEB);
    CheckRegisterByte(RegisterType::E, 0x10);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x37);
    CheckRegisterByte(RegisterType::L, 0x43);
    WriteRegisterWord(RegisterType::PC, 0xC860);
    WriteRegisterWord(RegisterType::SP, 0x2BE9);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xC860, 0x12);
    CheckMemory(0xEB10, 0xE3);
}

void test_12_0232()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB4A1);
    WriteRegisterWord(RegisterType::SP, 0xCACD);
    WriteRegisterByte(RegisterType::A, 0xCF);
    WriteRegisterByte(RegisterType::B, 0x7E);
    WriteRegisterByte(RegisterType::C, 0xEA);
    WriteRegisterByte(RegisterType::D, 0x8E);
    WriteRegisterByte(RegisterType::E, 0x12);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x9E);
    WriteRegisterByte(RegisterType::L, 0xBA);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x8E12, 0x00);
    WriteMemory(0xB4A1, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCF);
    CheckRegisterByte(RegisterType::B, 0x7E);
    CheckRegisterByte(RegisterType::C, 0xEA);
    CheckRegisterByte(RegisterType::D, 0x8E);
    CheckRegisterByte(RegisterType::E, 0x12);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x9E);
    CheckRegisterByte(RegisterType::L, 0xBA);
    WriteRegisterWord(RegisterType::PC, 0xB4A1);
    WriteRegisterWord(RegisterType::SP, 0xCACD);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x8E12, 0xCF);
    CheckMemory(0xB4A1, 0x12);
}

void test_12_0233()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x703F);
    WriteRegisterWord(RegisterType::SP, 0x0D20);
    WriteRegisterByte(RegisterType::A, 0x0B);
    WriteRegisterByte(RegisterType::B, 0x6D);
    WriteRegisterByte(RegisterType::C, 0x0D);
    WriteRegisterByte(RegisterType::D, 0x5F);
    WriteRegisterByte(RegisterType::E, 0x21);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x01);
    WriteRegisterByte(RegisterType::L, 0x95);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5F21, 0x00);
    WriteMemory(0x703F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0B);
    CheckRegisterByte(RegisterType::B, 0x6D);
    CheckRegisterByte(RegisterType::C, 0x0D);
    CheckRegisterByte(RegisterType::D, 0x5F);
    CheckRegisterByte(RegisterType::E, 0x21);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x01);
    CheckRegisterByte(RegisterType::L, 0x95);
    WriteRegisterWord(RegisterType::PC, 0x703F);
    WriteRegisterWord(RegisterType::SP, 0x0D20);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5F21, 0x0B);
    CheckMemory(0x703F, 0x12);
}

void test_12_0234()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA9D5);
    WriteRegisterWord(RegisterType::SP, 0x0AFF);
    WriteRegisterByte(RegisterType::A, 0x09);
    WriteRegisterByte(RegisterType::B, 0x6D);
    WriteRegisterByte(RegisterType::C, 0x52);
    WriteRegisterByte(RegisterType::D, 0xD1);
    WriteRegisterByte(RegisterType::E, 0x7D);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x4F);
    WriteRegisterByte(RegisterType::L, 0x0C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xA9D5, 0x12);
    WriteMemory(0xD17D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x09);
    CheckRegisterByte(RegisterType::B, 0x6D);
    CheckRegisterByte(RegisterType::C, 0x52);
    CheckRegisterByte(RegisterType::D, 0xD1);
    CheckRegisterByte(RegisterType::E, 0x7D);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x4F);
    CheckRegisterByte(RegisterType::L, 0x0C);
    WriteRegisterWord(RegisterType::PC, 0xA9D5);
    WriteRegisterWord(RegisterType::SP, 0x0AFF);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xA9D5, 0x12);
    CheckMemory(0xD17D, 0x09);
}

void test_12_0235()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1C5A);
    WriteRegisterWord(RegisterType::SP, 0x2AA6);
    WriteRegisterByte(RegisterType::A, 0xA5);
    WriteRegisterByte(RegisterType::B, 0x4B);
    WriteRegisterByte(RegisterType::C, 0xB6);
    WriteRegisterByte(RegisterType::D, 0x63);
    WriteRegisterByte(RegisterType::E, 0x99);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xD4);
    WriteRegisterByte(RegisterType::L, 0x15);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1C5A, 0x12);
    WriteMemory(0x6399, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA5);
    CheckRegisterByte(RegisterType::B, 0x4B);
    CheckRegisterByte(RegisterType::C, 0xB6);
    CheckRegisterByte(RegisterType::D, 0x63);
    CheckRegisterByte(RegisterType::E, 0x99);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xD4);
    CheckRegisterByte(RegisterType::L, 0x15);
    WriteRegisterWord(RegisterType::PC, 0x1C5A);
    WriteRegisterWord(RegisterType::SP, 0x2AA6);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1C5A, 0x12);
    CheckMemory(0x6399, 0xA5);
}

void test_12_0236()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6045);
    WriteRegisterWord(RegisterType::SP, 0x4FD4);
    WriteRegisterByte(RegisterType::A, 0x42);
    WriteRegisterByte(RegisterType::B, 0x15);
    WriteRegisterByte(RegisterType::C, 0x9D);
    WriteRegisterByte(RegisterType::D, 0x8C);
    WriteRegisterByte(RegisterType::E, 0xA3);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xC9);
    WriteRegisterByte(RegisterType::L, 0xDE);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6045, 0x12);
    WriteMemory(0x8CA3, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x42);
    CheckRegisterByte(RegisterType::B, 0x15);
    CheckRegisterByte(RegisterType::C, 0x9D);
    CheckRegisterByte(RegisterType::D, 0x8C);
    CheckRegisterByte(RegisterType::E, 0xA3);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xC9);
    CheckRegisterByte(RegisterType::L, 0xDE);
    WriteRegisterWord(RegisterType::PC, 0x6045);
    WriteRegisterWord(RegisterType::SP, 0x4FD4);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6045, 0x12);
    CheckMemory(0x8CA3, 0x42);
}

void test_12_0237()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x011A);
    WriteRegisterWord(RegisterType::SP, 0x8AE2);
    WriteRegisterByte(RegisterType::A, 0xC5);
    WriteRegisterByte(RegisterType::B, 0xA1);
    WriteRegisterByte(RegisterType::C, 0xBF);
    WriteRegisterByte(RegisterType::D, 0x40);
    WriteRegisterByte(RegisterType::E, 0x61);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x61);
    WriteRegisterByte(RegisterType::L, 0x79);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x011A, 0x12);
    WriteMemory(0x4061, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC5);
    CheckRegisterByte(RegisterType::B, 0xA1);
    CheckRegisterByte(RegisterType::C, 0xBF);
    CheckRegisterByte(RegisterType::D, 0x40);
    CheckRegisterByte(RegisterType::E, 0x61);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x61);
    CheckRegisterByte(RegisterType::L, 0x79);
    WriteRegisterWord(RegisterType::PC, 0x011A);
    WriteRegisterWord(RegisterType::SP, 0x8AE2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x011A, 0x12);
    CheckMemory(0x4061, 0xC5);
}

void test_12_0238()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2080);
    WriteRegisterWord(RegisterType::SP, 0x61C5);
    WriteRegisterByte(RegisterType::A, 0x64);
    WriteRegisterByte(RegisterType::B, 0x88);
    WriteRegisterByte(RegisterType::C, 0x36);
    WriteRegisterByte(RegisterType::D, 0xA8);
    WriteRegisterByte(RegisterType::E, 0x9C);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x79);
    WriteRegisterByte(RegisterType::L, 0xF0);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2080, 0x12);
    WriteMemory(0xA89C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x64);
    CheckRegisterByte(RegisterType::B, 0x88);
    CheckRegisterByte(RegisterType::C, 0x36);
    CheckRegisterByte(RegisterType::D, 0xA8);
    CheckRegisterByte(RegisterType::E, 0x9C);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x79);
    CheckRegisterByte(RegisterType::L, 0xF0);
    WriteRegisterWord(RegisterType::PC, 0x2080);
    WriteRegisterWord(RegisterType::SP, 0x61C5);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2080, 0x12);
    CheckMemory(0xA89C, 0x64);
}

void test_12_0239()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x50D4);
    WriteRegisterWord(RegisterType::SP, 0x4DF5);
    WriteRegisterByte(RegisterType::A, 0xD5);
    WriteRegisterByte(RegisterType::B, 0xBD);
    WriteRegisterByte(RegisterType::C, 0xB2);
    WriteRegisterByte(RegisterType::D, 0x9E);
    WriteRegisterByte(RegisterType::E, 0x40);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x48);
    WriteRegisterByte(RegisterType::L, 0x57);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x50D4, 0x12);
    WriteMemory(0x9E40, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD5);
    CheckRegisterByte(RegisterType::B, 0xBD);
    CheckRegisterByte(RegisterType::C, 0xB2);
    CheckRegisterByte(RegisterType::D, 0x9E);
    CheckRegisterByte(RegisterType::E, 0x40);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x48);
    CheckRegisterByte(RegisterType::L, 0x57);
    WriteRegisterWord(RegisterType::PC, 0x50D4);
    WriteRegisterWord(RegisterType::SP, 0x4DF5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x50D4, 0x12);
    CheckMemory(0x9E40, 0xD5);
}

void test_12_023A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x27CB);
    WriteRegisterWord(RegisterType::SP, 0x330C);
    WriteRegisterByte(RegisterType::A, 0x71);
    WriteRegisterByte(RegisterType::B, 0x1E);
    WriteRegisterByte(RegisterType::C, 0x08);
    WriteRegisterByte(RegisterType::D, 0xB2);
    WriteRegisterByte(RegisterType::E, 0x31);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x67);
    WriteRegisterByte(RegisterType::L, 0x81);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x27CB, 0x12);
    WriteMemory(0xB231, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x71);
    CheckRegisterByte(RegisterType::B, 0x1E);
    CheckRegisterByte(RegisterType::C, 0x08);
    CheckRegisterByte(RegisterType::D, 0xB2);
    CheckRegisterByte(RegisterType::E, 0x31);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x67);
    CheckRegisterByte(RegisterType::L, 0x81);
    WriteRegisterWord(RegisterType::PC, 0x27CB);
    WriteRegisterWord(RegisterType::SP, 0x330C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x27CB, 0x12);
    CheckMemory(0xB231, 0x71);
}

void test_12_023B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x877E);
    WriteRegisterWord(RegisterType::SP, 0x7B60);
    WriteRegisterByte(RegisterType::A, 0xD6);
    WriteRegisterByte(RegisterType::B, 0x7E);
    WriteRegisterByte(RegisterType::C, 0x30);
    WriteRegisterByte(RegisterType::D, 0xA2);
    WriteRegisterByte(RegisterType::E, 0x10);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xB4);
    WriteRegisterByte(RegisterType::L, 0x31);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x877E, 0x12);
    WriteMemory(0xA210, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD6);
    CheckRegisterByte(RegisterType::B, 0x7E);
    CheckRegisterByte(RegisterType::C, 0x30);
    CheckRegisterByte(RegisterType::D, 0xA2);
    CheckRegisterByte(RegisterType::E, 0x10);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xB4);
    CheckRegisterByte(RegisterType::L, 0x31);
    WriteRegisterWord(RegisterType::PC, 0x877E);
    WriteRegisterWord(RegisterType::SP, 0x7B60);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x877E, 0x12);
    CheckMemory(0xA210, 0xD6);
}

void test_12_023C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5655);
    WriteRegisterWord(RegisterType::SP, 0x31B8);
    WriteRegisterByte(RegisterType::A, 0x2F);
    WriteRegisterByte(RegisterType::B, 0x3E);
    WriteRegisterByte(RegisterType::C, 0xC4);
    WriteRegisterByte(RegisterType::D, 0x54);
    WriteRegisterByte(RegisterType::E, 0xE1);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x42);
    WriteRegisterByte(RegisterType::L, 0xE4);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x54E1, 0x00);
    WriteMemory(0x5655, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2F);
    CheckRegisterByte(RegisterType::B, 0x3E);
    CheckRegisterByte(RegisterType::C, 0xC4);
    CheckRegisterByte(RegisterType::D, 0x54);
    CheckRegisterByte(RegisterType::E, 0xE1);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x42);
    CheckRegisterByte(RegisterType::L, 0xE4);
    WriteRegisterWord(RegisterType::PC, 0x5655);
    WriteRegisterWord(RegisterType::SP, 0x31B8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x54E1, 0x2F);
    CheckMemory(0x5655, 0x12);
}

void test_12_023D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0313);
    WriteRegisterWord(RegisterType::SP, 0x757D);
    WriteRegisterByte(RegisterType::A, 0x3F);
    WriteRegisterByte(RegisterType::B, 0x26);
    WriteRegisterByte(RegisterType::C, 0x85);
    WriteRegisterByte(RegisterType::D, 0x05);
    WriteRegisterByte(RegisterType::E, 0xB8);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xCA);
    WriteRegisterByte(RegisterType::L, 0xB7);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0313, 0x12);
    WriteMemory(0x05B8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3F);
    CheckRegisterByte(RegisterType::B, 0x26);
    CheckRegisterByte(RegisterType::C, 0x85);
    CheckRegisterByte(RegisterType::D, 0x05);
    CheckRegisterByte(RegisterType::E, 0xB8);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xCA);
    CheckRegisterByte(RegisterType::L, 0xB7);
    WriteRegisterWord(RegisterType::PC, 0x0313);
    WriteRegisterWord(RegisterType::SP, 0x757D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0313, 0x12);
    CheckMemory(0x05B8, 0x3F);
}

void test_12_023E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDE3A);
    WriteRegisterWord(RegisterType::SP, 0x8180);
    WriteRegisterByte(RegisterType::A, 0x1F);
    WriteRegisterByte(RegisterType::B, 0xB7);
    WriteRegisterByte(RegisterType::C, 0x5F);
    WriteRegisterByte(RegisterType::D, 0xC1);
    WriteRegisterByte(RegisterType::E, 0x81);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xBE);
    WriteRegisterByte(RegisterType::L, 0x26);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xC181, 0x00);
    WriteMemory(0xDE3A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1F);
    CheckRegisterByte(RegisterType::B, 0xB7);
    CheckRegisterByte(RegisterType::C, 0x5F);
    CheckRegisterByte(RegisterType::D, 0xC1);
    CheckRegisterByte(RegisterType::E, 0x81);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xBE);
    CheckRegisterByte(RegisterType::L, 0x26);
    WriteRegisterWord(RegisterType::PC, 0xDE3A);
    WriteRegisterWord(RegisterType::SP, 0x8180);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xC181, 0x1F);
    CheckMemory(0xDE3A, 0x12);
}

void test_12_023F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x31E1);
    WriteRegisterWord(RegisterType::SP, 0xDE8F);
    WriteRegisterByte(RegisterType::A, 0x0E);
    WriteRegisterByte(RegisterType::B, 0x8D);
    WriteRegisterByte(RegisterType::C, 0x41);
    WriteRegisterByte(RegisterType::D, 0x26);
    WriteRegisterByte(RegisterType::E, 0xF2);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x79);
    WriteRegisterByte(RegisterType::L, 0xBB);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x26F2, 0x00);
    WriteMemory(0x31E1, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0E);
    CheckRegisterByte(RegisterType::B, 0x8D);
    CheckRegisterByte(RegisterType::C, 0x41);
    CheckRegisterByte(RegisterType::D, 0x26);
    CheckRegisterByte(RegisterType::E, 0xF2);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x79);
    CheckRegisterByte(RegisterType::L, 0xBB);
    WriteRegisterWord(RegisterType::PC, 0x31E1);
    WriteRegisterWord(RegisterType::SP, 0xDE8F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x26F2, 0x0E);
    CheckMemory(0x31E1, 0x12);
}

void test_12_0240()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5129);
    WriteRegisterWord(RegisterType::SP, 0xFC53);
    WriteRegisterByte(RegisterType::A, 0x1F);
    WriteRegisterByte(RegisterType::B, 0xA8);
    WriteRegisterByte(RegisterType::C, 0x95);
    WriteRegisterByte(RegisterType::D, 0xD4);
    WriteRegisterByte(RegisterType::E, 0x3D);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xC1);
    WriteRegisterByte(RegisterType::L, 0xFE);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5129, 0x12);
    WriteMemory(0xD43D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1F);
    CheckRegisterByte(RegisterType::B, 0xA8);
    CheckRegisterByte(RegisterType::C, 0x95);
    CheckRegisterByte(RegisterType::D, 0xD4);
    CheckRegisterByte(RegisterType::E, 0x3D);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xC1);
    CheckRegisterByte(RegisterType::L, 0xFE);
    WriteRegisterWord(RegisterType::PC, 0x5129);
    WriteRegisterWord(RegisterType::SP, 0xFC53);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5129, 0x12);
    CheckMemory(0xD43D, 0x1F);
}

void test_12_0241()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBFCC);
    WriteRegisterWord(RegisterType::SP, 0x741B);
    WriteRegisterByte(RegisterType::A, 0xE7);
    WriteRegisterByte(RegisterType::B, 0x4F);
    WriteRegisterByte(RegisterType::C, 0x14);
    WriteRegisterByte(RegisterType::D, 0x90);
    WriteRegisterByte(RegisterType::E, 0x48);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xB0);
    WriteRegisterByte(RegisterType::L, 0xCF);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9048, 0x00);
    WriteMemory(0xBFCC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE7);
    CheckRegisterByte(RegisterType::B, 0x4F);
    CheckRegisterByte(RegisterType::C, 0x14);
    CheckRegisterByte(RegisterType::D, 0x90);
    CheckRegisterByte(RegisterType::E, 0x48);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xB0);
    CheckRegisterByte(RegisterType::L, 0xCF);
    WriteRegisterWord(RegisterType::PC, 0xBFCC);
    WriteRegisterWord(RegisterType::SP, 0x741B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9048, 0xE7);
    CheckMemory(0xBFCC, 0x12);
}

void test_12_0242()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x384C);
    WriteRegisterWord(RegisterType::SP, 0x99DA);
    WriteRegisterByte(RegisterType::A, 0xB3);
    WriteRegisterByte(RegisterType::B, 0xDC);
    WriteRegisterByte(RegisterType::C, 0x70);
    WriteRegisterByte(RegisterType::D, 0x27);
    WriteRegisterByte(RegisterType::E, 0xE7);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x62);
    WriteRegisterByte(RegisterType::L, 0x49);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x27E7, 0x00);
    WriteMemory(0x384C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB3);
    CheckRegisterByte(RegisterType::B, 0xDC);
    CheckRegisterByte(RegisterType::C, 0x70);
    CheckRegisterByte(RegisterType::D, 0x27);
    CheckRegisterByte(RegisterType::E, 0xE7);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x62);
    CheckRegisterByte(RegisterType::L, 0x49);
    WriteRegisterWord(RegisterType::PC, 0x384C);
    WriteRegisterWord(RegisterType::SP, 0x99DA);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x27E7, 0xB3);
    CheckMemory(0x384C, 0x12);
}

void test_12_0243()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA854);
    WriteRegisterWord(RegisterType::SP, 0x489D);
    WriteRegisterByte(RegisterType::A, 0xF1);
    WriteRegisterByte(RegisterType::B, 0xF9);
    WriteRegisterByte(RegisterType::C, 0x79);
    WriteRegisterByte(RegisterType::D, 0x80);
    WriteRegisterByte(RegisterType::E, 0x7A);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xB2);
    WriteRegisterByte(RegisterType::L, 0x59);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x807A, 0x00);
    WriteMemory(0xA854, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF1);
    CheckRegisterByte(RegisterType::B, 0xF9);
    CheckRegisterByte(RegisterType::C, 0x79);
    CheckRegisterByte(RegisterType::D, 0x80);
    CheckRegisterByte(RegisterType::E, 0x7A);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xB2);
    CheckRegisterByte(RegisterType::L, 0x59);
    WriteRegisterWord(RegisterType::PC, 0xA854);
    WriteRegisterWord(RegisterType::SP, 0x489D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x807A, 0xF1);
    CheckMemory(0xA854, 0x12);
}

void test_12_0244()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDB0D);
    WriteRegisterWord(RegisterType::SP, 0x8A0A);
    WriteRegisterByte(RegisterType::A, 0x8B);
    WriteRegisterByte(RegisterType::B, 0x30);
    WriteRegisterByte(RegisterType::C, 0x6C);
    WriteRegisterByte(RegisterType::D, 0xBB);
    WriteRegisterByte(RegisterType::E, 0xCC);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x45);
    WriteRegisterByte(RegisterType::L, 0x11);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xBBCC, 0x00);
    WriteMemory(0xDB0D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8B);
    CheckRegisterByte(RegisterType::B, 0x30);
    CheckRegisterByte(RegisterType::C, 0x6C);
    CheckRegisterByte(RegisterType::D, 0xBB);
    CheckRegisterByte(RegisterType::E, 0xCC);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x45);
    CheckRegisterByte(RegisterType::L, 0x11);
    WriteRegisterWord(RegisterType::PC, 0xDB0D);
    WriteRegisterWord(RegisterType::SP, 0x8A0A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xBBCC, 0x8B);
    CheckMemory(0xDB0D, 0x12);
}

void test_12_0245()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5445);
    WriteRegisterWord(RegisterType::SP, 0x0FC1);
    WriteRegisterByte(RegisterType::A, 0x7B);
    WriteRegisterByte(RegisterType::B, 0xD0);
    WriteRegisterByte(RegisterType::C, 0x44);
    WriteRegisterByte(RegisterType::D, 0x68);
    WriteRegisterByte(RegisterType::E, 0xB2);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xC2);
    WriteRegisterByte(RegisterType::L, 0x31);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5445, 0x12);
    WriteMemory(0x68B2, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7B);
    CheckRegisterByte(RegisterType::B, 0xD0);
    CheckRegisterByte(RegisterType::C, 0x44);
    CheckRegisterByte(RegisterType::D, 0x68);
    CheckRegisterByte(RegisterType::E, 0xB2);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xC2);
    CheckRegisterByte(RegisterType::L, 0x31);
    WriteRegisterWord(RegisterType::PC, 0x5445);
    WriteRegisterWord(RegisterType::SP, 0x0FC1);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5445, 0x12);
    CheckMemory(0x68B2, 0x7B);
}

void test_12_0246()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEC84);
    WriteRegisterWord(RegisterType::SP, 0x5E40);
    WriteRegisterByte(RegisterType::A, 0x06);
    WriteRegisterByte(RegisterType::B, 0x08);
    WriteRegisterByte(RegisterType::C, 0xD3);
    WriteRegisterByte(RegisterType::D, 0xE3);
    WriteRegisterByte(RegisterType::E, 0xDC);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xB7);
    WriteRegisterByte(RegisterType::L, 0x61);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xE3DC, 0x00);
    WriteMemory(0xEC84, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x06);
    CheckRegisterByte(RegisterType::B, 0x08);
    CheckRegisterByte(RegisterType::C, 0xD3);
    CheckRegisterByte(RegisterType::D, 0xE3);
    CheckRegisterByte(RegisterType::E, 0xDC);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xB7);
    CheckRegisterByte(RegisterType::L, 0x61);
    WriteRegisterWord(RegisterType::PC, 0xEC84);
    WriteRegisterWord(RegisterType::SP, 0x5E40);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xE3DC, 0x06);
    CheckMemory(0xEC84, 0x12);
}

void test_12_0247()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x142C);
    WriteRegisterWord(RegisterType::SP, 0xF80A);
    WriteRegisterByte(RegisterType::A, 0x4F);
    WriteRegisterByte(RegisterType::B, 0xF9);
    WriteRegisterByte(RegisterType::C, 0xBA);
    WriteRegisterByte(RegisterType::D, 0x49);
    WriteRegisterByte(RegisterType::E, 0xC4);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x28);
    WriteRegisterByte(RegisterType::L, 0x14);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x142C, 0x12);
    WriteMemory(0x49C4, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4F);
    CheckRegisterByte(RegisterType::B, 0xF9);
    CheckRegisterByte(RegisterType::C, 0xBA);
    CheckRegisterByte(RegisterType::D, 0x49);
    CheckRegisterByte(RegisterType::E, 0xC4);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x28);
    CheckRegisterByte(RegisterType::L, 0x14);
    WriteRegisterWord(RegisterType::PC, 0x142C);
    WriteRegisterWord(RegisterType::SP, 0xF80A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x142C, 0x12);
    CheckMemory(0x49C4, 0x4F);
}

void test_12_0248()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA85B);
    WriteRegisterWord(RegisterType::SP, 0x037E);
    WriteRegisterByte(RegisterType::A, 0x9F);
    WriteRegisterByte(RegisterType::B, 0x4A);
    WriteRegisterByte(RegisterType::C, 0xD2);
    WriteRegisterByte(RegisterType::D, 0xE6);
    WriteRegisterByte(RegisterType::E, 0xEB);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xF5);
    WriteRegisterByte(RegisterType::L, 0x42);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xA85B, 0x12);
    WriteMemory(0xE6EB, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9F);
    CheckRegisterByte(RegisterType::B, 0x4A);
    CheckRegisterByte(RegisterType::C, 0xD2);
    CheckRegisterByte(RegisterType::D, 0xE6);
    CheckRegisterByte(RegisterType::E, 0xEB);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xF5);
    CheckRegisterByte(RegisterType::L, 0x42);
    WriteRegisterWord(RegisterType::PC, 0xA85B);
    WriteRegisterWord(RegisterType::SP, 0x037E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xA85B, 0x12);
    CheckMemory(0xE6EB, 0x9F);
}

void test_12_0249()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC84C);
    WriteRegisterWord(RegisterType::SP, 0x0263);
    WriteRegisterByte(RegisterType::A, 0x9A);
    WriteRegisterByte(RegisterType::B, 0xD5);
    WriteRegisterByte(RegisterType::C, 0xBB);
    WriteRegisterByte(RegisterType::D, 0x92);
    WriteRegisterByte(RegisterType::E, 0xE1);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x2B);
    WriteRegisterByte(RegisterType::L, 0x58);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x92E1, 0x00);
    WriteMemory(0xC84C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9A);
    CheckRegisterByte(RegisterType::B, 0xD5);
    CheckRegisterByte(RegisterType::C, 0xBB);
    CheckRegisterByte(RegisterType::D, 0x92);
    CheckRegisterByte(RegisterType::E, 0xE1);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x2B);
    CheckRegisterByte(RegisterType::L, 0x58);
    WriteRegisterWord(RegisterType::PC, 0xC84C);
    WriteRegisterWord(RegisterType::SP, 0x0263);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x92E1, 0x9A);
    CheckMemory(0xC84C, 0x12);
}

void test_12_024A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6CBF);
    WriteRegisterWord(RegisterType::SP, 0x8D21);
    WriteRegisterByte(RegisterType::A, 0x9E);
    WriteRegisterByte(RegisterType::B, 0x3E);
    WriteRegisterByte(RegisterType::C, 0xDC);
    WriteRegisterByte(RegisterType::D, 0xDE);
    WriteRegisterByte(RegisterType::E, 0xAC);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x06);
    WriteRegisterByte(RegisterType::L, 0x2F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6CBF, 0x12);
    WriteMemory(0xDEAC, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9E);
    CheckRegisterByte(RegisterType::B, 0x3E);
    CheckRegisterByte(RegisterType::C, 0xDC);
    CheckRegisterByte(RegisterType::D, 0xDE);
    CheckRegisterByte(RegisterType::E, 0xAC);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x06);
    CheckRegisterByte(RegisterType::L, 0x2F);
    WriteRegisterWord(RegisterType::PC, 0x6CBF);
    WriteRegisterWord(RegisterType::SP, 0x8D21);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6CBF, 0x12);
    CheckMemory(0xDEAC, 0x9E);
}

void test_12_024B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA744);
    WriteRegisterWord(RegisterType::SP, 0xA55D);
    WriteRegisterByte(RegisterType::A, 0xF4);
    WriteRegisterByte(RegisterType::B, 0x07);
    WriteRegisterByte(RegisterType::C, 0xFD);
    WriteRegisterByte(RegisterType::D, 0x81);
    WriteRegisterByte(RegisterType::E, 0x14);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x90);
    WriteRegisterByte(RegisterType::L, 0x2B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x8114, 0x00);
    WriteMemory(0xA744, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF4);
    CheckRegisterByte(RegisterType::B, 0x07);
    CheckRegisterByte(RegisterType::C, 0xFD);
    CheckRegisterByte(RegisterType::D, 0x81);
    CheckRegisterByte(RegisterType::E, 0x14);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x90);
    CheckRegisterByte(RegisterType::L, 0x2B);
    WriteRegisterWord(RegisterType::PC, 0xA744);
    WriteRegisterWord(RegisterType::SP, 0xA55D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x8114, 0xF4);
    CheckMemory(0xA744, 0x12);
}

void test_12_024C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBAA9);
    WriteRegisterWord(RegisterType::SP, 0xEC32);
    WriteRegisterByte(RegisterType::A, 0xA4);
    WriteRegisterByte(RegisterType::B, 0x67);
    WriteRegisterByte(RegisterType::C, 0xCC);
    WriteRegisterByte(RegisterType::D, 0xE3);
    WriteRegisterByte(RegisterType::E, 0x38);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xA7);
    WriteRegisterByte(RegisterType::L, 0xA2);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xBAA9, 0x12);
    WriteMemory(0xE338, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA4);
    CheckRegisterByte(RegisterType::B, 0x67);
    CheckRegisterByte(RegisterType::C, 0xCC);
    CheckRegisterByte(RegisterType::D, 0xE3);
    CheckRegisterByte(RegisterType::E, 0x38);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xA7);
    CheckRegisterByte(RegisterType::L, 0xA2);
    WriteRegisterWord(RegisterType::PC, 0xBAA9);
    WriteRegisterWord(RegisterType::SP, 0xEC32);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xBAA9, 0x12);
    CheckMemory(0xE338, 0xA4);
}

void test_12_024D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x45EF);
    WriteRegisterWord(RegisterType::SP, 0x0AAC);
    WriteRegisterByte(RegisterType::A, 0x88);
    WriteRegisterByte(RegisterType::B, 0x6C);
    WriteRegisterByte(RegisterType::C, 0xB9);
    WriteRegisterByte(RegisterType::D, 0xE2);
    WriteRegisterByte(RegisterType::E, 0xD4);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x2C);
    WriteRegisterByte(RegisterType::L, 0x52);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x45EF, 0x12);
    WriteMemory(0xE2D4, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x88);
    CheckRegisterByte(RegisterType::B, 0x6C);
    CheckRegisterByte(RegisterType::C, 0xB9);
    CheckRegisterByte(RegisterType::D, 0xE2);
    CheckRegisterByte(RegisterType::E, 0xD4);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x2C);
    CheckRegisterByte(RegisterType::L, 0x52);
    WriteRegisterWord(RegisterType::PC, 0x45EF);
    WriteRegisterWord(RegisterType::SP, 0x0AAC);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x45EF, 0x12);
    CheckMemory(0xE2D4, 0x88);
}

void test_12_024E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x215B);
    WriteRegisterWord(RegisterType::SP, 0x84FA);
    WriteRegisterByte(RegisterType::A, 0x58);
    WriteRegisterByte(RegisterType::B, 0x9D);
    WriteRegisterByte(RegisterType::C, 0x63);
    WriteRegisterByte(RegisterType::D, 0x28);
    WriteRegisterByte(RegisterType::E, 0x14);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x9E);
    WriteRegisterByte(RegisterType::L, 0x53);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x215B, 0x12);
    WriteMemory(0x2814, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x58);
    CheckRegisterByte(RegisterType::B, 0x9D);
    CheckRegisterByte(RegisterType::C, 0x63);
    CheckRegisterByte(RegisterType::D, 0x28);
    CheckRegisterByte(RegisterType::E, 0x14);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x9E);
    CheckRegisterByte(RegisterType::L, 0x53);
    WriteRegisterWord(RegisterType::PC, 0x215B);
    WriteRegisterWord(RegisterType::SP, 0x84FA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x215B, 0x12);
    CheckMemory(0x2814, 0x58);
}

void test_12_024F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9C4D);
    WriteRegisterWord(RegisterType::SP, 0x5BBA);
    WriteRegisterByte(RegisterType::A, 0xE0);
    WriteRegisterByte(RegisterType::B, 0x40);
    WriteRegisterByte(RegisterType::C, 0x83);
    WriteRegisterByte(RegisterType::D, 0x3B);
    WriteRegisterByte(RegisterType::E, 0x44);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xBC);
    WriteRegisterByte(RegisterType::L, 0xE9);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3B44, 0x00);
    WriteMemory(0x9C4D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE0);
    CheckRegisterByte(RegisterType::B, 0x40);
    CheckRegisterByte(RegisterType::C, 0x83);
    CheckRegisterByte(RegisterType::D, 0x3B);
    CheckRegisterByte(RegisterType::E, 0x44);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xBC);
    CheckRegisterByte(RegisterType::L, 0xE9);
    WriteRegisterWord(RegisterType::PC, 0x9C4D);
    WriteRegisterWord(RegisterType::SP, 0x5BBA);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3B44, 0xE0);
    CheckMemory(0x9C4D, 0x12);
}

void test_12_0250()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE0BE);
    WriteRegisterWord(RegisterType::SP, 0xA6A4);
    WriteRegisterByte(RegisterType::A, 0x05);
    WriteRegisterByte(RegisterType::B, 0xC5);
    WriteRegisterByte(RegisterType::C, 0x50);
    WriteRegisterByte(RegisterType::D, 0xCE);
    WriteRegisterByte(RegisterType::E, 0x68);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xD5);
    WriteRegisterByte(RegisterType::L, 0x07);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xCE68, 0x00);
    WriteMemory(0xE0BE, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x05);
    CheckRegisterByte(RegisterType::B, 0xC5);
    CheckRegisterByte(RegisterType::C, 0x50);
    CheckRegisterByte(RegisterType::D, 0xCE);
    CheckRegisterByte(RegisterType::E, 0x68);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xD5);
    CheckRegisterByte(RegisterType::L, 0x07);
    WriteRegisterWord(RegisterType::PC, 0xE0BE);
    WriteRegisterWord(RegisterType::SP, 0xA6A4);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xCE68, 0x05);
    CheckMemory(0xE0BE, 0x12);
}

void test_12_0251()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBE7A);
    WriteRegisterWord(RegisterType::SP, 0xC2E2);
    WriteRegisterByte(RegisterType::A, 0x89);
    WriteRegisterByte(RegisterType::B, 0xA9);
    WriteRegisterByte(RegisterType::C, 0x22);
    WriteRegisterByte(RegisterType::D, 0x82);
    WriteRegisterByte(RegisterType::E, 0xE4);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xA8);
    WriteRegisterByte(RegisterType::L, 0x7C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x82E4, 0x00);
    WriteMemory(0xBE7A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x89);
    CheckRegisterByte(RegisterType::B, 0xA9);
    CheckRegisterByte(RegisterType::C, 0x22);
    CheckRegisterByte(RegisterType::D, 0x82);
    CheckRegisterByte(RegisterType::E, 0xE4);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xA8);
    CheckRegisterByte(RegisterType::L, 0x7C);
    WriteRegisterWord(RegisterType::PC, 0xBE7A);
    WriteRegisterWord(RegisterType::SP, 0xC2E2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x82E4, 0x89);
    CheckMemory(0xBE7A, 0x12);
}

void test_12_0252()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5ED8);
    WriteRegisterWord(RegisterType::SP, 0x4ADF);
    WriteRegisterByte(RegisterType::A, 0x70);
    WriteRegisterByte(RegisterType::B, 0x69);
    WriteRegisterByte(RegisterType::C, 0xA2);
    WriteRegisterByte(RegisterType::D, 0x16);
    WriteRegisterByte(RegisterType::E, 0xB7);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x4D);
    WriteRegisterByte(RegisterType::L, 0x0D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x16B7, 0x00);
    WriteMemory(0x5ED8, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x70);
    CheckRegisterByte(RegisterType::B, 0x69);
    CheckRegisterByte(RegisterType::C, 0xA2);
    CheckRegisterByte(RegisterType::D, 0x16);
    CheckRegisterByte(RegisterType::E, 0xB7);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x4D);
    CheckRegisterByte(RegisterType::L, 0x0D);
    WriteRegisterWord(RegisterType::PC, 0x5ED8);
    WriteRegisterWord(RegisterType::SP, 0x4ADF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x16B7, 0x70);
    CheckMemory(0x5ED8, 0x12);
}

void test_12_0253()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF80D);
    WriteRegisterWord(RegisterType::SP, 0xA45D);
    WriteRegisterByte(RegisterType::A, 0xE6);
    WriteRegisterByte(RegisterType::B, 0x94);
    WriteRegisterByte(RegisterType::C, 0x8C);
    WriteRegisterByte(RegisterType::D, 0x1A);
    WriteRegisterByte(RegisterType::E, 0x7D);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xD4);
    WriteRegisterByte(RegisterType::L, 0x77);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1A7D, 0x00);
    WriteMemory(0xF80D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE6);
    CheckRegisterByte(RegisterType::B, 0x94);
    CheckRegisterByte(RegisterType::C, 0x8C);
    CheckRegisterByte(RegisterType::D, 0x1A);
    CheckRegisterByte(RegisterType::E, 0x7D);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xD4);
    CheckRegisterByte(RegisterType::L, 0x77);
    WriteRegisterWord(RegisterType::PC, 0xF80D);
    WriteRegisterWord(RegisterType::SP, 0xA45D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1A7D, 0xE6);
    CheckMemory(0xF80D, 0x12);
}

void test_12_0254()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4B96);
    WriteRegisterWord(RegisterType::SP, 0x2993);
    WriteRegisterByte(RegisterType::A, 0x27);
    WriteRegisterByte(RegisterType::B, 0x00);
    WriteRegisterByte(RegisterType::C, 0x5F);
    WriteRegisterByte(RegisterType::D, 0x17);
    WriteRegisterByte(RegisterType::E, 0x01);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xEC);
    WriteRegisterByte(RegisterType::L, 0x31);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1701, 0x00);
    WriteMemory(0x4B96, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x27);
    CheckRegisterByte(RegisterType::B, 0x00);
    CheckRegisterByte(RegisterType::C, 0x5F);
    CheckRegisterByte(RegisterType::D, 0x17);
    CheckRegisterByte(RegisterType::E, 0x01);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xEC);
    CheckRegisterByte(RegisterType::L, 0x31);
    WriteRegisterWord(RegisterType::PC, 0x4B96);
    WriteRegisterWord(RegisterType::SP, 0x2993);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1701, 0x27);
    CheckMemory(0x4B96, 0x12);
}

void test_12_0255()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x039A);
    WriteRegisterWord(RegisterType::SP, 0xAC7B);
    WriteRegisterByte(RegisterType::A, 0x19);
    WriteRegisterByte(RegisterType::B, 0xBE);
    WriteRegisterByte(RegisterType::C, 0x61);
    WriteRegisterByte(RegisterType::D, 0x38);
    WriteRegisterByte(RegisterType::E, 0xE0);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x02);
    WriteRegisterByte(RegisterType::L, 0x21);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x039A, 0x12);
    WriteMemory(0x38E0, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x19);
    CheckRegisterByte(RegisterType::B, 0xBE);
    CheckRegisterByte(RegisterType::C, 0x61);
    CheckRegisterByte(RegisterType::D, 0x38);
    CheckRegisterByte(RegisterType::E, 0xE0);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x02);
    CheckRegisterByte(RegisterType::L, 0x21);
    WriteRegisterWord(RegisterType::PC, 0x039A);
    WriteRegisterWord(RegisterType::SP, 0xAC7B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x039A, 0x12);
    CheckMemory(0x38E0, 0x19);
}

void test_12_0256()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEEEB);
    WriteRegisterWord(RegisterType::SP, 0x9D0E);
    WriteRegisterByte(RegisterType::A, 0x06);
    WriteRegisterByte(RegisterType::B, 0xBD);
    WriteRegisterByte(RegisterType::C, 0x58);
    WriteRegisterByte(RegisterType::D, 0x05);
    WriteRegisterByte(RegisterType::E, 0x46);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x44);
    WriteRegisterByte(RegisterType::L, 0x16);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0546, 0x00);
    WriteMemory(0xEEEB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x06);
    CheckRegisterByte(RegisterType::B, 0xBD);
    CheckRegisterByte(RegisterType::C, 0x58);
    CheckRegisterByte(RegisterType::D, 0x05);
    CheckRegisterByte(RegisterType::E, 0x46);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x44);
    CheckRegisterByte(RegisterType::L, 0x16);
    WriteRegisterWord(RegisterType::PC, 0xEEEB);
    WriteRegisterWord(RegisterType::SP, 0x9D0E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0546, 0x06);
    CheckMemory(0xEEEB, 0x12);
}

void test_12_0257()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0905);
    WriteRegisterWord(RegisterType::SP, 0xA1FE);
    WriteRegisterByte(RegisterType::A, 0x46);
    WriteRegisterByte(RegisterType::B, 0x56);
    WriteRegisterByte(RegisterType::C, 0xC7);
    WriteRegisterByte(RegisterType::D, 0x3F);
    WriteRegisterByte(RegisterType::E, 0xEA);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x99);
    WriteRegisterByte(RegisterType::L, 0x38);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0905, 0x12);
    WriteMemory(0x3FEA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x46);
    CheckRegisterByte(RegisterType::B, 0x56);
    CheckRegisterByte(RegisterType::C, 0xC7);
    CheckRegisterByte(RegisterType::D, 0x3F);
    CheckRegisterByte(RegisterType::E, 0xEA);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x99);
    CheckRegisterByte(RegisterType::L, 0x38);
    WriteRegisterWord(RegisterType::PC, 0x0905);
    WriteRegisterWord(RegisterType::SP, 0xA1FE);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0905, 0x12);
    CheckMemory(0x3FEA, 0x46);
}

void test_12_0258()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD30E);
    WriteRegisterWord(RegisterType::SP, 0x3816);
    WriteRegisterByte(RegisterType::A, 0x0F);
    WriteRegisterByte(RegisterType::B, 0x18);
    WriteRegisterByte(RegisterType::C, 0x77);
    WriteRegisterByte(RegisterType::D, 0x84);
    WriteRegisterByte(RegisterType::E, 0x60);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xFF);
    WriteRegisterByte(RegisterType::L, 0x9F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x8460, 0x00);
    WriteMemory(0xD30E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0F);
    CheckRegisterByte(RegisterType::B, 0x18);
    CheckRegisterByte(RegisterType::C, 0x77);
    CheckRegisterByte(RegisterType::D, 0x84);
    CheckRegisterByte(RegisterType::E, 0x60);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xFF);
    CheckRegisterByte(RegisterType::L, 0x9F);
    WriteRegisterWord(RegisterType::PC, 0xD30E);
    WriteRegisterWord(RegisterType::SP, 0x3816);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x8460, 0x0F);
    CheckMemory(0xD30E, 0x12);
}

void test_12_0259()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2EA3);
    WriteRegisterWord(RegisterType::SP, 0x75D3);
    WriteRegisterByte(RegisterType::A, 0xFF);
    WriteRegisterByte(RegisterType::B, 0x41);
    WriteRegisterByte(RegisterType::C, 0x49);
    WriteRegisterByte(RegisterType::D, 0x0C);
    WriteRegisterByte(RegisterType::E, 0x3B);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x02);
    WriteRegisterByte(RegisterType::L, 0x5C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0C3B, 0x00);
    WriteMemory(0x2EA3, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFF);
    CheckRegisterByte(RegisterType::B, 0x41);
    CheckRegisterByte(RegisterType::C, 0x49);
    CheckRegisterByte(RegisterType::D, 0x0C);
    CheckRegisterByte(RegisterType::E, 0x3B);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x02);
    CheckRegisterByte(RegisterType::L, 0x5C);
    WriteRegisterWord(RegisterType::PC, 0x2EA3);
    WriteRegisterWord(RegisterType::SP, 0x75D3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0C3B, 0xFF);
    CheckMemory(0x2EA3, 0x12);
}

void test_12_025A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFEFE);
    WriteRegisterWord(RegisterType::SP, 0xA12F);
    WriteRegisterByte(RegisterType::A, 0x02);
    WriteRegisterByte(RegisterType::B, 0x20);
    WriteRegisterByte(RegisterType::C, 0x40);
    WriteRegisterByte(RegisterType::D, 0xDC);
    WriteRegisterByte(RegisterType::E, 0xC3);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xA1);
    WriteRegisterByte(RegisterType::L, 0x4D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xDCC3, 0x00);
    WriteMemory(0xFEFE, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x02);
    CheckRegisterByte(RegisterType::B, 0x20);
    CheckRegisterByte(RegisterType::C, 0x40);
    CheckRegisterByte(RegisterType::D, 0xDC);
    CheckRegisterByte(RegisterType::E, 0xC3);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xA1);
    CheckRegisterByte(RegisterType::L, 0x4D);
    WriteRegisterWord(RegisterType::PC, 0xFEFE);
    WriteRegisterWord(RegisterType::SP, 0xA12F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xDCC3, 0x02);
    CheckMemory(0xFEFE, 0x12);
}

void test_12_025B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4872);
    WriteRegisterWord(RegisterType::SP, 0xF8F0);
    WriteRegisterByte(RegisterType::A, 0xAC);
    WriteRegisterByte(RegisterType::B, 0x1D);
    WriteRegisterByte(RegisterType::C, 0x6B);
    WriteRegisterByte(RegisterType::D, 0xBA);
    WriteRegisterByte(RegisterType::E, 0x4A);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x2E);
    WriteRegisterByte(RegisterType::L, 0xDB);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4872, 0x12);
    WriteMemory(0xBA4A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAC);
    CheckRegisterByte(RegisterType::B, 0x1D);
    CheckRegisterByte(RegisterType::C, 0x6B);
    CheckRegisterByte(RegisterType::D, 0xBA);
    CheckRegisterByte(RegisterType::E, 0x4A);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x2E);
    CheckRegisterByte(RegisterType::L, 0xDB);
    WriteRegisterWord(RegisterType::PC, 0x4872);
    WriteRegisterWord(RegisterType::SP, 0xF8F0);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4872, 0x12);
    CheckMemory(0xBA4A, 0xAC);
}

void test_12_025C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC2CA);
    WriteRegisterWord(RegisterType::SP, 0xA8D5);
    WriteRegisterByte(RegisterType::A, 0xBC);
    WriteRegisterByte(RegisterType::B, 0xC5);
    WriteRegisterByte(RegisterType::C, 0xCA);
    WriteRegisterByte(RegisterType::D, 0xF3);
    WriteRegisterByte(RegisterType::E, 0x0C);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x4A);
    WriteRegisterByte(RegisterType::L, 0x81);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xC2CA, 0x12);
    WriteMemory(0xF30C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBC);
    CheckRegisterByte(RegisterType::B, 0xC5);
    CheckRegisterByte(RegisterType::C, 0xCA);
    CheckRegisterByte(RegisterType::D, 0xF3);
    CheckRegisterByte(RegisterType::E, 0x0C);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x4A);
    CheckRegisterByte(RegisterType::L, 0x81);
    WriteRegisterWord(RegisterType::PC, 0xC2CA);
    WriteRegisterWord(RegisterType::SP, 0xA8D5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xC2CA, 0x12);
    CheckMemory(0xF30C, 0xBC);
}

void test_12_025D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6043);
    WriteRegisterWord(RegisterType::SP, 0x70AC);
    WriteRegisterByte(RegisterType::A, 0x5A);
    WriteRegisterByte(RegisterType::B, 0x2B);
    WriteRegisterByte(RegisterType::C, 0xD8);
    WriteRegisterByte(RegisterType::D, 0x1D);
    WriteRegisterByte(RegisterType::E, 0x04);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xE1);
    WriteRegisterByte(RegisterType::L, 0x1F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1D04, 0x00);
    WriteMemory(0x6043, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5A);
    CheckRegisterByte(RegisterType::B, 0x2B);
    CheckRegisterByte(RegisterType::C, 0xD8);
    CheckRegisterByte(RegisterType::D, 0x1D);
    CheckRegisterByte(RegisterType::E, 0x04);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xE1);
    CheckRegisterByte(RegisterType::L, 0x1F);
    WriteRegisterWord(RegisterType::PC, 0x6043);
    WriteRegisterWord(RegisterType::SP, 0x70AC);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1D04, 0x5A);
    CheckMemory(0x6043, 0x12);
}

void test_12_025E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD5BE);
    WriteRegisterWord(RegisterType::SP, 0xB83F);
    WriteRegisterByte(RegisterType::A, 0xB9);
    WriteRegisterByte(RegisterType::B, 0x52);
    WriteRegisterByte(RegisterType::C, 0xAE);
    WriteRegisterByte(RegisterType::D, 0x9F);
    WriteRegisterByte(RegisterType::E, 0x45);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xB2);
    WriteRegisterByte(RegisterType::L, 0xDA);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9F45, 0x00);
    WriteMemory(0xD5BE, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB9);
    CheckRegisterByte(RegisterType::B, 0x52);
    CheckRegisterByte(RegisterType::C, 0xAE);
    CheckRegisterByte(RegisterType::D, 0x9F);
    CheckRegisterByte(RegisterType::E, 0x45);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xB2);
    CheckRegisterByte(RegisterType::L, 0xDA);
    WriteRegisterWord(RegisterType::PC, 0xD5BE);
    WriteRegisterWord(RegisterType::SP, 0xB83F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9F45, 0xB9);
    CheckMemory(0xD5BE, 0x12);
}

void test_12_025F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4CC7);
    WriteRegisterWord(RegisterType::SP, 0x16A2);
    WriteRegisterByte(RegisterType::A, 0x43);
    WriteRegisterByte(RegisterType::B, 0x1D);
    WriteRegisterByte(RegisterType::C, 0x19);
    WriteRegisterByte(RegisterType::D, 0xCC);
    WriteRegisterByte(RegisterType::E, 0xA5);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x26);
    WriteRegisterByte(RegisterType::L, 0x1C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4CC7, 0x12);
    WriteMemory(0xCCA5, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x43);
    CheckRegisterByte(RegisterType::B, 0x1D);
    CheckRegisterByte(RegisterType::C, 0x19);
    CheckRegisterByte(RegisterType::D, 0xCC);
    CheckRegisterByte(RegisterType::E, 0xA5);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x26);
    CheckRegisterByte(RegisterType::L, 0x1C);
    WriteRegisterWord(RegisterType::PC, 0x4CC7);
    WriteRegisterWord(RegisterType::SP, 0x16A2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4CC7, 0x12);
    CheckMemory(0xCCA5, 0x43);
}

void test_12_0260()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x06DA);
    WriteRegisterWord(RegisterType::SP, 0x0A5A);
    WriteRegisterByte(RegisterType::A, 0x40);
    WriteRegisterByte(RegisterType::B, 0x59);
    WriteRegisterByte(RegisterType::C, 0x1A);
    WriteRegisterByte(RegisterType::D, 0x5C);
    WriteRegisterByte(RegisterType::E, 0x97);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x36);
    WriteRegisterByte(RegisterType::L, 0xC9);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x06DA, 0x12);
    WriteMemory(0x5C97, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x40);
    CheckRegisterByte(RegisterType::B, 0x59);
    CheckRegisterByte(RegisterType::C, 0x1A);
    CheckRegisterByte(RegisterType::D, 0x5C);
    CheckRegisterByte(RegisterType::E, 0x97);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x36);
    CheckRegisterByte(RegisterType::L, 0xC9);
    WriteRegisterWord(RegisterType::PC, 0x06DA);
    WriteRegisterWord(RegisterType::SP, 0x0A5A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x06DA, 0x12);
    CheckMemory(0x5C97, 0x40);
}

void test_12_0261()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD087);
    WriteRegisterWord(RegisterType::SP, 0xD7BD);
    WriteRegisterByte(RegisterType::A, 0x0F);
    WriteRegisterByte(RegisterType::B, 0xB2);
    WriteRegisterByte(RegisterType::C, 0x96);
    WriteRegisterByte(RegisterType::D, 0x17);
    WriteRegisterByte(RegisterType::E, 0x59);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x9C);
    WriteRegisterByte(RegisterType::L, 0x7B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1759, 0x00);
    WriteMemory(0xD087, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0F);
    CheckRegisterByte(RegisterType::B, 0xB2);
    CheckRegisterByte(RegisterType::C, 0x96);
    CheckRegisterByte(RegisterType::D, 0x17);
    CheckRegisterByte(RegisterType::E, 0x59);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x9C);
    CheckRegisterByte(RegisterType::L, 0x7B);
    WriteRegisterWord(RegisterType::PC, 0xD087);
    WriteRegisterWord(RegisterType::SP, 0xD7BD);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1759, 0x0F);
    CheckMemory(0xD087, 0x12);
}

void test_12_0262()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0744);
    WriteRegisterWord(RegisterType::SP, 0x721C);
    WriteRegisterByte(RegisterType::A, 0x17);
    WriteRegisterByte(RegisterType::B, 0xFB);
    WriteRegisterByte(RegisterType::C, 0xB8);
    WriteRegisterByte(RegisterType::D, 0x40);
    WriteRegisterByte(RegisterType::E, 0x6A);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x81);
    WriteRegisterByte(RegisterType::L, 0x10);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0744, 0x12);
    WriteMemory(0x406A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x17);
    CheckRegisterByte(RegisterType::B, 0xFB);
    CheckRegisterByte(RegisterType::C, 0xB8);
    CheckRegisterByte(RegisterType::D, 0x40);
    CheckRegisterByte(RegisterType::E, 0x6A);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x81);
    CheckRegisterByte(RegisterType::L, 0x10);
    WriteRegisterWord(RegisterType::PC, 0x0744);
    WriteRegisterWord(RegisterType::SP, 0x721C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0744, 0x12);
    CheckMemory(0x406A, 0x17);
}

void test_12_0263()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE2B4);
    WriteRegisterWord(RegisterType::SP, 0x66DE);
    WriteRegisterByte(RegisterType::A, 0xD8);
    WriteRegisterByte(RegisterType::B, 0xDE);
    WriteRegisterByte(RegisterType::C, 0x40);
    WriteRegisterByte(RegisterType::D, 0x51);
    WriteRegisterByte(RegisterType::E, 0x0C);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x31);
    WriteRegisterByte(RegisterType::L, 0x92);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x510C, 0x00);
    WriteMemory(0xE2B4, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD8);
    CheckRegisterByte(RegisterType::B, 0xDE);
    CheckRegisterByte(RegisterType::C, 0x40);
    CheckRegisterByte(RegisterType::D, 0x51);
    CheckRegisterByte(RegisterType::E, 0x0C);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x31);
    CheckRegisterByte(RegisterType::L, 0x92);
    WriteRegisterWord(RegisterType::PC, 0xE2B4);
    WriteRegisterWord(RegisterType::SP, 0x66DE);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x510C, 0xD8);
    CheckMemory(0xE2B4, 0x12);
}

void test_12_0264()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x154D);
    WriteRegisterWord(RegisterType::SP, 0x167B);
    WriteRegisterByte(RegisterType::A, 0xAB);
    WriteRegisterByte(RegisterType::B, 0xCA);
    WriteRegisterByte(RegisterType::C, 0x3F);
    WriteRegisterByte(RegisterType::D, 0x98);
    WriteRegisterByte(RegisterType::E, 0x84);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x55);
    WriteRegisterByte(RegisterType::L, 0xF5);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x154D, 0x12);
    WriteMemory(0x9884, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAB);
    CheckRegisterByte(RegisterType::B, 0xCA);
    CheckRegisterByte(RegisterType::C, 0x3F);
    CheckRegisterByte(RegisterType::D, 0x98);
    CheckRegisterByte(RegisterType::E, 0x84);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x55);
    CheckRegisterByte(RegisterType::L, 0xF5);
    WriteRegisterWord(RegisterType::PC, 0x154D);
    WriteRegisterWord(RegisterType::SP, 0x167B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x154D, 0x12);
    CheckMemory(0x9884, 0xAB);
}

void test_12_0265()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x10EF);
    WriteRegisterWord(RegisterType::SP, 0xD57E);
    WriteRegisterByte(RegisterType::A, 0x1B);
    WriteRegisterByte(RegisterType::B, 0xE7);
    WriteRegisterByte(RegisterType::C, 0x69);
    WriteRegisterByte(RegisterType::D, 0x5E);
    WriteRegisterByte(RegisterType::E, 0x4D);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x82);
    WriteRegisterByte(RegisterType::L, 0x3E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x10EF, 0x12);
    WriteMemory(0x5E4D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1B);
    CheckRegisterByte(RegisterType::B, 0xE7);
    CheckRegisterByte(RegisterType::C, 0x69);
    CheckRegisterByte(RegisterType::D, 0x5E);
    CheckRegisterByte(RegisterType::E, 0x4D);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x82);
    CheckRegisterByte(RegisterType::L, 0x3E);
    WriteRegisterWord(RegisterType::PC, 0x10EF);
    WriteRegisterWord(RegisterType::SP, 0xD57E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x10EF, 0x12);
    CheckMemory(0x5E4D, 0x1B);
}

void test_12_0266()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBE57);
    WriteRegisterWord(RegisterType::SP, 0xC87A);
    WriteRegisterByte(RegisterType::A, 0xA1);
    WriteRegisterByte(RegisterType::B, 0x0E);
    WriteRegisterByte(RegisterType::C, 0x2E);
    WriteRegisterByte(RegisterType::D, 0xD4);
    WriteRegisterByte(RegisterType::E, 0xEE);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x9D);
    WriteRegisterByte(RegisterType::L, 0xD0);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xBE57, 0x12);
    WriteMemory(0xD4EE, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA1);
    CheckRegisterByte(RegisterType::B, 0x0E);
    CheckRegisterByte(RegisterType::C, 0x2E);
    CheckRegisterByte(RegisterType::D, 0xD4);
    CheckRegisterByte(RegisterType::E, 0xEE);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x9D);
    CheckRegisterByte(RegisterType::L, 0xD0);
    WriteRegisterWord(RegisterType::PC, 0xBE57);
    WriteRegisterWord(RegisterType::SP, 0xC87A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xBE57, 0x12);
    CheckMemory(0xD4EE, 0xA1);
}

void test_12_0267()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x142E);
    WriteRegisterWord(RegisterType::SP, 0xB53C);
    WriteRegisterByte(RegisterType::A, 0x6A);
    WriteRegisterByte(RegisterType::B, 0xF2);
    WriteRegisterByte(RegisterType::C, 0x90);
    WriteRegisterByte(RegisterType::D, 0xBA);
    WriteRegisterByte(RegisterType::E, 0x36);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xBE);
    WriteRegisterByte(RegisterType::L, 0x47);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x142E, 0x12);
    WriteMemory(0xBA36, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6A);
    CheckRegisterByte(RegisterType::B, 0xF2);
    CheckRegisterByte(RegisterType::C, 0x90);
    CheckRegisterByte(RegisterType::D, 0xBA);
    CheckRegisterByte(RegisterType::E, 0x36);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xBE);
    CheckRegisterByte(RegisterType::L, 0x47);
    WriteRegisterWord(RegisterType::PC, 0x142E);
    WriteRegisterWord(RegisterType::SP, 0xB53C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x142E, 0x12);
    CheckMemory(0xBA36, 0x6A);
}

void test_12_0268()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1943);
    WriteRegisterWord(RegisterType::SP, 0x5471);
    WriteRegisterByte(RegisterType::A, 0x7B);
    WriteRegisterByte(RegisterType::B, 0x28);
    WriteRegisterByte(RegisterType::C, 0xC3);
    WriteRegisterByte(RegisterType::D, 0xD1);
    WriteRegisterByte(RegisterType::E, 0x72);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x36);
    WriteRegisterByte(RegisterType::L, 0xD4);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1943, 0x12);
    WriteMemory(0xD172, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7B);
    CheckRegisterByte(RegisterType::B, 0x28);
    CheckRegisterByte(RegisterType::C, 0xC3);
    CheckRegisterByte(RegisterType::D, 0xD1);
    CheckRegisterByte(RegisterType::E, 0x72);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x36);
    CheckRegisterByte(RegisterType::L, 0xD4);
    WriteRegisterWord(RegisterType::PC, 0x1943);
    WriteRegisterWord(RegisterType::SP, 0x5471);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1943, 0x12);
    CheckMemory(0xD172, 0x7B);
}

void test_12_0269()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA80E);
    WriteRegisterWord(RegisterType::SP, 0xF543);
    WriteRegisterByte(RegisterType::A, 0x0F);
    WriteRegisterByte(RegisterType::B, 0x22);
    WriteRegisterByte(RegisterType::C, 0xCE);
    WriteRegisterByte(RegisterType::D, 0x88);
    WriteRegisterByte(RegisterType::E, 0xA9);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x1D);
    WriteRegisterByte(RegisterType::L, 0xFD);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x88A9, 0x00);
    WriteMemory(0xA80E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0F);
    CheckRegisterByte(RegisterType::B, 0x22);
    CheckRegisterByte(RegisterType::C, 0xCE);
    CheckRegisterByte(RegisterType::D, 0x88);
    CheckRegisterByte(RegisterType::E, 0xA9);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x1D);
    CheckRegisterByte(RegisterType::L, 0xFD);
    WriteRegisterWord(RegisterType::PC, 0xA80E);
    WriteRegisterWord(RegisterType::SP, 0xF543);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x88A9, 0x0F);
    CheckMemory(0xA80E, 0x12);
}

void test_12_026A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x280E);
    WriteRegisterWord(RegisterType::SP, 0x3055);
    WriteRegisterByte(RegisterType::A, 0x20);
    WriteRegisterByte(RegisterType::B, 0xE3);
    WriteRegisterByte(RegisterType::C, 0x2D);
    WriteRegisterByte(RegisterType::D, 0x2A);
    WriteRegisterByte(RegisterType::E, 0xE7);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x57);
    WriteRegisterByte(RegisterType::L, 0x56);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x280E, 0x12);
    WriteMemory(0x2AE7, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x20);
    CheckRegisterByte(RegisterType::B, 0xE3);
    CheckRegisterByte(RegisterType::C, 0x2D);
    CheckRegisterByte(RegisterType::D, 0x2A);
    CheckRegisterByte(RegisterType::E, 0xE7);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x57);
    CheckRegisterByte(RegisterType::L, 0x56);
    WriteRegisterWord(RegisterType::PC, 0x280E);
    WriteRegisterWord(RegisterType::SP, 0x3055);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x280E, 0x12);
    CheckMemory(0x2AE7, 0x20);
}

void test_12_026B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA4F1);
    WriteRegisterWord(RegisterType::SP, 0x126C);
    WriteRegisterByte(RegisterType::A, 0xE8);
    WriteRegisterByte(RegisterType::B, 0x68);
    WriteRegisterByte(RegisterType::C, 0x02);
    WriteRegisterByte(RegisterType::D, 0xE0);
    WriteRegisterByte(RegisterType::E, 0x6E);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x56);
    WriteRegisterByte(RegisterType::L, 0xA7);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xA4F1, 0x12);
    WriteMemory(0xE06E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE8);
    CheckRegisterByte(RegisterType::B, 0x68);
    CheckRegisterByte(RegisterType::C, 0x02);
    CheckRegisterByte(RegisterType::D, 0xE0);
    CheckRegisterByte(RegisterType::E, 0x6E);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x56);
    CheckRegisterByte(RegisterType::L, 0xA7);
    WriteRegisterWord(RegisterType::PC, 0xA4F1);
    WriteRegisterWord(RegisterType::SP, 0x126C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xA4F1, 0x12);
    CheckMemory(0xE06E, 0xE8);
}

void test_12_026C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF3E0);
    WriteRegisterWord(RegisterType::SP, 0xE02F);
    WriteRegisterByte(RegisterType::A, 0xD3);
    WriteRegisterByte(RegisterType::B, 0xA9);
    WriteRegisterByte(RegisterType::C, 0x72);
    WriteRegisterByte(RegisterType::D, 0x2B);
    WriteRegisterByte(RegisterType::E, 0xFE);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x19);
    WriteRegisterByte(RegisterType::L, 0xC3);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2BFE, 0x00);
    WriteMemory(0xF3E0, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD3);
    CheckRegisterByte(RegisterType::B, 0xA9);
    CheckRegisterByte(RegisterType::C, 0x72);
    CheckRegisterByte(RegisterType::D, 0x2B);
    CheckRegisterByte(RegisterType::E, 0xFE);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x19);
    CheckRegisterByte(RegisterType::L, 0xC3);
    WriteRegisterWord(RegisterType::PC, 0xF3E0);
    WriteRegisterWord(RegisterType::SP, 0xE02F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2BFE, 0xD3);
    CheckMemory(0xF3E0, 0x12);
}

void test_12_026D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2C36);
    WriteRegisterWord(RegisterType::SP, 0xB74F);
    WriteRegisterByte(RegisterType::A, 0xD4);
    WriteRegisterByte(RegisterType::B, 0x3A);
    WriteRegisterByte(RegisterType::C, 0x14);
    WriteRegisterByte(RegisterType::D, 0xDE);
    WriteRegisterByte(RegisterType::E, 0x67);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x87);
    WriteRegisterByte(RegisterType::L, 0x6D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2C36, 0x12);
    WriteMemory(0xDE67, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD4);
    CheckRegisterByte(RegisterType::B, 0x3A);
    CheckRegisterByte(RegisterType::C, 0x14);
    CheckRegisterByte(RegisterType::D, 0xDE);
    CheckRegisterByte(RegisterType::E, 0x67);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x87);
    CheckRegisterByte(RegisterType::L, 0x6D);
    WriteRegisterWord(RegisterType::PC, 0x2C36);
    WriteRegisterWord(RegisterType::SP, 0xB74F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2C36, 0x12);
    CheckMemory(0xDE67, 0xD4);
}

void test_12_026E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAECD);
    WriteRegisterWord(RegisterType::SP, 0x0BE1);
    WriteRegisterByte(RegisterType::A, 0x1B);
    WriteRegisterByte(RegisterType::B, 0xF4);
    WriteRegisterByte(RegisterType::C, 0xDD);
    WriteRegisterByte(RegisterType::D, 0x0D);
    WriteRegisterByte(RegisterType::E, 0xCB);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x6F);
    WriteRegisterByte(RegisterType::L, 0x4E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0DCB, 0x00);
    WriteMemory(0xAECD, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1B);
    CheckRegisterByte(RegisterType::B, 0xF4);
    CheckRegisterByte(RegisterType::C, 0xDD);
    CheckRegisterByte(RegisterType::D, 0x0D);
    CheckRegisterByte(RegisterType::E, 0xCB);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x6F);
    CheckRegisterByte(RegisterType::L, 0x4E);
    WriteRegisterWord(RegisterType::PC, 0xAECD);
    WriteRegisterWord(RegisterType::SP, 0x0BE1);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0DCB, 0x1B);
    CheckMemory(0xAECD, 0x12);
}

void test_12_026F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDBA9);
    WriteRegisterWord(RegisterType::SP, 0x2887);
    WriteRegisterByte(RegisterType::A, 0x4E);
    WriteRegisterByte(RegisterType::B, 0x60);
    WriteRegisterByte(RegisterType::C, 0x82);
    WriteRegisterByte(RegisterType::D, 0x71);
    WriteRegisterByte(RegisterType::E, 0xFC);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x94);
    WriteRegisterByte(RegisterType::L, 0x4D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x71FC, 0x00);
    WriteMemory(0xDBA9, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4E);
    CheckRegisterByte(RegisterType::B, 0x60);
    CheckRegisterByte(RegisterType::C, 0x82);
    CheckRegisterByte(RegisterType::D, 0x71);
    CheckRegisterByte(RegisterType::E, 0xFC);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x94);
    CheckRegisterByte(RegisterType::L, 0x4D);
    WriteRegisterWord(RegisterType::PC, 0xDBA9);
    WriteRegisterWord(RegisterType::SP, 0x2887);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x71FC, 0x4E);
    CheckMemory(0xDBA9, 0x12);
}

void test_12_0270()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBE1E);
    WriteRegisterWord(RegisterType::SP, 0xBA67);
    WriteRegisterByte(RegisterType::A, 0x8C);
    WriteRegisterByte(RegisterType::B, 0x0F);
    WriteRegisterByte(RegisterType::C, 0xCB);
    WriteRegisterByte(RegisterType::D, 0x65);
    WriteRegisterByte(RegisterType::E, 0x87);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xD4);
    WriteRegisterByte(RegisterType::L, 0x70);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6587, 0x00);
    WriteMemory(0xBE1E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8C);
    CheckRegisterByte(RegisterType::B, 0x0F);
    CheckRegisterByte(RegisterType::C, 0xCB);
    CheckRegisterByte(RegisterType::D, 0x65);
    CheckRegisterByte(RegisterType::E, 0x87);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xD4);
    CheckRegisterByte(RegisterType::L, 0x70);
    WriteRegisterWord(RegisterType::PC, 0xBE1E);
    WriteRegisterWord(RegisterType::SP, 0xBA67);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6587, 0x8C);
    CheckMemory(0xBE1E, 0x12);
}

void test_12_0271()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBD95);
    WriteRegisterWord(RegisterType::SP, 0x7B2D);
    WriteRegisterByte(RegisterType::A, 0x8C);
    WriteRegisterByte(RegisterType::B, 0xCD);
    WriteRegisterByte(RegisterType::C, 0x48);
    WriteRegisterByte(RegisterType::D, 0x61);
    WriteRegisterByte(RegisterType::E, 0x62);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x4C);
    WriteRegisterByte(RegisterType::L, 0xAB);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6162, 0x00);
    WriteMemory(0xBD95, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8C);
    CheckRegisterByte(RegisterType::B, 0xCD);
    CheckRegisterByte(RegisterType::C, 0x48);
    CheckRegisterByte(RegisterType::D, 0x61);
    CheckRegisterByte(RegisterType::E, 0x62);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x4C);
    CheckRegisterByte(RegisterType::L, 0xAB);
    WriteRegisterWord(RegisterType::PC, 0xBD95);
    WriteRegisterWord(RegisterType::SP, 0x7B2D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6162, 0x8C);
    CheckMemory(0xBD95, 0x12);
}

void test_12_0272()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7256);
    WriteRegisterWord(RegisterType::SP, 0xEB07);
    WriteRegisterByte(RegisterType::A, 0xBD);
    WriteRegisterByte(RegisterType::B, 0x0B);
    WriteRegisterByte(RegisterType::C, 0x08);
    WriteRegisterByte(RegisterType::D, 0x7E);
    WriteRegisterByte(RegisterType::E, 0x9E);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x5C);
    WriteRegisterByte(RegisterType::L, 0x8E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7256, 0x12);
    WriteMemory(0x7E9E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBD);
    CheckRegisterByte(RegisterType::B, 0x0B);
    CheckRegisterByte(RegisterType::C, 0x08);
    CheckRegisterByte(RegisterType::D, 0x7E);
    CheckRegisterByte(RegisterType::E, 0x9E);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x5C);
    CheckRegisterByte(RegisterType::L, 0x8E);
    WriteRegisterWord(RegisterType::PC, 0x7256);
    WriteRegisterWord(RegisterType::SP, 0xEB07);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7256, 0x12);
    CheckMemory(0x7E9E, 0xBD);
}

void test_12_0273()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDCCC);
    WriteRegisterWord(RegisterType::SP, 0x694E);
    WriteRegisterByte(RegisterType::A, 0x61);
    WriteRegisterByte(RegisterType::B, 0xA3);
    WriteRegisterByte(RegisterType::C, 0x09);
    WriteRegisterByte(RegisterType::D, 0xEB);
    WriteRegisterByte(RegisterType::E, 0xC6);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x95);
    WriteRegisterByte(RegisterType::L, 0xC4);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xDCCC, 0x12);
    WriteMemory(0xEBC6, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x61);
    CheckRegisterByte(RegisterType::B, 0xA3);
    CheckRegisterByte(RegisterType::C, 0x09);
    CheckRegisterByte(RegisterType::D, 0xEB);
    CheckRegisterByte(RegisterType::E, 0xC6);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x95);
    CheckRegisterByte(RegisterType::L, 0xC4);
    WriteRegisterWord(RegisterType::PC, 0xDCCC);
    WriteRegisterWord(RegisterType::SP, 0x694E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xDCCC, 0x12);
    CheckMemory(0xEBC6, 0x61);
}

void test_12_0274()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x922C);
    WriteRegisterWord(RegisterType::SP, 0x6217);
    WriteRegisterByte(RegisterType::A, 0xFC);
    WriteRegisterByte(RegisterType::B, 0xE0);
    WriteRegisterByte(RegisterType::C, 0x4D);
    WriteRegisterByte(RegisterType::D, 0xB7);
    WriteRegisterByte(RegisterType::E, 0xFE);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x1E);
    WriteRegisterByte(RegisterType::L, 0x20);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x922C, 0x12);
    WriteMemory(0xB7FE, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFC);
    CheckRegisterByte(RegisterType::B, 0xE0);
    CheckRegisterByte(RegisterType::C, 0x4D);
    CheckRegisterByte(RegisterType::D, 0xB7);
    CheckRegisterByte(RegisterType::E, 0xFE);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x1E);
    CheckRegisterByte(RegisterType::L, 0x20);
    WriteRegisterWord(RegisterType::PC, 0x922C);
    WriteRegisterWord(RegisterType::SP, 0x6217);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x922C, 0x12);
    CheckMemory(0xB7FE, 0xFC);
}

void test_12_0275()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x689E);
    WriteRegisterWord(RegisterType::SP, 0xE354);
    WriteRegisterByte(RegisterType::A, 0xEB);
    WriteRegisterByte(RegisterType::B, 0x88);
    WriteRegisterByte(RegisterType::C, 0x05);
    WriteRegisterByte(RegisterType::D, 0x83);
    WriteRegisterByte(RegisterType::E, 0x7A);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xD5);
    WriteRegisterByte(RegisterType::L, 0x8D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x689E, 0x12);
    WriteMemory(0x837A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xEB);
    CheckRegisterByte(RegisterType::B, 0x88);
    CheckRegisterByte(RegisterType::C, 0x05);
    CheckRegisterByte(RegisterType::D, 0x83);
    CheckRegisterByte(RegisterType::E, 0x7A);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xD5);
    CheckRegisterByte(RegisterType::L, 0x8D);
    WriteRegisterWord(RegisterType::PC, 0x689E);
    WriteRegisterWord(RegisterType::SP, 0xE354);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x689E, 0x12);
    CheckMemory(0x837A, 0xEB);
}

void test_12_0276()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7B1C);
    WriteRegisterWord(RegisterType::SP, 0x6722);
    WriteRegisterByte(RegisterType::A, 0x5F);
    WriteRegisterByte(RegisterType::B, 0xAC);
    WriteRegisterByte(RegisterType::C, 0x12);
    WriteRegisterByte(RegisterType::D, 0x41);
    WriteRegisterByte(RegisterType::E, 0xBD);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xDC);
    WriteRegisterByte(RegisterType::L, 0x6C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x41BD, 0x00);
    WriteMemory(0x7B1C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5F);
    CheckRegisterByte(RegisterType::B, 0xAC);
    CheckRegisterByte(RegisterType::C, 0x12);
    CheckRegisterByte(RegisterType::D, 0x41);
    CheckRegisterByte(RegisterType::E, 0xBD);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xDC);
    CheckRegisterByte(RegisterType::L, 0x6C);
    WriteRegisterWord(RegisterType::PC, 0x7B1C);
    WriteRegisterWord(RegisterType::SP, 0x6722);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x41BD, 0x5F);
    CheckMemory(0x7B1C, 0x12);
}

void test_12_0277()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9317);
    WriteRegisterWord(RegisterType::SP, 0x839A);
    WriteRegisterByte(RegisterType::A, 0x9B);
    WriteRegisterByte(RegisterType::B, 0xE3);
    WriteRegisterByte(RegisterType::C, 0x8C);
    WriteRegisterByte(RegisterType::D, 0xE2);
    WriteRegisterByte(RegisterType::E, 0x41);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x27);
    WriteRegisterByte(RegisterType::L, 0x58);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9317, 0x12);
    WriteMemory(0xE241, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9B);
    CheckRegisterByte(RegisterType::B, 0xE3);
    CheckRegisterByte(RegisterType::C, 0x8C);
    CheckRegisterByte(RegisterType::D, 0xE2);
    CheckRegisterByte(RegisterType::E, 0x41);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x27);
    CheckRegisterByte(RegisterType::L, 0x58);
    WriteRegisterWord(RegisterType::PC, 0x9317);
    WriteRegisterWord(RegisterType::SP, 0x839A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9317, 0x12);
    CheckMemory(0xE241, 0x9B);
}

void test_12_0278()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3A3F);
    WriteRegisterWord(RegisterType::SP, 0xD218);
    WriteRegisterByte(RegisterType::A, 0x82);
    WriteRegisterByte(RegisterType::B, 0xE8);
    WriteRegisterByte(RegisterType::C, 0x7A);
    WriteRegisterByte(RegisterType::D, 0x53);
    WriteRegisterByte(RegisterType::E, 0xF5);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x8C);
    WriteRegisterByte(RegisterType::L, 0x6A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3A3F, 0x12);
    WriteMemory(0x53F5, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x82);
    CheckRegisterByte(RegisterType::B, 0xE8);
    CheckRegisterByte(RegisterType::C, 0x7A);
    CheckRegisterByte(RegisterType::D, 0x53);
    CheckRegisterByte(RegisterType::E, 0xF5);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x8C);
    CheckRegisterByte(RegisterType::L, 0x6A);
    WriteRegisterWord(RegisterType::PC, 0x3A3F);
    WriteRegisterWord(RegisterType::SP, 0xD218);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3A3F, 0x12);
    CheckMemory(0x53F5, 0x82);
}

void test_12_0279()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4B36);
    WriteRegisterWord(RegisterType::SP, 0xF55D);
    WriteRegisterByte(RegisterType::A, 0x73);
    WriteRegisterByte(RegisterType::B, 0x5D);
    WriteRegisterByte(RegisterType::C, 0x24);
    WriteRegisterByte(RegisterType::D, 0xC9);
    WriteRegisterByte(RegisterType::E, 0x85);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x36);
    WriteRegisterByte(RegisterType::L, 0x1D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4B36, 0x12);
    WriteMemory(0xC985, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x73);
    CheckRegisterByte(RegisterType::B, 0x5D);
    CheckRegisterByte(RegisterType::C, 0x24);
    CheckRegisterByte(RegisterType::D, 0xC9);
    CheckRegisterByte(RegisterType::E, 0x85);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x36);
    CheckRegisterByte(RegisterType::L, 0x1D);
    WriteRegisterWord(RegisterType::PC, 0x4B36);
    WriteRegisterWord(RegisterType::SP, 0xF55D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4B36, 0x12);
    CheckMemory(0xC985, 0x73);
}

void test_12_027A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x40D5);
    WriteRegisterWord(RegisterType::SP, 0xE033);
    WriteRegisterByte(RegisterType::A, 0x09);
    WriteRegisterByte(RegisterType::B, 0x05);
    WriteRegisterByte(RegisterType::C, 0xA9);
    WriteRegisterByte(RegisterType::D, 0x6A);
    WriteRegisterByte(RegisterType::E, 0xAA);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xD1);
    WriteRegisterByte(RegisterType::L, 0x9C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x40D5, 0x12);
    WriteMemory(0x6AAA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x09);
    CheckRegisterByte(RegisterType::B, 0x05);
    CheckRegisterByte(RegisterType::C, 0xA9);
    CheckRegisterByte(RegisterType::D, 0x6A);
    CheckRegisterByte(RegisterType::E, 0xAA);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xD1);
    CheckRegisterByte(RegisterType::L, 0x9C);
    WriteRegisterWord(RegisterType::PC, 0x40D5);
    WriteRegisterWord(RegisterType::SP, 0xE033);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x40D5, 0x12);
    CheckMemory(0x6AAA, 0x09);
}

void test_12_027B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x358D);
    WriteRegisterWord(RegisterType::SP, 0x9773);
    WriteRegisterByte(RegisterType::A, 0xEC);
    WriteRegisterByte(RegisterType::B, 0xB3);
    WriteRegisterByte(RegisterType::C, 0xE4);
    WriteRegisterByte(RegisterType::D, 0x46);
    WriteRegisterByte(RegisterType::E, 0x5F);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x79);
    WriteRegisterByte(RegisterType::L, 0xDC);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x358D, 0x12);
    WriteMemory(0x465F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xEC);
    CheckRegisterByte(RegisterType::B, 0xB3);
    CheckRegisterByte(RegisterType::C, 0xE4);
    CheckRegisterByte(RegisterType::D, 0x46);
    CheckRegisterByte(RegisterType::E, 0x5F);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x79);
    CheckRegisterByte(RegisterType::L, 0xDC);
    WriteRegisterWord(RegisterType::PC, 0x358D);
    WriteRegisterWord(RegisterType::SP, 0x9773);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x358D, 0x12);
    CheckMemory(0x465F, 0xEC);
}

void test_12_027C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5902);
    WriteRegisterWord(RegisterType::SP, 0xCFDF);
    WriteRegisterByte(RegisterType::A, 0x23);
    WriteRegisterByte(RegisterType::B, 0x4F);
    WriteRegisterByte(RegisterType::C, 0xFF);
    WriteRegisterByte(RegisterType::D, 0x17);
    WriteRegisterByte(RegisterType::E, 0x2A);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x84);
    WriteRegisterByte(RegisterType::L, 0xDA);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x172A, 0x00);
    WriteMemory(0x5902, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x23);
    CheckRegisterByte(RegisterType::B, 0x4F);
    CheckRegisterByte(RegisterType::C, 0xFF);
    CheckRegisterByte(RegisterType::D, 0x17);
    CheckRegisterByte(RegisterType::E, 0x2A);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x84);
    CheckRegisterByte(RegisterType::L, 0xDA);
    WriteRegisterWord(RegisterType::PC, 0x5902);
    WriteRegisterWord(RegisterType::SP, 0xCFDF);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x172A, 0x23);
    CheckMemory(0x5902, 0x12);
}

void test_12_027D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x374C);
    WriteRegisterWord(RegisterType::SP, 0xC590);
    WriteRegisterByte(RegisterType::A, 0xEF);
    WriteRegisterByte(RegisterType::B, 0x62);
    WriteRegisterByte(RegisterType::C, 0xE7);
    WriteRegisterByte(RegisterType::D, 0x2F);
    WriteRegisterByte(RegisterType::E, 0xEF);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x05);
    WriteRegisterByte(RegisterType::L, 0xB4);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2FEF, 0x00);
    WriteMemory(0x374C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xEF);
    CheckRegisterByte(RegisterType::B, 0x62);
    CheckRegisterByte(RegisterType::C, 0xE7);
    CheckRegisterByte(RegisterType::D, 0x2F);
    CheckRegisterByte(RegisterType::E, 0xEF);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x05);
    CheckRegisterByte(RegisterType::L, 0xB4);
    WriteRegisterWord(RegisterType::PC, 0x374C);
    WriteRegisterWord(RegisterType::SP, 0xC590);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2FEF, 0xEF);
    CheckMemory(0x374C, 0x12);
}

void test_12_027E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBD2B);
    WriteRegisterWord(RegisterType::SP, 0xDF48);
    WriteRegisterByte(RegisterType::A, 0xCF);
    WriteRegisterByte(RegisterType::B, 0xE4);
    WriteRegisterByte(RegisterType::C, 0x8E);
    WriteRegisterByte(RegisterType::D, 0x01);
    WriteRegisterByte(RegisterType::E, 0x46);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x87);
    WriteRegisterByte(RegisterType::L, 0x17);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0146, 0x00);
    WriteMemory(0xBD2B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCF);
    CheckRegisterByte(RegisterType::B, 0xE4);
    CheckRegisterByte(RegisterType::C, 0x8E);
    CheckRegisterByte(RegisterType::D, 0x01);
    CheckRegisterByte(RegisterType::E, 0x46);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x87);
    CheckRegisterByte(RegisterType::L, 0x17);
    WriteRegisterWord(RegisterType::PC, 0xBD2B);
    WriteRegisterWord(RegisterType::SP, 0xDF48);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0146, 0xCF);
    CheckMemory(0xBD2B, 0x12);
}

void test_12_027F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x96DE);
    WriteRegisterWord(RegisterType::SP, 0xB524);
    WriteRegisterByte(RegisterType::A, 0x98);
    WriteRegisterByte(RegisterType::B, 0xF4);
    WriteRegisterByte(RegisterType::C, 0xBC);
    WriteRegisterByte(RegisterType::D, 0x07);
    WriteRegisterByte(RegisterType::E, 0x28);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x9A);
    WriteRegisterByte(RegisterType::L, 0x6F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0728, 0x00);
    WriteMemory(0x96DE, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x98);
    CheckRegisterByte(RegisterType::B, 0xF4);
    CheckRegisterByte(RegisterType::C, 0xBC);
    CheckRegisterByte(RegisterType::D, 0x07);
    CheckRegisterByte(RegisterType::E, 0x28);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x9A);
    CheckRegisterByte(RegisterType::L, 0x6F);
    WriteRegisterWord(RegisterType::PC, 0x96DE);
    WriteRegisterWord(RegisterType::SP, 0xB524);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0728, 0x98);
    CheckMemory(0x96DE, 0x12);
}

void test_12_0280()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7B98);
    WriteRegisterWord(RegisterType::SP, 0xF455);
    WriteRegisterByte(RegisterType::A, 0x59);
    WriteRegisterByte(RegisterType::B, 0x2D);
    WriteRegisterByte(RegisterType::C, 0x13);
    WriteRegisterByte(RegisterType::D, 0x63);
    WriteRegisterByte(RegisterType::E, 0x14);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x05);
    WriteRegisterByte(RegisterType::L, 0xD8);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6314, 0x00);
    WriteMemory(0x7B98, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x59);
    CheckRegisterByte(RegisterType::B, 0x2D);
    CheckRegisterByte(RegisterType::C, 0x13);
    CheckRegisterByte(RegisterType::D, 0x63);
    CheckRegisterByte(RegisterType::E, 0x14);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x05);
    CheckRegisterByte(RegisterType::L, 0xD8);
    WriteRegisterWord(RegisterType::PC, 0x7B98);
    WriteRegisterWord(RegisterType::SP, 0xF455);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6314, 0x59);
    CheckMemory(0x7B98, 0x12);
}

void test_12_0281()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x961E);
    WriteRegisterWord(RegisterType::SP, 0x0D49);
    WriteRegisterByte(RegisterType::A, 0x95);
    WriteRegisterByte(RegisterType::B, 0x83);
    WriteRegisterByte(RegisterType::C, 0x50);
    WriteRegisterByte(RegisterType::D, 0xB1);
    WriteRegisterByte(RegisterType::E, 0xE6);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x7E);
    WriteRegisterByte(RegisterType::L, 0x2B);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x961E, 0x12);
    WriteMemory(0xB1E6, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x95);
    CheckRegisterByte(RegisterType::B, 0x83);
    CheckRegisterByte(RegisterType::C, 0x50);
    CheckRegisterByte(RegisterType::D, 0xB1);
    CheckRegisterByte(RegisterType::E, 0xE6);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x7E);
    CheckRegisterByte(RegisterType::L, 0x2B);
    WriteRegisterWord(RegisterType::PC, 0x961E);
    WriteRegisterWord(RegisterType::SP, 0x0D49);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x961E, 0x12);
    CheckMemory(0xB1E6, 0x95);
}

void test_12_0282()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC8F0);
    WriteRegisterWord(RegisterType::SP, 0x6DF3);
    WriteRegisterByte(RegisterType::A, 0x22);
    WriteRegisterByte(RegisterType::B, 0x9A);
    WriteRegisterByte(RegisterType::C, 0xA4);
    WriteRegisterByte(RegisterType::D, 0xFA);
    WriteRegisterByte(RegisterType::E, 0x2D);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xDB);
    WriteRegisterByte(RegisterType::L, 0xA6);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xC8F0, 0x12);
    WriteMemory(0xFA2D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x22);
    CheckRegisterByte(RegisterType::B, 0x9A);
    CheckRegisterByte(RegisterType::C, 0xA4);
    CheckRegisterByte(RegisterType::D, 0xFA);
    CheckRegisterByte(RegisterType::E, 0x2D);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xDB);
    CheckRegisterByte(RegisterType::L, 0xA6);
    WriteRegisterWord(RegisterType::PC, 0xC8F0);
    WriteRegisterWord(RegisterType::SP, 0x6DF3);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xC8F0, 0x12);
    CheckMemory(0xFA2D, 0x22);
}

void test_12_0283()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBAFD);
    WriteRegisterWord(RegisterType::SP, 0xB442);
    WriteRegisterByte(RegisterType::A, 0xD5);
    WriteRegisterByte(RegisterType::B, 0x23);
    WriteRegisterByte(RegisterType::C, 0xB6);
    WriteRegisterByte(RegisterType::D, 0xEA);
    WriteRegisterByte(RegisterType::E, 0x76);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xCF);
    WriteRegisterByte(RegisterType::L, 0x12);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xBAFD, 0x12);
    WriteMemory(0xEA76, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD5);
    CheckRegisterByte(RegisterType::B, 0x23);
    CheckRegisterByte(RegisterType::C, 0xB6);
    CheckRegisterByte(RegisterType::D, 0xEA);
    CheckRegisterByte(RegisterType::E, 0x76);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xCF);
    CheckRegisterByte(RegisterType::L, 0x12);
    WriteRegisterWord(RegisterType::PC, 0xBAFD);
    WriteRegisterWord(RegisterType::SP, 0xB442);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xBAFD, 0x12);
    CheckMemory(0xEA76, 0xD5);
}

void test_12_0284()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6120);
    WriteRegisterWord(RegisterType::SP, 0xB384);
    WriteRegisterByte(RegisterType::A, 0x72);
    WriteRegisterByte(RegisterType::B, 0xE6);
    WriteRegisterByte(RegisterType::C, 0x86);
    WriteRegisterByte(RegisterType::D, 0x99);
    WriteRegisterByte(RegisterType::E, 0xFE);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xCC);
    WriteRegisterByte(RegisterType::L, 0x6E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6120, 0x12);
    WriteMemory(0x99FE, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x72);
    CheckRegisterByte(RegisterType::B, 0xE6);
    CheckRegisterByte(RegisterType::C, 0x86);
    CheckRegisterByte(RegisterType::D, 0x99);
    CheckRegisterByte(RegisterType::E, 0xFE);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xCC);
    CheckRegisterByte(RegisterType::L, 0x6E);
    WriteRegisterWord(RegisterType::PC, 0x6120);
    WriteRegisterWord(RegisterType::SP, 0xB384);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6120, 0x12);
    CheckMemory(0x99FE, 0x72);
}

void test_12_0285()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x89DF);
    WriteRegisterWord(RegisterType::SP, 0x7FFF);
    WriteRegisterByte(RegisterType::A, 0x68);
    WriteRegisterByte(RegisterType::B, 0xA3);
    WriteRegisterByte(RegisterType::C, 0xD7);
    WriteRegisterByte(RegisterType::D, 0x15);
    WriteRegisterByte(RegisterType::E, 0x43);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x5A);
    WriteRegisterByte(RegisterType::L, 0xB2);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1543, 0x00);
    WriteMemory(0x89DF, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x68);
    CheckRegisterByte(RegisterType::B, 0xA3);
    CheckRegisterByte(RegisterType::C, 0xD7);
    CheckRegisterByte(RegisterType::D, 0x15);
    CheckRegisterByte(RegisterType::E, 0x43);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x5A);
    CheckRegisterByte(RegisterType::L, 0xB2);
    WriteRegisterWord(RegisterType::PC, 0x89DF);
    WriteRegisterWord(RegisterType::SP, 0x7FFF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1543, 0x68);
    CheckMemory(0x89DF, 0x12);
}

void test_12_0286()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBDD0);
    WriteRegisterWord(RegisterType::SP, 0x13C2);
    WriteRegisterByte(RegisterType::A, 0x42);
    WriteRegisterByte(RegisterType::B, 0xFA);
    WriteRegisterByte(RegisterType::C, 0xBD);
    WriteRegisterByte(RegisterType::D, 0x4E);
    WriteRegisterByte(RegisterType::E, 0xD8);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xD8);
    WriteRegisterByte(RegisterType::L, 0xB1);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4ED8, 0x00);
    WriteMemory(0xBDD0, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x42);
    CheckRegisterByte(RegisterType::B, 0xFA);
    CheckRegisterByte(RegisterType::C, 0xBD);
    CheckRegisterByte(RegisterType::D, 0x4E);
    CheckRegisterByte(RegisterType::E, 0xD8);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xD8);
    CheckRegisterByte(RegisterType::L, 0xB1);
    WriteRegisterWord(RegisterType::PC, 0xBDD0);
    WriteRegisterWord(RegisterType::SP, 0x13C2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4ED8, 0x42);
    CheckMemory(0xBDD0, 0x12);
}

void test_12_0287()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA779);
    WriteRegisterWord(RegisterType::SP, 0xADA7);
    WriteRegisterByte(RegisterType::A, 0x02);
    WriteRegisterByte(RegisterType::B, 0x59);
    WriteRegisterByte(RegisterType::C, 0x91);
    WriteRegisterByte(RegisterType::D, 0xFF);
    WriteRegisterByte(RegisterType::E, 0x51);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x98);
    WriteRegisterByte(RegisterType::L, 0x37);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xA779, 0x12);
    WriteMemory(0xFF51, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x02);
    CheckRegisterByte(RegisterType::B, 0x59);
    CheckRegisterByte(RegisterType::C, 0x91);
    CheckRegisterByte(RegisterType::D, 0xFF);
    CheckRegisterByte(RegisterType::E, 0x51);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x98);
    CheckRegisterByte(RegisterType::L, 0x37);
    WriteRegisterWord(RegisterType::PC, 0xA779);
    WriteRegisterWord(RegisterType::SP, 0xADA7);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xA779, 0x12);
    CheckMemory(0xFF51, 0x02);
}

void test_12_0288()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3292);
    WriteRegisterWord(RegisterType::SP, 0xA15E);
    WriteRegisterByte(RegisterType::A, 0x70);
    WriteRegisterByte(RegisterType::B, 0x09);
    WriteRegisterByte(RegisterType::C, 0x56);
    WriteRegisterByte(RegisterType::D, 0xF2);
    WriteRegisterByte(RegisterType::E, 0xF5);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x98);
    WriteRegisterByte(RegisterType::L, 0x26);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3292, 0x12);
    WriteMemory(0xF2F5, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x70);
    CheckRegisterByte(RegisterType::B, 0x09);
    CheckRegisterByte(RegisterType::C, 0x56);
    CheckRegisterByte(RegisterType::D, 0xF2);
    CheckRegisterByte(RegisterType::E, 0xF5);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x98);
    CheckRegisterByte(RegisterType::L, 0x26);
    WriteRegisterWord(RegisterType::PC, 0x3292);
    WriteRegisterWord(RegisterType::SP, 0xA15E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3292, 0x12);
    CheckMemory(0xF2F5, 0x70);
}

void test_12_0289()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x669F);
    WriteRegisterWord(RegisterType::SP, 0x7698);
    WriteRegisterByte(RegisterType::A, 0x23);
    WriteRegisterByte(RegisterType::B, 0xC4);
    WriteRegisterByte(RegisterType::C, 0xF5);
    WriteRegisterByte(RegisterType::D, 0x52);
    WriteRegisterByte(RegisterType::E, 0x2F);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xC4);
    WriteRegisterByte(RegisterType::L, 0xDA);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x522F, 0x00);
    WriteMemory(0x669F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x23);
    CheckRegisterByte(RegisterType::B, 0xC4);
    CheckRegisterByte(RegisterType::C, 0xF5);
    CheckRegisterByte(RegisterType::D, 0x52);
    CheckRegisterByte(RegisterType::E, 0x2F);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xC4);
    CheckRegisterByte(RegisterType::L, 0xDA);
    WriteRegisterWord(RegisterType::PC, 0x669F);
    WriteRegisterWord(RegisterType::SP, 0x7698);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x522F, 0x23);
    CheckMemory(0x669F, 0x12);
}

void test_12_028A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5C05);
    WriteRegisterWord(RegisterType::SP, 0xEA85);
    WriteRegisterByte(RegisterType::A, 0xF4);
    WriteRegisterByte(RegisterType::B, 0x23);
    WriteRegisterByte(RegisterType::C, 0x46);
    WriteRegisterByte(RegisterType::D, 0xBF);
    WriteRegisterByte(RegisterType::E, 0xDB);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xB5);
    WriteRegisterByte(RegisterType::L, 0x97);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5C05, 0x12);
    WriteMemory(0xBFDB, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF4);
    CheckRegisterByte(RegisterType::B, 0x23);
    CheckRegisterByte(RegisterType::C, 0x46);
    CheckRegisterByte(RegisterType::D, 0xBF);
    CheckRegisterByte(RegisterType::E, 0xDB);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xB5);
    CheckRegisterByte(RegisterType::L, 0x97);
    WriteRegisterWord(RegisterType::PC, 0x5C05);
    WriteRegisterWord(RegisterType::SP, 0xEA85);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5C05, 0x12);
    CheckMemory(0xBFDB, 0xF4);
}

void test_12_028B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC05F);
    WriteRegisterWord(RegisterType::SP, 0xC877);
    WriteRegisterByte(RegisterType::A, 0x9F);
    WriteRegisterByte(RegisterType::B, 0xE5);
    WriteRegisterByte(RegisterType::C, 0x22);
    WriteRegisterByte(RegisterType::D, 0x26);
    WriteRegisterByte(RegisterType::E, 0x38);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xB6);
    WriteRegisterByte(RegisterType::L, 0x7A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2638, 0x00);
    WriteMemory(0xC05F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9F);
    CheckRegisterByte(RegisterType::B, 0xE5);
    CheckRegisterByte(RegisterType::C, 0x22);
    CheckRegisterByte(RegisterType::D, 0x26);
    CheckRegisterByte(RegisterType::E, 0x38);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xB6);
    CheckRegisterByte(RegisterType::L, 0x7A);
    WriteRegisterWord(RegisterType::PC, 0xC05F);
    WriteRegisterWord(RegisterType::SP, 0xC877);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2638, 0x9F);
    CheckMemory(0xC05F, 0x12);
}

void test_12_028C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x70F4);
    WriteRegisterWord(RegisterType::SP, 0xDEF8);
    WriteRegisterByte(RegisterType::A, 0x41);
    WriteRegisterByte(RegisterType::B, 0xA1);
    WriteRegisterByte(RegisterType::C, 0xFD);
    WriteRegisterByte(RegisterType::D, 0x11);
    WriteRegisterByte(RegisterType::E, 0xAE);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xED);
    WriteRegisterByte(RegisterType::L, 0x5B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x11AE, 0x00);
    WriteMemory(0x70F4, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x41);
    CheckRegisterByte(RegisterType::B, 0xA1);
    CheckRegisterByte(RegisterType::C, 0xFD);
    CheckRegisterByte(RegisterType::D, 0x11);
    CheckRegisterByte(RegisterType::E, 0xAE);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xED);
    CheckRegisterByte(RegisterType::L, 0x5B);
    WriteRegisterWord(RegisterType::PC, 0x70F4);
    WriteRegisterWord(RegisterType::SP, 0xDEF8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x11AE, 0x41);
    CheckMemory(0x70F4, 0x12);
}

void test_12_028D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8508);
    WriteRegisterWord(RegisterType::SP, 0x20C6);
    WriteRegisterByte(RegisterType::A, 0x16);
    WriteRegisterByte(RegisterType::B, 0x7A);
    WriteRegisterByte(RegisterType::C, 0x29);
    WriteRegisterByte(RegisterType::D, 0x25);
    WriteRegisterByte(RegisterType::E, 0x45);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x1F);
    WriteRegisterByte(RegisterType::L, 0xF9);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2545, 0x00);
    WriteMemory(0x8508, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x16);
    CheckRegisterByte(RegisterType::B, 0x7A);
    CheckRegisterByte(RegisterType::C, 0x29);
    CheckRegisterByte(RegisterType::D, 0x25);
    CheckRegisterByte(RegisterType::E, 0x45);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x1F);
    CheckRegisterByte(RegisterType::L, 0xF9);
    WriteRegisterWord(RegisterType::PC, 0x8508);
    WriteRegisterWord(RegisterType::SP, 0x20C6);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2545, 0x16);
    CheckMemory(0x8508, 0x12);
}

void test_12_028E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2FF8);
    WriteRegisterWord(RegisterType::SP, 0xD793);
    WriteRegisterByte(RegisterType::A, 0xE4);
    WriteRegisterByte(RegisterType::B, 0x39);
    WriteRegisterByte(RegisterType::C, 0x62);
    WriteRegisterByte(RegisterType::D, 0xE8);
    WriteRegisterByte(RegisterType::E, 0xA0);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x8C);
    WriteRegisterByte(RegisterType::L, 0x7A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2FF8, 0x12);
    WriteMemory(0xE8A0, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE4);
    CheckRegisterByte(RegisterType::B, 0x39);
    CheckRegisterByte(RegisterType::C, 0x62);
    CheckRegisterByte(RegisterType::D, 0xE8);
    CheckRegisterByte(RegisterType::E, 0xA0);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x8C);
    CheckRegisterByte(RegisterType::L, 0x7A);
    WriteRegisterWord(RegisterType::PC, 0x2FF8);
    WriteRegisterWord(RegisterType::SP, 0xD793);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2FF8, 0x12);
    CheckMemory(0xE8A0, 0xE4);
}

void test_12_028F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1755);
    WriteRegisterWord(RegisterType::SP, 0xBDB2);
    WriteRegisterByte(RegisterType::A, 0x3F);
    WriteRegisterByte(RegisterType::B, 0x15);
    WriteRegisterByte(RegisterType::C, 0xE7);
    WriteRegisterByte(RegisterType::D, 0x2B);
    WriteRegisterByte(RegisterType::E, 0xDB);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x2D);
    WriteRegisterByte(RegisterType::L, 0x1D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1755, 0x12);
    WriteMemory(0x2BDB, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3F);
    CheckRegisterByte(RegisterType::B, 0x15);
    CheckRegisterByte(RegisterType::C, 0xE7);
    CheckRegisterByte(RegisterType::D, 0x2B);
    CheckRegisterByte(RegisterType::E, 0xDB);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x2D);
    CheckRegisterByte(RegisterType::L, 0x1D);
    WriteRegisterWord(RegisterType::PC, 0x1755);
    WriteRegisterWord(RegisterType::SP, 0xBDB2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1755, 0x12);
    CheckMemory(0x2BDB, 0x3F);
}

void test_12_0290()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9B2B);
    WriteRegisterWord(RegisterType::SP, 0x5613);
    WriteRegisterByte(RegisterType::A, 0xA2);
    WriteRegisterByte(RegisterType::B, 0xF2);
    WriteRegisterByte(RegisterType::C, 0xF7);
    WriteRegisterByte(RegisterType::D, 0xFA);
    WriteRegisterByte(RegisterType::E, 0x02);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xC7);
    WriteRegisterByte(RegisterType::L, 0x12);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9B2B, 0x12);
    WriteMemory(0xFA02, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA2);
    CheckRegisterByte(RegisterType::B, 0xF2);
    CheckRegisterByte(RegisterType::C, 0xF7);
    CheckRegisterByte(RegisterType::D, 0xFA);
    CheckRegisterByte(RegisterType::E, 0x02);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xC7);
    CheckRegisterByte(RegisterType::L, 0x12);
    WriteRegisterWord(RegisterType::PC, 0x9B2B);
    WriteRegisterWord(RegisterType::SP, 0x5613);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9B2B, 0x12);
    CheckMemory(0xFA02, 0xA2);
}

void test_12_0291()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3DD8);
    WriteRegisterWord(RegisterType::SP, 0x1358);
    WriteRegisterByte(RegisterType::A, 0x56);
    WriteRegisterByte(RegisterType::B, 0xCB);
    WriteRegisterByte(RegisterType::C, 0x62);
    WriteRegisterByte(RegisterType::D, 0x4A);
    WriteRegisterByte(RegisterType::E, 0xA1);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xFF);
    WriteRegisterByte(RegisterType::L, 0x7B);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3DD8, 0x12);
    WriteMemory(0x4AA1, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x56);
    CheckRegisterByte(RegisterType::B, 0xCB);
    CheckRegisterByte(RegisterType::C, 0x62);
    CheckRegisterByte(RegisterType::D, 0x4A);
    CheckRegisterByte(RegisterType::E, 0xA1);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xFF);
    CheckRegisterByte(RegisterType::L, 0x7B);
    WriteRegisterWord(RegisterType::PC, 0x3DD8);
    WriteRegisterWord(RegisterType::SP, 0x1358);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3DD8, 0x12);
    CheckMemory(0x4AA1, 0x56);
}

void test_12_0292()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDBDE);
    WriteRegisterWord(RegisterType::SP, 0xBF70);
    WriteRegisterByte(RegisterType::A, 0x08);
    WriteRegisterByte(RegisterType::B, 0x06);
    WriteRegisterByte(RegisterType::C, 0x88);
    WriteRegisterByte(RegisterType::D, 0x28);
    WriteRegisterByte(RegisterType::E, 0x56);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xBA);
    WriteRegisterByte(RegisterType::L, 0xCF);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2856, 0x00);
    WriteMemory(0xDBDE, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x08);
    CheckRegisterByte(RegisterType::B, 0x06);
    CheckRegisterByte(RegisterType::C, 0x88);
    CheckRegisterByte(RegisterType::D, 0x28);
    CheckRegisterByte(RegisterType::E, 0x56);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xBA);
    CheckRegisterByte(RegisterType::L, 0xCF);
    WriteRegisterWord(RegisterType::PC, 0xDBDE);
    WriteRegisterWord(RegisterType::SP, 0xBF70);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2856, 0x08);
    CheckMemory(0xDBDE, 0x12);
}

void test_12_0293()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x516C);
    WriteRegisterWord(RegisterType::SP, 0x9AAE);
    WriteRegisterByte(RegisterType::A, 0x07);
    WriteRegisterByte(RegisterType::B, 0x60);
    WriteRegisterByte(RegisterType::C, 0xCC);
    WriteRegisterByte(RegisterType::D, 0x15);
    WriteRegisterByte(RegisterType::E, 0xB4);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x61);
    WriteRegisterByte(RegisterType::L, 0xD5);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x15B4, 0x00);
    WriteMemory(0x516C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x07);
    CheckRegisterByte(RegisterType::B, 0x60);
    CheckRegisterByte(RegisterType::C, 0xCC);
    CheckRegisterByte(RegisterType::D, 0x15);
    CheckRegisterByte(RegisterType::E, 0xB4);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x61);
    CheckRegisterByte(RegisterType::L, 0xD5);
    WriteRegisterWord(RegisterType::PC, 0x516C);
    WriteRegisterWord(RegisterType::SP, 0x9AAE);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x15B4, 0x07);
    CheckMemory(0x516C, 0x12);
}

void test_12_0294()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5502);
    WriteRegisterWord(RegisterType::SP, 0x80CD);
    WriteRegisterByte(RegisterType::A, 0x13);
    WriteRegisterByte(RegisterType::B, 0xA8);
    WriteRegisterByte(RegisterType::C, 0x53);
    WriteRegisterByte(RegisterType::D, 0xFD);
    WriteRegisterByte(RegisterType::E, 0xFB);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xEB);
    WriteRegisterByte(RegisterType::L, 0x99);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5502, 0x12);
    WriteMemory(0xFDFB, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x13);
    CheckRegisterByte(RegisterType::B, 0xA8);
    CheckRegisterByte(RegisterType::C, 0x53);
    CheckRegisterByte(RegisterType::D, 0xFD);
    CheckRegisterByte(RegisterType::E, 0xFB);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xEB);
    CheckRegisterByte(RegisterType::L, 0x99);
    WriteRegisterWord(RegisterType::PC, 0x5502);
    WriteRegisterWord(RegisterType::SP, 0x80CD);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5502, 0x12);
    CheckMemory(0xFDFB, 0x13);
}

void test_12_0295()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7470);
    WriteRegisterWord(RegisterType::SP, 0x41B0);
    WriteRegisterByte(RegisterType::A, 0x48);
    WriteRegisterByte(RegisterType::B, 0x53);
    WriteRegisterByte(RegisterType::C, 0xD0);
    WriteRegisterByte(RegisterType::D, 0x6A);
    WriteRegisterByte(RegisterType::E, 0x2A);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xB6);
    WriteRegisterByte(RegisterType::L, 0x8F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6A2A, 0x00);
    WriteMemory(0x7470, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x48);
    CheckRegisterByte(RegisterType::B, 0x53);
    CheckRegisterByte(RegisterType::C, 0xD0);
    CheckRegisterByte(RegisterType::D, 0x6A);
    CheckRegisterByte(RegisterType::E, 0x2A);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xB6);
    CheckRegisterByte(RegisterType::L, 0x8F);
    WriteRegisterWord(RegisterType::PC, 0x7470);
    WriteRegisterWord(RegisterType::SP, 0x41B0);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6A2A, 0x48);
    CheckMemory(0x7470, 0x12);
}

void test_12_0296()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE43E);
    WriteRegisterWord(RegisterType::SP, 0x34A8);
    WriteRegisterByte(RegisterType::A, 0xD0);
    WriteRegisterByte(RegisterType::B, 0x34);
    WriteRegisterByte(RegisterType::C, 0xDD);
    WriteRegisterByte(RegisterType::D, 0x77);
    WriteRegisterByte(RegisterType::E, 0x79);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xFB);
    WriteRegisterByte(RegisterType::L, 0x81);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7779, 0x00);
    WriteMemory(0xE43E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD0);
    CheckRegisterByte(RegisterType::B, 0x34);
    CheckRegisterByte(RegisterType::C, 0xDD);
    CheckRegisterByte(RegisterType::D, 0x77);
    CheckRegisterByte(RegisterType::E, 0x79);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xFB);
    CheckRegisterByte(RegisterType::L, 0x81);
    WriteRegisterWord(RegisterType::PC, 0xE43E);
    WriteRegisterWord(RegisterType::SP, 0x34A8);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x7779, 0xD0);
    CheckMemory(0xE43E, 0x12);
}

void test_12_0297()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFC58);
    WriteRegisterWord(RegisterType::SP, 0xC714);
    WriteRegisterByte(RegisterType::A, 0xB7);
    WriteRegisterByte(RegisterType::B, 0x23);
    WriteRegisterByte(RegisterType::C, 0xBE);
    WriteRegisterByte(RegisterType::D, 0x36);
    WriteRegisterByte(RegisterType::E, 0x97);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x11);
    WriteRegisterByte(RegisterType::L, 0x76);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3697, 0x00);
    WriteMemory(0xFC58, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB7);
    CheckRegisterByte(RegisterType::B, 0x23);
    CheckRegisterByte(RegisterType::C, 0xBE);
    CheckRegisterByte(RegisterType::D, 0x36);
    CheckRegisterByte(RegisterType::E, 0x97);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x11);
    CheckRegisterByte(RegisterType::L, 0x76);
    WriteRegisterWord(RegisterType::PC, 0xFC58);
    WriteRegisterWord(RegisterType::SP, 0xC714);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3697, 0xB7);
    CheckMemory(0xFC58, 0x12);
}

void test_12_0298()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBA70);
    WriteRegisterWord(RegisterType::SP, 0xEE93);
    WriteRegisterByte(RegisterType::A, 0x61);
    WriteRegisterByte(RegisterType::B, 0xB4);
    WriteRegisterByte(RegisterType::C, 0x34);
    WriteRegisterByte(RegisterType::D, 0x8C);
    WriteRegisterByte(RegisterType::E, 0x2D);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x48);
    WriteRegisterByte(RegisterType::L, 0xE3);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x8C2D, 0x00);
    WriteMemory(0xBA70, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x61);
    CheckRegisterByte(RegisterType::B, 0xB4);
    CheckRegisterByte(RegisterType::C, 0x34);
    CheckRegisterByte(RegisterType::D, 0x8C);
    CheckRegisterByte(RegisterType::E, 0x2D);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x48);
    CheckRegisterByte(RegisterType::L, 0xE3);
    WriteRegisterWord(RegisterType::PC, 0xBA70);
    WriteRegisterWord(RegisterType::SP, 0xEE93);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x8C2D, 0x61);
    CheckMemory(0xBA70, 0x12);
}

void test_12_0299()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x485E);
    WriteRegisterWord(RegisterType::SP, 0x5761);
    WriteRegisterByte(RegisterType::A, 0x16);
    WriteRegisterByte(RegisterType::B, 0x11);
    WriteRegisterByte(RegisterType::C, 0xEA);
    WriteRegisterByte(RegisterType::D, 0x57);
    WriteRegisterByte(RegisterType::E, 0xF0);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x72);
    WriteRegisterByte(RegisterType::L, 0x20);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x485E, 0x12);
    WriteMemory(0x57F0, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x16);
    CheckRegisterByte(RegisterType::B, 0x11);
    CheckRegisterByte(RegisterType::C, 0xEA);
    CheckRegisterByte(RegisterType::D, 0x57);
    CheckRegisterByte(RegisterType::E, 0xF0);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x72);
    CheckRegisterByte(RegisterType::L, 0x20);
    WriteRegisterWord(RegisterType::PC, 0x485E);
    WriteRegisterWord(RegisterType::SP, 0x5761);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x485E, 0x12);
    CheckMemory(0x57F0, 0x16);
}

void test_12_029A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x94F6);
    WriteRegisterWord(RegisterType::SP, 0x041C);
    WriteRegisterByte(RegisterType::A, 0x65);
    WriteRegisterByte(RegisterType::B, 0xE9);
    WriteRegisterByte(RegisterType::C, 0x89);
    WriteRegisterByte(RegisterType::D, 0xBD);
    WriteRegisterByte(RegisterType::E, 0xD7);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x26);
    WriteRegisterByte(RegisterType::L, 0xFC);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x94F6, 0x12);
    WriteMemory(0xBDD7, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x65);
    CheckRegisterByte(RegisterType::B, 0xE9);
    CheckRegisterByte(RegisterType::C, 0x89);
    CheckRegisterByte(RegisterType::D, 0xBD);
    CheckRegisterByte(RegisterType::E, 0xD7);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x26);
    CheckRegisterByte(RegisterType::L, 0xFC);
    WriteRegisterWord(RegisterType::PC, 0x94F6);
    WriteRegisterWord(RegisterType::SP, 0x041C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x94F6, 0x12);
    CheckMemory(0xBDD7, 0x65);
}

void test_12_029B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x78B2);
    WriteRegisterWord(RegisterType::SP, 0xB246);
    WriteRegisterByte(RegisterType::A, 0xE1);
    WriteRegisterByte(RegisterType::B, 0x9D);
    WriteRegisterByte(RegisterType::C, 0x78);
    WriteRegisterByte(RegisterType::D, 0x81);
    WriteRegisterByte(RegisterType::E, 0x2F);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x07);
    WriteRegisterByte(RegisterType::L, 0xA6);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x78B2, 0x12);
    WriteMemory(0x812F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE1);
    CheckRegisterByte(RegisterType::B, 0x9D);
    CheckRegisterByte(RegisterType::C, 0x78);
    CheckRegisterByte(RegisterType::D, 0x81);
    CheckRegisterByte(RegisterType::E, 0x2F);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x07);
    CheckRegisterByte(RegisterType::L, 0xA6);
    WriteRegisterWord(RegisterType::PC, 0x78B2);
    WriteRegisterWord(RegisterType::SP, 0xB246);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x78B2, 0x12);
    CheckMemory(0x812F, 0xE1);
}

void test_12_029C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBE7B);
    WriteRegisterWord(RegisterType::SP, 0xF7E4);
    WriteRegisterByte(RegisterType::A, 0x2E);
    WriteRegisterByte(RegisterType::B, 0xB3);
    WriteRegisterByte(RegisterType::C, 0x93);
    WriteRegisterByte(RegisterType::D, 0xB3);
    WriteRegisterByte(RegisterType::E, 0x29);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x50);
    WriteRegisterByte(RegisterType::L, 0x38);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB329, 0x00);
    WriteMemory(0xBE7B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2E);
    CheckRegisterByte(RegisterType::B, 0xB3);
    CheckRegisterByte(RegisterType::C, 0x93);
    CheckRegisterByte(RegisterType::D, 0xB3);
    CheckRegisterByte(RegisterType::E, 0x29);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x50);
    CheckRegisterByte(RegisterType::L, 0x38);
    WriteRegisterWord(RegisterType::PC, 0xBE7B);
    WriteRegisterWord(RegisterType::SP, 0xF7E4);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xB329, 0x2E);
    CheckMemory(0xBE7B, 0x12);
}

void test_12_029D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x042D);
    WriteRegisterWord(RegisterType::SP, 0xF0AD);
    WriteRegisterByte(RegisterType::A, 0x65);
    WriteRegisterByte(RegisterType::B, 0x3E);
    WriteRegisterByte(RegisterType::C, 0x74);
    WriteRegisterByte(RegisterType::D, 0x72);
    WriteRegisterByte(RegisterType::E, 0xFA);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x17);
    WriteRegisterByte(RegisterType::L, 0x38);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x042D, 0x12);
    WriteMemory(0x72FA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x65);
    CheckRegisterByte(RegisterType::B, 0x3E);
    CheckRegisterByte(RegisterType::C, 0x74);
    CheckRegisterByte(RegisterType::D, 0x72);
    CheckRegisterByte(RegisterType::E, 0xFA);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x17);
    CheckRegisterByte(RegisterType::L, 0x38);
    WriteRegisterWord(RegisterType::PC, 0x042D);
    WriteRegisterWord(RegisterType::SP, 0xF0AD);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x042D, 0x12);
    CheckMemory(0x72FA, 0x65);
}

void test_12_029E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x50B4);
    WriteRegisterWord(RegisterType::SP, 0xEB0C);
    WriteRegisterByte(RegisterType::A, 0x3D);
    WriteRegisterByte(RegisterType::B, 0x07);
    WriteRegisterByte(RegisterType::C, 0x99);
    WriteRegisterByte(RegisterType::D, 0x3B);
    WriteRegisterByte(RegisterType::E, 0x57);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x1A);
    WriteRegisterByte(RegisterType::L, 0x92);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3B57, 0x00);
    WriteMemory(0x50B4, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3D);
    CheckRegisterByte(RegisterType::B, 0x07);
    CheckRegisterByte(RegisterType::C, 0x99);
    CheckRegisterByte(RegisterType::D, 0x3B);
    CheckRegisterByte(RegisterType::E, 0x57);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x1A);
    CheckRegisterByte(RegisterType::L, 0x92);
    WriteRegisterWord(RegisterType::PC, 0x50B4);
    WriteRegisterWord(RegisterType::SP, 0xEB0C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3B57, 0x3D);
    CheckMemory(0x50B4, 0x12);
}

void test_12_029F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xED5D);
    WriteRegisterWord(RegisterType::SP, 0x58B7);
    WriteRegisterByte(RegisterType::A, 0x59);
    WriteRegisterByte(RegisterType::B, 0x7C);
    WriteRegisterByte(RegisterType::C, 0x16);
    WriteRegisterByte(RegisterType::D, 0xA4);
    WriteRegisterByte(RegisterType::E, 0x10);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xAD);
    WriteRegisterByte(RegisterType::L, 0x63);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xA410, 0x00);
    WriteMemory(0xED5D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x59);
    CheckRegisterByte(RegisterType::B, 0x7C);
    CheckRegisterByte(RegisterType::C, 0x16);
    CheckRegisterByte(RegisterType::D, 0xA4);
    CheckRegisterByte(RegisterType::E, 0x10);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xAD);
    CheckRegisterByte(RegisterType::L, 0x63);
    WriteRegisterWord(RegisterType::PC, 0xED5D);
    WriteRegisterWord(RegisterType::SP, 0x58B7);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xA410, 0x59);
    CheckMemory(0xED5D, 0x12);
}

void test_12_02A0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCFB5);
    WriteRegisterWord(RegisterType::SP, 0xC4FB);
    WriteRegisterByte(RegisterType::A, 0x6D);
    WriteRegisterByte(RegisterType::B, 0xD8);
    WriteRegisterByte(RegisterType::C, 0xA3);
    WriteRegisterByte(RegisterType::D, 0x67);
    WriteRegisterByte(RegisterType::E, 0xDC);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x29);
    WriteRegisterByte(RegisterType::L, 0x8C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x67DC, 0x00);
    WriteMemory(0xCFB5, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6D);
    CheckRegisterByte(RegisterType::B, 0xD8);
    CheckRegisterByte(RegisterType::C, 0xA3);
    CheckRegisterByte(RegisterType::D, 0x67);
    CheckRegisterByte(RegisterType::E, 0xDC);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x29);
    CheckRegisterByte(RegisterType::L, 0x8C);
    WriteRegisterWord(RegisterType::PC, 0xCFB5);
    WriteRegisterWord(RegisterType::SP, 0xC4FB);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x67DC, 0x6D);
    CheckMemory(0xCFB5, 0x12);
}

void test_12_02A1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFE22);
    WriteRegisterWord(RegisterType::SP, 0xBD78);
    WriteRegisterByte(RegisterType::A, 0x1C);
    WriteRegisterByte(RegisterType::B, 0xA1);
    WriteRegisterByte(RegisterType::C, 0x2D);
    WriteRegisterByte(RegisterType::D, 0x85);
    WriteRegisterByte(RegisterType::E, 0xCD);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x69);
    WriteRegisterByte(RegisterType::L, 0x2A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x85CD, 0x00);
    WriteMemory(0xFE22, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1C);
    CheckRegisterByte(RegisterType::B, 0xA1);
    CheckRegisterByte(RegisterType::C, 0x2D);
    CheckRegisterByte(RegisterType::D, 0x85);
    CheckRegisterByte(RegisterType::E, 0xCD);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x69);
    CheckRegisterByte(RegisterType::L, 0x2A);
    WriteRegisterWord(RegisterType::PC, 0xFE22);
    WriteRegisterWord(RegisterType::SP, 0xBD78);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x85CD, 0x1C);
    CheckMemory(0xFE22, 0x12);
}

void test_12_02A2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA9BB);
    WriteRegisterWord(RegisterType::SP, 0xD9D5);
    WriteRegisterByte(RegisterType::A, 0x79);
    WriteRegisterByte(RegisterType::B, 0x23);
    WriteRegisterByte(RegisterType::C, 0x1B);
    WriteRegisterByte(RegisterType::D, 0x64);
    WriteRegisterByte(RegisterType::E, 0xD8);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x18);
    WriteRegisterByte(RegisterType::L, 0xD4);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x64D8, 0x00);
    WriteMemory(0xA9BB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x79);
    CheckRegisterByte(RegisterType::B, 0x23);
    CheckRegisterByte(RegisterType::C, 0x1B);
    CheckRegisterByte(RegisterType::D, 0x64);
    CheckRegisterByte(RegisterType::E, 0xD8);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x18);
    CheckRegisterByte(RegisterType::L, 0xD4);
    WriteRegisterWord(RegisterType::PC, 0xA9BB);
    WriteRegisterWord(RegisterType::SP, 0xD9D5);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x64D8, 0x79);
    CheckMemory(0xA9BB, 0x12);
}

void test_12_02A3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7886);
    WriteRegisterWord(RegisterType::SP, 0x7A5B);
    WriteRegisterByte(RegisterType::A, 0xA0);
    WriteRegisterByte(RegisterType::B, 0x69);
    WriteRegisterByte(RegisterType::C, 0x3E);
    WriteRegisterByte(RegisterType::D, 0x6A);
    WriteRegisterByte(RegisterType::E, 0x23);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xA8);
    WriteRegisterByte(RegisterType::L, 0x11);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6A23, 0x00);
    WriteMemory(0x7886, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA0);
    CheckRegisterByte(RegisterType::B, 0x69);
    CheckRegisterByte(RegisterType::C, 0x3E);
    CheckRegisterByte(RegisterType::D, 0x6A);
    CheckRegisterByte(RegisterType::E, 0x23);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xA8);
    CheckRegisterByte(RegisterType::L, 0x11);
    WriteRegisterWord(RegisterType::PC, 0x7886);
    WriteRegisterWord(RegisterType::SP, 0x7A5B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6A23, 0xA0);
    CheckMemory(0x7886, 0x12);
}

void test_12_02A4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x82C2);
    WriteRegisterWord(RegisterType::SP, 0x7337);
    WriteRegisterByte(RegisterType::A, 0xD8);
    WriteRegisterByte(RegisterType::B, 0x59);
    WriteRegisterByte(RegisterType::C, 0xDD);
    WriteRegisterByte(RegisterType::D, 0xF7);
    WriteRegisterByte(RegisterType::E, 0x7C);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x39);
    WriteRegisterByte(RegisterType::L, 0x53);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x82C2, 0x12);
    WriteMemory(0xF77C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD8);
    CheckRegisterByte(RegisterType::B, 0x59);
    CheckRegisterByte(RegisterType::C, 0xDD);
    CheckRegisterByte(RegisterType::D, 0xF7);
    CheckRegisterByte(RegisterType::E, 0x7C);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x39);
    CheckRegisterByte(RegisterType::L, 0x53);
    WriteRegisterWord(RegisterType::PC, 0x82C2);
    WriteRegisterWord(RegisterType::SP, 0x7337);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x82C2, 0x12);
    CheckMemory(0xF77C, 0xD8);
}

void test_12_02A5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xADF4);
    WriteRegisterWord(RegisterType::SP, 0xC021);
    WriteRegisterByte(RegisterType::A, 0xD6);
    WriteRegisterByte(RegisterType::B, 0x99);
    WriteRegisterByte(RegisterType::C, 0x37);
    WriteRegisterByte(RegisterType::D, 0xD4);
    WriteRegisterByte(RegisterType::E, 0xA7);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xE8);
    WriteRegisterByte(RegisterType::L, 0x81);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xADF4, 0x12);
    WriteMemory(0xD4A7, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD6);
    CheckRegisterByte(RegisterType::B, 0x99);
    CheckRegisterByte(RegisterType::C, 0x37);
    CheckRegisterByte(RegisterType::D, 0xD4);
    CheckRegisterByte(RegisterType::E, 0xA7);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xE8);
    CheckRegisterByte(RegisterType::L, 0x81);
    WriteRegisterWord(RegisterType::PC, 0xADF4);
    WriteRegisterWord(RegisterType::SP, 0xC021);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xADF4, 0x12);
    CheckMemory(0xD4A7, 0xD6);
}

void test_12_02A6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8CFC);
    WriteRegisterWord(RegisterType::SP, 0x560F);
    WriteRegisterByte(RegisterType::A, 0x38);
    WriteRegisterByte(RegisterType::B, 0xBA);
    WriteRegisterByte(RegisterType::C, 0x52);
    WriteRegisterByte(RegisterType::D, 0xDB);
    WriteRegisterByte(RegisterType::E, 0x06);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xD8);
    WriteRegisterByte(RegisterType::L, 0x2A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x8CFC, 0x12);
    WriteMemory(0xDB06, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x38);
    CheckRegisterByte(RegisterType::B, 0xBA);
    CheckRegisterByte(RegisterType::C, 0x52);
    CheckRegisterByte(RegisterType::D, 0xDB);
    CheckRegisterByte(RegisterType::E, 0x06);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xD8);
    CheckRegisterByte(RegisterType::L, 0x2A);
    WriteRegisterWord(RegisterType::PC, 0x8CFC);
    WriteRegisterWord(RegisterType::SP, 0x560F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x8CFC, 0x12);
    CheckMemory(0xDB06, 0x38);
}

void test_12_02A7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE00C);
    WriteRegisterWord(RegisterType::SP, 0x3552);
    WriteRegisterByte(RegisterType::A, 0xE5);
    WriteRegisterByte(RegisterType::B, 0xD7);
    WriteRegisterByte(RegisterType::C, 0x74);
    WriteRegisterByte(RegisterType::D, 0xC7);
    WriteRegisterByte(RegisterType::E, 0x09);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x29);
    WriteRegisterByte(RegisterType::L, 0x2C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xC709, 0x00);
    WriteMemory(0xE00C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE5);
    CheckRegisterByte(RegisterType::B, 0xD7);
    CheckRegisterByte(RegisterType::C, 0x74);
    CheckRegisterByte(RegisterType::D, 0xC7);
    CheckRegisterByte(RegisterType::E, 0x09);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x29);
    CheckRegisterByte(RegisterType::L, 0x2C);
    WriteRegisterWord(RegisterType::PC, 0xE00C);
    WriteRegisterWord(RegisterType::SP, 0x3552);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xC709, 0xE5);
    CheckMemory(0xE00C, 0x12);
}

void test_12_02A8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF236);
    WriteRegisterWord(RegisterType::SP, 0x1F2E);
    WriteRegisterByte(RegisterType::A, 0xF1);
    WriteRegisterByte(RegisterType::B, 0x87);
    WriteRegisterByte(RegisterType::C, 0xEB);
    WriteRegisterByte(RegisterType::D, 0x63);
    WriteRegisterByte(RegisterType::E, 0xCE);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xBA);
    WriteRegisterByte(RegisterType::L, 0x33);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x63CE, 0x00);
    WriteMemory(0xF236, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF1);
    CheckRegisterByte(RegisterType::B, 0x87);
    CheckRegisterByte(RegisterType::C, 0xEB);
    CheckRegisterByte(RegisterType::D, 0x63);
    CheckRegisterByte(RegisterType::E, 0xCE);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xBA);
    CheckRegisterByte(RegisterType::L, 0x33);
    WriteRegisterWord(RegisterType::PC, 0xF236);
    WriteRegisterWord(RegisterType::SP, 0x1F2E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x63CE, 0xF1);
    CheckMemory(0xF236, 0x12);
}

void test_12_02A9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDBCF);
    WriteRegisterWord(RegisterType::SP, 0x5F8C);
    WriteRegisterByte(RegisterType::A, 0xB9);
    WriteRegisterByte(RegisterType::B, 0xB9);
    WriteRegisterByte(RegisterType::C, 0xA2);
    WriteRegisterByte(RegisterType::D, 0xFE);
    WriteRegisterByte(RegisterType::E, 0x82);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x8E);
    WriteRegisterByte(RegisterType::L, 0xBC);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xDBCF, 0x12);
    WriteMemory(0xFE82, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB9);
    CheckRegisterByte(RegisterType::B, 0xB9);
    CheckRegisterByte(RegisterType::C, 0xA2);
    CheckRegisterByte(RegisterType::D, 0xFE);
    CheckRegisterByte(RegisterType::E, 0x82);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x8E);
    CheckRegisterByte(RegisterType::L, 0xBC);
    WriteRegisterWord(RegisterType::PC, 0xDBCF);
    WriteRegisterWord(RegisterType::SP, 0x5F8C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xDBCF, 0x12);
    CheckMemory(0xFE82, 0xB9);
}

void test_12_02AA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1B11);
    WriteRegisterWord(RegisterType::SP, 0x104B);
    WriteRegisterByte(RegisterType::A, 0xF3);
    WriteRegisterByte(RegisterType::B, 0x49);
    WriteRegisterByte(RegisterType::C, 0xEB);
    WriteRegisterByte(RegisterType::D, 0x28);
    WriteRegisterByte(RegisterType::E, 0x87);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xAB);
    WriteRegisterByte(RegisterType::L, 0xD3);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1B11, 0x12);
    WriteMemory(0x2887, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF3);
    CheckRegisterByte(RegisterType::B, 0x49);
    CheckRegisterByte(RegisterType::C, 0xEB);
    CheckRegisterByte(RegisterType::D, 0x28);
    CheckRegisterByte(RegisterType::E, 0x87);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xAB);
    CheckRegisterByte(RegisterType::L, 0xD3);
    WriteRegisterWord(RegisterType::PC, 0x1B11);
    WriteRegisterWord(RegisterType::SP, 0x104B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1B11, 0x12);
    CheckMemory(0x2887, 0xF3);
}

void test_12_02AB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x45F2);
    WriteRegisterWord(RegisterType::SP, 0x11BE);
    WriteRegisterByte(RegisterType::A, 0x09);
    WriteRegisterByte(RegisterType::B, 0x3E);
    WriteRegisterByte(RegisterType::C, 0xC6);
    WriteRegisterByte(RegisterType::D, 0x23);
    WriteRegisterByte(RegisterType::E, 0xE0);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x3B);
    WriteRegisterByte(RegisterType::L, 0x2A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x23E0, 0x00);
    WriteMemory(0x45F2, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x09);
    CheckRegisterByte(RegisterType::B, 0x3E);
    CheckRegisterByte(RegisterType::C, 0xC6);
    CheckRegisterByte(RegisterType::D, 0x23);
    CheckRegisterByte(RegisterType::E, 0xE0);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x3B);
    CheckRegisterByte(RegisterType::L, 0x2A);
    WriteRegisterWord(RegisterType::PC, 0x45F2);
    WriteRegisterWord(RegisterType::SP, 0x11BE);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x23E0, 0x09);
    CheckMemory(0x45F2, 0x12);
}

void test_12_02AC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x61A9);
    WriteRegisterWord(RegisterType::SP, 0x13D4);
    WriteRegisterByte(RegisterType::A, 0x75);
    WriteRegisterByte(RegisterType::B, 0x22);
    WriteRegisterByte(RegisterType::C, 0xA7);
    WriteRegisterByte(RegisterType::D, 0x82);
    WriteRegisterByte(RegisterType::E, 0x7D);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x33);
    WriteRegisterByte(RegisterType::L, 0xA2);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x61A9, 0x12);
    WriteMemory(0x827D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x75);
    CheckRegisterByte(RegisterType::B, 0x22);
    CheckRegisterByte(RegisterType::C, 0xA7);
    CheckRegisterByte(RegisterType::D, 0x82);
    CheckRegisterByte(RegisterType::E, 0x7D);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x33);
    CheckRegisterByte(RegisterType::L, 0xA2);
    WriteRegisterWord(RegisterType::PC, 0x61A9);
    WriteRegisterWord(RegisterType::SP, 0x13D4);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x61A9, 0x12);
    CheckMemory(0x827D, 0x75);
}

void test_12_02AD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5164);
    WriteRegisterWord(RegisterType::SP, 0xE0B3);
    WriteRegisterByte(RegisterType::A, 0x74);
    WriteRegisterByte(RegisterType::B, 0xA3);
    WriteRegisterByte(RegisterType::C, 0xDC);
    WriteRegisterByte(RegisterType::D, 0x71);
    WriteRegisterByte(RegisterType::E, 0xD8);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x63);
    WriteRegisterByte(RegisterType::L, 0x87);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5164, 0x12);
    WriteMemory(0x71D8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x74);
    CheckRegisterByte(RegisterType::B, 0xA3);
    CheckRegisterByte(RegisterType::C, 0xDC);
    CheckRegisterByte(RegisterType::D, 0x71);
    CheckRegisterByte(RegisterType::E, 0xD8);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x63);
    CheckRegisterByte(RegisterType::L, 0x87);
    WriteRegisterWord(RegisterType::PC, 0x5164);
    WriteRegisterWord(RegisterType::SP, 0xE0B3);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5164, 0x12);
    CheckMemory(0x71D8, 0x74);
}

void test_12_02AE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA994);
    WriteRegisterWord(RegisterType::SP, 0xC983);
    WriteRegisterByte(RegisterType::A, 0x3B);
    WriteRegisterByte(RegisterType::B, 0xC6);
    WriteRegisterByte(RegisterType::C, 0x93);
    WriteRegisterByte(RegisterType::D, 0x92);
    WriteRegisterByte(RegisterType::E, 0x5C);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xF1);
    WriteRegisterByte(RegisterType::L, 0x57);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x925C, 0x00);
    WriteMemory(0xA994, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3B);
    CheckRegisterByte(RegisterType::B, 0xC6);
    CheckRegisterByte(RegisterType::C, 0x93);
    CheckRegisterByte(RegisterType::D, 0x92);
    CheckRegisterByte(RegisterType::E, 0x5C);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xF1);
    CheckRegisterByte(RegisterType::L, 0x57);
    WriteRegisterWord(RegisterType::PC, 0xA994);
    WriteRegisterWord(RegisterType::SP, 0xC983);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x925C, 0x3B);
    CheckMemory(0xA994, 0x12);
}

void test_12_02AF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBE80);
    WriteRegisterWord(RegisterType::SP, 0xD497);
    WriteRegisterByte(RegisterType::A, 0xBE);
    WriteRegisterByte(RegisterType::B, 0xB9);
    WriteRegisterByte(RegisterType::C, 0x4E);
    WriteRegisterByte(RegisterType::D, 0xF9);
    WriteRegisterByte(RegisterType::E, 0x55);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x62);
    WriteRegisterByte(RegisterType::L, 0xB0);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xBE80, 0x12);
    WriteMemory(0xF955, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBE);
    CheckRegisterByte(RegisterType::B, 0xB9);
    CheckRegisterByte(RegisterType::C, 0x4E);
    CheckRegisterByte(RegisterType::D, 0xF9);
    CheckRegisterByte(RegisterType::E, 0x55);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x62);
    CheckRegisterByte(RegisterType::L, 0xB0);
    WriteRegisterWord(RegisterType::PC, 0xBE80);
    WriteRegisterWord(RegisterType::SP, 0xD497);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xBE80, 0x12);
    CheckMemory(0xF955, 0xBE);
}

void test_12_02B0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4453);
    WriteRegisterWord(RegisterType::SP, 0xF6B3);
    WriteRegisterByte(RegisterType::A, 0x82);
    WriteRegisterByte(RegisterType::B, 0x29);
    WriteRegisterByte(RegisterType::C, 0x51);
    WriteRegisterByte(RegisterType::D, 0x9E);
    WriteRegisterByte(RegisterType::E, 0xE4);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x63);
    WriteRegisterByte(RegisterType::L, 0x33);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4453, 0x12);
    WriteMemory(0x9EE4, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x82);
    CheckRegisterByte(RegisterType::B, 0x29);
    CheckRegisterByte(RegisterType::C, 0x51);
    CheckRegisterByte(RegisterType::D, 0x9E);
    CheckRegisterByte(RegisterType::E, 0xE4);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x63);
    CheckRegisterByte(RegisterType::L, 0x33);
    WriteRegisterWord(RegisterType::PC, 0x4453);
    WriteRegisterWord(RegisterType::SP, 0xF6B3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4453, 0x12);
    CheckMemory(0x9EE4, 0x82);
}

void test_12_02B1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE202);
    WriteRegisterWord(RegisterType::SP, 0xC3CC);
    WriteRegisterByte(RegisterType::A, 0x32);
    WriteRegisterByte(RegisterType::B, 0xEC);
    WriteRegisterByte(RegisterType::C, 0xDC);
    WriteRegisterByte(RegisterType::D, 0x0B);
    WriteRegisterByte(RegisterType::E, 0x0B);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x96);
    WriteRegisterByte(RegisterType::L, 0xC8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0B0B, 0x00);
    WriteMemory(0xE202, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x32);
    CheckRegisterByte(RegisterType::B, 0xEC);
    CheckRegisterByte(RegisterType::C, 0xDC);
    CheckRegisterByte(RegisterType::D, 0x0B);
    CheckRegisterByte(RegisterType::E, 0x0B);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x96);
    CheckRegisterByte(RegisterType::L, 0xC8);
    WriteRegisterWord(RegisterType::PC, 0xE202);
    WriteRegisterWord(RegisterType::SP, 0xC3CC);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0B0B, 0x32);
    CheckMemory(0xE202, 0x12);
}

void test_12_02B2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC55B);
    WriteRegisterWord(RegisterType::SP, 0x043A);
    WriteRegisterByte(RegisterType::A, 0x79);
    WriteRegisterByte(RegisterType::B, 0x22);
    WriteRegisterByte(RegisterType::C, 0x0C);
    WriteRegisterByte(RegisterType::D, 0x77);
    WriteRegisterByte(RegisterType::E, 0x69);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xFF);
    WriteRegisterByte(RegisterType::L, 0x93);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7769, 0x00);
    WriteMemory(0xC55B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x79);
    CheckRegisterByte(RegisterType::B, 0x22);
    CheckRegisterByte(RegisterType::C, 0x0C);
    CheckRegisterByte(RegisterType::D, 0x77);
    CheckRegisterByte(RegisterType::E, 0x69);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xFF);
    CheckRegisterByte(RegisterType::L, 0x93);
    WriteRegisterWord(RegisterType::PC, 0xC55B);
    WriteRegisterWord(RegisterType::SP, 0x043A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7769, 0x79);
    CheckMemory(0xC55B, 0x12);
}

void test_12_02B3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC16E);
    WriteRegisterWord(RegisterType::SP, 0xB04D);
    WriteRegisterByte(RegisterType::A, 0x50);
    WriteRegisterByte(RegisterType::B, 0x43);
    WriteRegisterByte(RegisterType::C, 0x2C);
    WriteRegisterByte(RegisterType::D, 0x0B);
    WriteRegisterByte(RegisterType::E, 0x6E);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x9C);
    WriteRegisterByte(RegisterType::L, 0x96);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0B6E, 0x00);
    WriteMemory(0xC16E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x50);
    CheckRegisterByte(RegisterType::B, 0x43);
    CheckRegisterByte(RegisterType::C, 0x2C);
    CheckRegisterByte(RegisterType::D, 0x0B);
    CheckRegisterByte(RegisterType::E, 0x6E);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x9C);
    CheckRegisterByte(RegisterType::L, 0x96);
    WriteRegisterWord(RegisterType::PC, 0xC16E);
    WriteRegisterWord(RegisterType::SP, 0xB04D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0B6E, 0x50);
    CheckMemory(0xC16E, 0x12);
}

void test_12_02B4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD136);
    WriteRegisterWord(RegisterType::SP, 0xFA94);
    WriteRegisterByte(RegisterType::A, 0xCB);
    WriteRegisterByte(RegisterType::B, 0x73);
    WriteRegisterByte(RegisterType::C, 0xE5);
    WriteRegisterByte(RegisterType::D, 0x99);
    WriteRegisterByte(RegisterType::E, 0x70);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xD2);
    WriteRegisterByte(RegisterType::L, 0xDD);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9970, 0x00);
    WriteMemory(0xD136, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCB);
    CheckRegisterByte(RegisterType::B, 0x73);
    CheckRegisterByte(RegisterType::C, 0xE5);
    CheckRegisterByte(RegisterType::D, 0x99);
    CheckRegisterByte(RegisterType::E, 0x70);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xD2);
    CheckRegisterByte(RegisterType::L, 0xDD);
    WriteRegisterWord(RegisterType::PC, 0xD136);
    WriteRegisterWord(RegisterType::SP, 0xFA94);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9970, 0xCB);
    CheckMemory(0xD136, 0x12);
}

void test_12_02B5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9641);
    WriteRegisterWord(RegisterType::SP, 0x66D6);
    WriteRegisterByte(RegisterType::A, 0x0A);
    WriteRegisterByte(RegisterType::B, 0x39);
    WriteRegisterByte(RegisterType::C, 0xF7);
    WriteRegisterByte(RegisterType::D, 0x44);
    WriteRegisterByte(RegisterType::E, 0xDE);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x30);
    WriteRegisterByte(RegisterType::L, 0x83);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x44DE, 0x00);
    WriteMemory(0x9641, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0A);
    CheckRegisterByte(RegisterType::B, 0x39);
    CheckRegisterByte(RegisterType::C, 0xF7);
    CheckRegisterByte(RegisterType::D, 0x44);
    CheckRegisterByte(RegisterType::E, 0xDE);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x30);
    CheckRegisterByte(RegisterType::L, 0x83);
    WriteRegisterWord(RegisterType::PC, 0x9641);
    WriteRegisterWord(RegisterType::SP, 0x66D6);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x44DE, 0x0A);
    CheckMemory(0x9641, 0x12);
}

void test_12_02B6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB8FB);
    WriteRegisterWord(RegisterType::SP, 0xB75B);
    WriteRegisterByte(RegisterType::A, 0x5F);
    WriteRegisterByte(RegisterType::B, 0xF9);
    WriteRegisterByte(RegisterType::C, 0xB2);
    WriteRegisterByte(RegisterType::D, 0x27);
    WriteRegisterByte(RegisterType::E, 0x7A);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x50);
    WriteRegisterByte(RegisterType::L, 0x6E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x277A, 0x00);
    WriteMemory(0xB8FB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5F);
    CheckRegisterByte(RegisterType::B, 0xF9);
    CheckRegisterByte(RegisterType::C, 0xB2);
    CheckRegisterByte(RegisterType::D, 0x27);
    CheckRegisterByte(RegisterType::E, 0x7A);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x50);
    CheckRegisterByte(RegisterType::L, 0x6E);
    WriteRegisterWord(RegisterType::PC, 0xB8FB);
    WriteRegisterWord(RegisterType::SP, 0xB75B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x277A, 0x5F);
    CheckMemory(0xB8FB, 0x12);
}

void test_12_02B7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF60C);
    WriteRegisterWord(RegisterType::SP, 0x7AC7);
    WriteRegisterByte(RegisterType::A, 0xFE);
    WriteRegisterByte(RegisterType::B, 0x81);
    WriteRegisterByte(RegisterType::C, 0x16);
    WriteRegisterByte(RegisterType::D, 0x31);
    WriteRegisterByte(RegisterType::E, 0x1A);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x49);
    WriteRegisterByte(RegisterType::L, 0xD0);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x311A, 0x00);
    WriteMemory(0xF60C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFE);
    CheckRegisterByte(RegisterType::B, 0x81);
    CheckRegisterByte(RegisterType::C, 0x16);
    CheckRegisterByte(RegisterType::D, 0x31);
    CheckRegisterByte(RegisterType::E, 0x1A);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x49);
    CheckRegisterByte(RegisterType::L, 0xD0);
    WriteRegisterWord(RegisterType::PC, 0xF60C);
    WriteRegisterWord(RegisterType::SP, 0x7AC7);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x311A, 0xFE);
    CheckMemory(0xF60C, 0x12);
}

void test_12_02B8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5F4D);
    WriteRegisterWord(RegisterType::SP, 0xF55D);
    WriteRegisterByte(RegisterType::A, 0x1A);
    WriteRegisterByte(RegisterType::B, 0x48);
    WriteRegisterByte(RegisterType::C, 0x72);
    WriteRegisterByte(RegisterType::D, 0x00);
    WriteRegisterByte(RegisterType::E, 0xEE);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x2E);
    WriteRegisterByte(RegisterType::L, 0x1B);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x00EE, 0x00);
    WriteMemory(0x5F4D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1A);
    CheckRegisterByte(RegisterType::B, 0x48);
    CheckRegisterByte(RegisterType::C, 0x72);
    CheckRegisterByte(RegisterType::D, 0x00);
    CheckRegisterByte(RegisterType::E, 0xEE);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x2E);
    CheckRegisterByte(RegisterType::L, 0x1B);
    WriteRegisterWord(RegisterType::PC, 0x5F4D);
    WriteRegisterWord(RegisterType::SP, 0xF55D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x00EE, 0x1A);
    CheckMemory(0x5F4D, 0x12);
}

void test_12_02B9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEA55);
    WriteRegisterWord(RegisterType::SP, 0xDB31);
    WriteRegisterByte(RegisterType::A, 0x3F);
    WriteRegisterByte(RegisterType::B, 0x24);
    WriteRegisterByte(RegisterType::C, 0xBB);
    WriteRegisterByte(RegisterType::D, 0x6F);
    WriteRegisterByte(RegisterType::E, 0x1C);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x51);
    WriteRegisterByte(RegisterType::L, 0x9C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6F1C, 0x00);
    WriteMemory(0xEA55, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3F);
    CheckRegisterByte(RegisterType::B, 0x24);
    CheckRegisterByte(RegisterType::C, 0xBB);
    CheckRegisterByte(RegisterType::D, 0x6F);
    CheckRegisterByte(RegisterType::E, 0x1C);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x51);
    CheckRegisterByte(RegisterType::L, 0x9C);
    WriteRegisterWord(RegisterType::PC, 0xEA55);
    WriteRegisterWord(RegisterType::SP, 0xDB31);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6F1C, 0x3F);
    CheckMemory(0xEA55, 0x12);
}

void test_12_02BA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2FEE);
    WriteRegisterWord(RegisterType::SP, 0xCD5D);
    WriteRegisterByte(RegisterType::A, 0x00);
    WriteRegisterByte(RegisterType::B, 0x51);
    WriteRegisterByte(RegisterType::C, 0x84);
    WriteRegisterByte(RegisterType::D, 0x7F);
    WriteRegisterByte(RegisterType::E, 0x66);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xA1);
    WriteRegisterByte(RegisterType::L, 0xED);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2FEE, 0x12);
    WriteMemory(0x7F66, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x00);
    CheckRegisterByte(RegisterType::B, 0x51);
    CheckRegisterByte(RegisterType::C, 0x84);
    CheckRegisterByte(RegisterType::D, 0x7F);
    CheckRegisterByte(RegisterType::E, 0x66);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xA1);
    CheckRegisterByte(RegisterType::L, 0xED);
    WriteRegisterWord(RegisterType::PC, 0x2FEE);
    WriteRegisterWord(RegisterType::SP, 0xCD5D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2FEE, 0x12);
    CheckMemory(0x7F66, 0x00);
}

void test_12_02BB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAD2A);
    WriteRegisterWord(RegisterType::SP, 0x616C);
    WriteRegisterByte(RegisterType::A, 0x78);
    WriteRegisterByte(RegisterType::B, 0x84);
    WriteRegisterByte(RegisterType::C, 0xC6);
    WriteRegisterByte(RegisterType::D, 0x99);
    WriteRegisterByte(RegisterType::E, 0x01);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x04);
    WriteRegisterByte(RegisterType::L, 0x38);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9901, 0x00);
    WriteMemory(0xAD2A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x78);
    CheckRegisterByte(RegisterType::B, 0x84);
    CheckRegisterByte(RegisterType::C, 0xC6);
    CheckRegisterByte(RegisterType::D, 0x99);
    CheckRegisterByte(RegisterType::E, 0x01);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x04);
    CheckRegisterByte(RegisterType::L, 0x38);
    WriteRegisterWord(RegisterType::PC, 0xAD2A);
    WriteRegisterWord(RegisterType::SP, 0x616C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9901, 0x78);
    CheckMemory(0xAD2A, 0x12);
}

void test_12_02BC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7C7C);
    WriteRegisterWord(RegisterType::SP, 0xBB3C);
    WriteRegisterByte(RegisterType::A, 0x78);
    WriteRegisterByte(RegisterType::B, 0x42);
    WriteRegisterByte(RegisterType::C, 0x72);
    WriteRegisterByte(RegisterType::D, 0x2D);
    WriteRegisterByte(RegisterType::E, 0x7B);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x3D);
    WriteRegisterByte(RegisterType::L, 0x31);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2D7B, 0x00);
    WriteMemory(0x7C7C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x78);
    CheckRegisterByte(RegisterType::B, 0x42);
    CheckRegisterByte(RegisterType::C, 0x72);
    CheckRegisterByte(RegisterType::D, 0x2D);
    CheckRegisterByte(RegisterType::E, 0x7B);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x3D);
    CheckRegisterByte(RegisterType::L, 0x31);
    WriteRegisterWord(RegisterType::PC, 0x7C7C);
    WriteRegisterWord(RegisterType::SP, 0xBB3C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2D7B, 0x78);
    CheckMemory(0x7C7C, 0x12);
}

void test_12_02BD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6226);
    WriteRegisterWord(RegisterType::SP, 0xA437);
    WriteRegisterByte(RegisterType::A, 0x6F);
    WriteRegisterByte(RegisterType::B, 0xB6);
    WriteRegisterByte(RegisterType::C, 0xE3);
    WriteRegisterByte(RegisterType::D, 0x60);
    WriteRegisterByte(RegisterType::E, 0x07);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x33);
    WriteRegisterByte(RegisterType::L, 0x89);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6007, 0x00);
    WriteMemory(0x6226, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6F);
    CheckRegisterByte(RegisterType::B, 0xB6);
    CheckRegisterByte(RegisterType::C, 0xE3);
    CheckRegisterByte(RegisterType::D, 0x60);
    CheckRegisterByte(RegisterType::E, 0x07);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x33);
    CheckRegisterByte(RegisterType::L, 0x89);
    WriteRegisterWord(RegisterType::PC, 0x6226);
    WriteRegisterWord(RegisterType::SP, 0xA437);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6007, 0x6F);
    CheckMemory(0x6226, 0x12);
}

void test_12_02BE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0183);
    WriteRegisterWord(RegisterType::SP, 0x41C2);
    WriteRegisterByte(RegisterType::A, 0x47);
    WriteRegisterByte(RegisterType::B, 0x76);
    WriteRegisterByte(RegisterType::C, 0x76);
    WriteRegisterByte(RegisterType::D, 0x28);
    WriteRegisterByte(RegisterType::E, 0x9F);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x9C);
    WriteRegisterByte(RegisterType::L, 0x17);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0183, 0x12);
    WriteMemory(0x289F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x47);
    CheckRegisterByte(RegisterType::B, 0x76);
    CheckRegisterByte(RegisterType::C, 0x76);
    CheckRegisterByte(RegisterType::D, 0x28);
    CheckRegisterByte(RegisterType::E, 0x9F);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x9C);
    CheckRegisterByte(RegisterType::L, 0x17);
    WriteRegisterWord(RegisterType::PC, 0x0183);
    WriteRegisterWord(RegisterType::SP, 0x41C2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0183, 0x12);
    CheckMemory(0x289F, 0x47);
}

void test_12_02BF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9A0F);
    WriteRegisterWord(RegisterType::SP, 0xEF16);
    WriteRegisterByte(RegisterType::A, 0x69);
    WriteRegisterByte(RegisterType::B, 0xDF);
    WriteRegisterByte(RegisterType::C, 0x8C);
    WriteRegisterByte(RegisterType::D, 0xCC);
    WriteRegisterByte(RegisterType::E, 0xA6);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x8F);
    WriteRegisterByte(RegisterType::L, 0x0D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9A0F, 0x12);
    WriteMemory(0xCCA6, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x69);
    CheckRegisterByte(RegisterType::B, 0xDF);
    CheckRegisterByte(RegisterType::C, 0x8C);
    CheckRegisterByte(RegisterType::D, 0xCC);
    CheckRegisterByte(RegisterType::E, 0xA6);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x8F);
    CheckRegisterByte(RegisterType::L, 0x0D);
    WriteRegisterWord(RegisterType::PC, 0x9A0F);
    WriteRegisterWord(RegisterType::SP, 0xEF16);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9A0F, 0x12);
    CheckMemory(0xCCA6, 0x69);
}

void test_12_02C0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB847);
    WriteRegisterWord(RegisterType::SP, 0xF6E1);
    WriteRegisterByte(RegisterType::A, 0xCA);
    WriteRegisterByte(RegisterType::B, 0x22);
    WriteRegisterByte(RegisterType::C, 0x0F);
    WriteRegisterByte(RegisterType::D, 0x34);
    WriteRegisterByte(RegisterType::E, 0xC4);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xFA);
    WriteRegisterByte(RegisterType::L, 0x5A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x34C4, 0x00);
    WriteMemory(0xB847, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCA);
    CheckRegisterByte(RegisterType::B, 0x22);
    CheckRegisterByte(RegisterType::C, 0x0F);
    CheckRegisterByte(RegisterType::D, 0x34);
    CheckRegisterByte(RegisterType::E, 0xC4);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xFA);
    CheckRegisterByte(RegisterType::L, 0x5A);
    WriteRegisterWord(RegisterType::PC, 0xB847);
    WriteRegisterWord(RegisterType::SP, 0xF6E1);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x34C4, 0xCA);
    CheckMemory(0xB847, 0x12);
}

void test_12_02C1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x950D);
    WriteRegisterWord(RegisterType::SP, 0x719E);
    WriteRegisterByte(RegisterType::A, 0xF5);
    WriteRegisterByte(RegisterType::B, 0xD0);
    WriteRegisterByte(RegisterType::C, 0x5E);
    WriteRegisterByte(RegisterType::D, 0x3E);
    WriteRegisterByte(RegisterType::E, 0x5D);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x01);
    WriteRegisterByte(RegisterType::L, 0xB2);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3E5D, 0x00);
    WriteMemory(0x950D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF5);
    CheckRegisterByte(RegisterType::B, 0xD0);
    CheckRegisterByte(RegisterType::C, 0x5E);
    CheckRegisterByte(RegisterType::D, 0x3E);
    CheckRegisterByte(RegisterType::E, 0x5D);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x01);
    CheckRegisterByte(RegisterType::L, 0xB2);
    WriteRegisterWord(RegisterType::PC, 0x950D);
    WriteRegisterWord(RegisterType::SP, 0x719E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3E5D, 0xF5);
    CheckMemory(0x950D, 0x12);
}

void test_12_02C2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1AAD);
    WriteRegisterWord(RegisterType::SP, 0x2185);
    WriteRegisterByte(RegisterType::A, 0xD1);
    WriteRegisterByte(RegisterType::B, 0x43);
    WriteRegisterByte(RegisterType::C, 0x70);
    WriteRegisterByte(RegisterType::D, 0xB1);
    WriteRegisterByte(RegisterType::E, 0xAF);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xE2);
    WriteRegisterByte(RegisterType::L, 0x84);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1AAD, 0x12);
    WriteMemory(0xB1AF, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD1);
    CheckRegisterByte(RegisterType::B, 0x43);
    CheckRegisterByte(RegisterType::C, 0x70);
    CheckRegisterByte(RegisterType::D, 0xB1);
    CheckRegisterByte(RegisterType::E, 0xAF);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xE2);
    CheckRegisterByte(RegisterType::L, 0x84);
    WriteRegisterWord(RegisterType::PC, 0x1AAD);
    WriteRegisterWord(RegisterType::SP, 0x2185);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1AAD, 0x12);
    CheckMemory(0xB1AF, 0xD1);
}

void test_12_02C3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1B1E);
    WriteRegisterWord(RegisterType::SP, 0x32C3);
    WriteRegisterByte(RegisterType::A, 0x26);
    WriteRegisterByte(RegisterType::B, 0xD5);
    WriteRegisterByte(RegisterType::C, 0x3F);
    WriteRegisterByte(RegisterType::D, 0x41);
    WriteRegisterByte(RegisterType::E, 0x8A);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x59);
    WriteRegisterByte(RegisterType::L, 0xD8);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1B1E, 0x12);
    WriteMemory(0x418A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x26);
    CheckRegisterByte(RegisterType::B, 0xD5);
    CheckRegisterByte(RegisterType::C, 0x3F);
    CheckRegisterByte(RegisterType::D, 0x41);
    CheckRegisterByte(RegisterType::E, 0x8A);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x59);
    CheckRegisterByte(RegisterType::L, 0xD8);
    WriteRegisterWord(RegisterType::PC, 0x1B1E);
    WriteRegisterWord(RegisterType::SP, 0x32C3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1B1E, 0x12);
    CheckMemory(0x418A, 0x26);
}

void test_12_02C4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF441);
    WriteRegisterWord(RegisterType::SP, 0x1710);
    WriteRegisterByte(RegisterType::A, 0xCA);
    WriteRegisterByte(RegisterType::B, 0xEA);
    WriteRegisterByte(RegisterType::C, 0x2F);
    WriteRegisterByte(RegisterType::D, 0x85);
    WriteRegisterByte(RegisterType::E, 0x3A);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xAA);
    WriteRegisterByte(RegisterType::L, 0xA3);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x853A, 0x00);
    WriteMemory(0xF441, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCA);
    CheckRegisterByte(RegisterType::B, 0xEA);
    CheckRegisterByte(RegisterType::C, 0x2F);
    CheckRegisterByte(RegisterType::D, 0x85);
    CheckRegisterByte(RegisterType::E, 0x3A);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xAA);
    CheckRegisterByte(RegisterType::L, 0xA3);
    WriteRegisterWord(RegisterType::PC, 0xF441);
    WriteRegisterWord(RegisterType::SP, 0x1710);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x853A, 0xCA);
    CheckMemory(0xF441, 0x12);
}

void test_12_02C5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x125E);
    WriteRegisterWord(RegisterType::SP, 0x1AF4);
    WriteRegisterByte(RegisterType::A, 0xDB);
    WriteRegisterByte(RegisterType::B, 0x30);
    WriteRegisterByte(RegisterType::C, 0x13);
    WriteRegisterByte(RegisterType::D, 0xC9);
    WriteRegisterByte(RegisterType::E, 0xCC);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xDB);
    WriteRegisterByte(RegisterType::L, 0x14);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x125E, 0x12);
    WriteMemory(0xC9CC, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDB);
    CheckRegisterByte(RegisterType::B, 0x30);
    CheckRegisterByte(RegisterType::C, 0x13);
    CheckRegisterByte(RegisterType::D, 0xC9);
    CheckRegisterByte(RegisterType::E, 0xCC);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xDB);
    CheckRegisterByte(RegisterType::L, 0x14);
    WriteRegisterWord(RegisterType::PC, 0x125E);
    WriteRegisterWord(RegisterType::SP, 0x1AF4);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x125E, 0x12);
    CheckMemory(0xC9CC, 0xDB);
}

void test_12_02C6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB666);
    WriteRegisterWord(RegisterType::SP, 0xF0E5);
    WriteRegisterByte(RegisterType::A, 0x86);
    WriteRegisterByte(RegisterType::B, 0xEB);
    WriteRegisterByte(RegisterType::C, 0x8F);
    WriteRegisterByte(RegisterType::D, 0x0D);
    WriteRegisterByte(RegisterType::E, 0x16);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x62);
    WriteRegisterByte(RegisterType::L, 0x62);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0D16, 0x00);
    WriteMemory(0xB666, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x86);
    CheckRegisterByte(RegisterType::B, 0xEB);
    CheckRegisterByte(RegisterType::C, 0x8F);
    CheckRegisterByte(RegisterType::D, 0x0D);
    CheckRegisterByte(RegisterType::E, 0x16);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x62);
    CheckRegisterByte(RegisterType::L, 0x62);
    WriteRegisterWord(RegisterType::PC, 0xB666);
    WriteRegisterWord(RegisterType::SP, 0xF0E5);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0D16, 0x86);
    CheckMemory(0xB666, 0x12);
}

void test_12_02C7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD611);
    WriteRegisterWord(RegisterType::SP, 0xD365);
    WriteRegisterByte(RegisterType::A, 0xF0);
    WriteRegisterByte(RegisterType::B, 0xEE);
    WriteRegisterByte(RegisterType::C, 0xC7);
    WriteRegisterByte(RegisterType::D, 0x72);
    WriteRegisterByte(RegisterType::E, 0xE4);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x93);
    WriteRegisterByte(RegisterType::L, 0xC1);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x72E4, 0x00);
    WriteMemory(0xD611, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF0);
    CheckRegisterByte(RegisterType::B, 0xEE);
    CheckRegisterByte(RegisterType::C, 0xC7);
    CheckRegisterByte(RegisterType::D, 0x72);
    CheckRegisterByte(RegisterType::E, 0xE4);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x93);
    CheckRegisterByte(RegisterType::L, 0xC1);
    WriteRegisterWord(RegisterType::PC, 0xD611);
    WriteRegisterWord(RegisterType::SP, 0xD365);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x72E4, 0xF0);
    CheckMemory(0xD611, 0x12);
}

void test_12_02C8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFAAA);
    WriteRegisterWord(RegisterType::SP, 0x8000);
    WriteRegisterByte(RegisterType::A, 0x44);
    WriteRegisterByte(RegisterType::B, 0xDF);
    WriteRegisterByte(RegisterType::C, 0x04);
    WriteRegisterByte(RegisterType::D, 0x75);
    WriteRegisterByte(RegisterType::E, 0x4F);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x11);
    WriteRegisterByte(RegisterType::L, 0x0A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x754F, 0x00);
    WriteMemory(0xFAAA, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x44);
    CheckRegisterByte(RegisterType::B, 0xDF);
    CheckRegisterByte(RegisterType::C, 0x04);
    CheckRegisterByte(RegisterType::D, 0x75);
    CheckRegisterByte(RegisterType::E, 0x4F);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x11);
    CheckRegisterByte(RegisterType::L, 0x0A);
    WriteRegisterWord(RegisterType::PC, 0xFAAA);
    WriteRegisterWord(RegisterType::SP, 0x8000);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x754F, 0x44);
    CheckMemory(0xFAAA, 0x12);
}

void test_12_02C9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB08C);
    WriteRegisterWord(RegisterType::SP, 0xA024);
    WriteRegisterByte(RegisterType::A, 0x01);
    WriteRegisterByte(RegisterType::B, 0x41);
    WriteRegisterByte(RegisterType::C, 0xCB);
    WriteRegisterByte(RegisterType::D, 0xCA);
    WriteRegisterByte(RegisterType::E, 0xD2);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x15);
    WriteRegisterByte(RegisterType::L, 0x71);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB08C, 0x12);
    WriteMemory(0xCAD2, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x01);
    CheckRegisterByte(RegisterType::B, 0x41);
    CheckRegisterByte(RegisterType::C, 0xCB);
    CheckRegisterByte(RegisterType::D, 0xCA);
    CheckRegisterByte(RegisterType::E, 0xD2);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x15);
    CheckRegisterByte(RegisterType::L, 0x71);
    WriteRegisterWord(RegisterType::PC, 0xB08C);
    WriteRegisterWord(RegisterType::SP, 0xA024);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xB08C, 0x12);
    CheckMemory(0xCAD2, 0x01);
}

void test_12_02CA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4958);
    WriteRegisterWord(RegisterType::SP, 0x5F21);
    WriteRegisterByte(RegisterType::A, 0x25);
    WriteRegisterByte(RegisterType::B, 0x96);
    WriteRegisterByte(RegisterType::C, 0x44);
    WriteRegisterByte(RegisterType::D, 0xA7);
    WriteRegisterByte(RegisterType::E, 0x31);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x93);
    WriteRegisterByte(RegisterType::L, 0x90);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4958, 0x12);
    WriteMemory(0xA731, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x25);
    CheckRegisterByte(RegisterType::B, 0x96);
    CheckRegisterByte(RegisterType::C, 0x44);
    CheckRegisterByte(RegisterType::D, 0xA7);
    CheckRegisterByte(RegisterType::E, 0x31);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x93);
    CheckRegisterByte(RegisterType::L, 0x90);
    WriteRegisterWord(RegisterType::PC, 0x4958);
    WriteRegisterWord(RegisterType::SP, 0x5F21);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4958, 0x12);
    CheckMemory(0xA731, 0x25);
}

void test_12_02CB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE93C);
    WriteRegisterWord(RegisterType::SP, 0xCDCC);
    WriteRegisterByte(RegisterType::A, 0x55);
    WriteRegisterByte(RegisterType::B, 0x19);
    WriteRegisterByte(RegisterType::C, 0x74);
    WriteRegisterByte(RegisterType::D, 0x8D);
    WriteRegisterByte(RegisterType::E, 0x0E);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x3F);
    WriteRegisterByte(RegisterType::L, 0xE5);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x8D0E, 0x00);
    WriteMemory(0xE93C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x55);
    CheckRegisterByte(RegisterType::B, 0x19);
    CheckRegisterByte(RegisterType::C, 0x74);
    CheckRegisterByte(RegisterType::D, 0x8D);
    CheckRegisterByte(RegisterType::E, 0x0E);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x3F);
    CheckRegisterByte(RegisterType::L, 0xE5);
    WriteRegisterWord(RegisterType::PC, 0xE93C);
    WriteRegisterWord(RegisterType::SP, 0xCDCC);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x8D0E, 0x55);
    CheckMemory(0xE93C, 0x12);
}

void test_12_02CC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDCD1);
    WriteRegisterWord(RegisterType::SP, 0x6A8A);
    WriteRegisterByte(RegisterType::A, 0x33);
    WriteRegisterByte(RegisterType::B, 0x2A);
    WriteRegisterByte(RegisterType::C, 0xD0);
    WriteRegisterByte(RegisterType::D, 0x4C);
    WriteRegisterByte(RegisterType::E, 0xC5);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x26);
    WriteRegisterByte(RegisterType::L, 0xCF);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4CC5, 0x00);
    WriteMemory(0xDCD1, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x33);
    CheckRegisterByte(RegisterType::B, 0x2A);
    CheckRegisterByte(RegisterType::C, 0xD0);
    CheckRegisterByte(RegisterType::D, 0x4C);
    CheckRegisterByte(RegisterType::E, 0xC5);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x26);
    CheckRegisterByte(RegisterType::L, 0xCF);
    WriteRegisterWord(RegisterType::PC, 0xDCD1);
    WriteRegisterWord(RegisterType::SP, 0x6A8A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4CC5, 0x33);
    CheckMemory(0xDCD1, 0x12);
}

void test_12_02CD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x89B6);
    WriteRegisterWord(RegisterType::SP, 0x2753);
    WriteRegisterByte(RegisterType::A, 0xFE);
    WriteRegisterByte(RegisterType::B, 0xF2);
    WriteRegisterByte(RegisterType::C, 0x3E);
    WriteRegisterByte(RegisterType::D, 0xA1);
    WriteRegisterByte(RegisterType::E, 0x2A);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x5C);
    WriteRegisterByte(RegisterType::L, 0x7E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x89B6, 0x12);
    WriteMemory(0xA12A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFE);
    CheckRegisterByte(RegisterType::B, 0xF2);
    CheckRegisterByte(RegisterType::C, 0x3E);
    CheckRegisterByte(RegisterType::D, 0xA1);
    CheckRegisterByte(RegisterType::E, 0x2A);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x5C);
    CheckRegisterByte(RegisterType::L, 0x7E);
    WriteRegisterWord(RegisterType::PC, 0x89B6);
    WriteRegisterWord(RegisterType::SP, 0x2753);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x89B6, 0x12);
    CheckMemory(0xA12A, 0xFE);
}

void test_12_02CE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3C34);
    WriteRegisterWord(RegisterType::SP, 0x4823);
    WriteRegisterByte(RegisterType::A, 0xD5);
    WriteRegisterByte(RegisterType::B, 0x41);
    WriteRegisterByte(RegisterType::C, 0xD0);
    WriteRegisterByte(RegisterType::D, 0x84);
    WriteRegisterByte(RegisterType::E, 0x28);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x04);
    WriteRegisterByte(RegisterType::L, 0x7B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3C34, 0x12);
    WriteMemory(0x8428, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD5);
    CheckRegisterByte(RegisterType::B, 0x41);
    CheckRegisterByte(RegisterType::C, 0xD0);
    CheckRegisterByte(RegisterType::D, 0x84);
    CheckRegisterByte(RegisterType::E, 0x28);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x04);
    CheckRegisterByte(RegisterType::L, 0x7B);
    WriteRegisterWord(RegisterType::PC, 0x3C34);
    WriteRegisterWord(RegisterType::SP, 0x4823);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3C34, 0x12);
    CheckMemory(0x8428, 0xD5);
}

void test_12_02CF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB4F8);
    WriteRegisterWord(RegisterType::SP, 0x1F2D);
    WriteRegisterByte(RegisterType::A, 0x46);
    WriteRegisterByte(RegisterType::B, 0xB4);
    WriteRegisterByte(RegisterType::C, 0x7B);
    WriteRegisterByte(RegisterType::D, 0xD5);
    WriteRegisterByte(RegisterType::E, 0x05);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x0A);
    WriteRegisterByte(RegisterType::L, 0x1E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB4F8, 0x12);
    WriteMemory(0xD505, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x46);
    CheckRegisterByte(RegisterType::B, 0xB4);
    CheckRegisterByte(RegisterType::C, 0x7B);
    CheckRegisterByte(RegisterType::D, 0xD5);
    CheckRegisterByte(RegisterType::E, 0x05);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x0A);
    CheckRegisterByte(RegisterType::L, 0x1E);
    WriteRegisterWord(RegisterType::PC, 0xB4F8);
    WriteRegisterWord(RegisterType::SP, 0x1F2D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xB4F8, 0x12);
    CheckMemory(0xD505, 0x46);
}

void test_12_02D0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC194);
    WriteRegisterWord(RegisterType::SP, 0x8BE1);
    WriteRegisterByte(RegisterType::A, 0x61);
    WriteRegisterByte(RegisterType::B, 0x50);
    WriteRegisterByte(RegisterType::C, 0x63);
    WriteRegisterByte(RegisterType::D, 0x49);
    WriteRegisterByte(RegisterType::E, 0xF7);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x58);
    WriteRegisterByte(RegisterType::L, 0x53);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x49F7, 0x00);
    WriteMemory(0xC194, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x61);
    CheckRegisterByte(RegisterType::B, 0x50);
    CheckRegisterByte(RegisterType::C, 0x63);
    CheckRegisterByte(RegisterType::D, 0x49);
    CheckRegisterByte(RegisterType::E, 0xF7);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x58);
    CheckRegisterByte(RegisterType::L, 0x53);
    WriteRegisterWord(RegisterType::PC, 0xC194);
    WriteRegisterWord(RegisterType::SP, 0x8BE1);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x49F7, 0x61);
    CheckMemory(0xC194, 0x12);
}

void test_12_02D1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5A95);
    WriteRegisterWord(RegisterType::SP, 0x5852);
    WriteRegisterByte(RegisterType::A, 0x34);
    WriteRegisterByte(RegisterType::B, 0x95);
    WriteRegisterByte(RegisterType::C, 0xEB);
    WriteRegisterByte(RegisterType::D, 0xD3);
    WriteRegisterByte(RegisterType::E, 0xBA);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xB0);
    WriteRegisterByte(RegisterType::L, 0xC9);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5A95, 0x12);
    WriteMemory(0xD3BA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x34);
    CheckRegisterByte(RegisterType::B, 0x95);
    CheckRegisterByte(RegisterType::C, 0xEB);
    CheckRegisterByte(RegisterType::D, 0xD3);
    CheckRegisterByte(RegisterType::E, 0xBA);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xB0);
    CheckRegisterByte(RegisterType::L, 0xC9);
    WriteRegisterWord(RegisterType::PC, 0x5A95);
    WriteRegisterWord(RegisterType::SP, 0x5852);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5A95, 0x12);
    CheckMemory(0xD3BA, 0x34);
}

void test_12_02D2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCC5E);
    WriteRegisterWord(RegisterType::SP, 0x1AC8);
    WriteRegisterByte(RegisterType::A, 0x3F);
    WriteRegisterByte(RegisterType::B, 0x50);
    WriteRegisterByte(RegisterType::C, 0xEF);
    WriteRegisterByte(RegisterType::D, 0x7B);
    WriteRegisterByte(RegisterType::E, 0xFC);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x18);
    WriteRegisterByte(RegisterType::L, 0xD9);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7BFC, 0x00);
    WriteMemory(0xCC5E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3F);
    CheckRegisterByte(RegisterType::B, 0x50);
    CheckRegisterByte(RegisterType::C, 0xEF);
    CheckRegisterByte(RegisterType::D, 0x7B);
    CheckRegisterByte(RegisterType::E, 0xFC);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x18);
    CheckRegisterByte(RegisterType::L, 0xD9);
    WriteRegisterWord(RegisterType::PC, 0xCC5E);
    WriteRegisterWord(RegisterType::SP, 0x1AC8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7BFC, 0x3F);
    CheckMemory(0xCC5E, 0x12);
}

void test_12_02D3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAA26);
    WriteRegisterWord(RegisterType::SP, 0xE3F9);
    WriteRegisterByte(RegisterType::A, 0xBE);
    WriteRegisterByte(RegisterType::B, 0xD2);
    WriteRegisterByte(RegisterType::C, 0x03);
    WriteRegisterByte(RegisterType::D, 0xC3);
    WriteRegisterByte(RegisterType::E, 0xA9);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x44);
    WriteRegisterByte(RegisterType::L, 0x73);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xAA26, 0x12);
    WriteMemory(0xC3A9, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBE);
    CheckRegisterByte(RegisterType::B, 0xD2);
    CheckRegisterByte(RegisterType::C, 0x03);
    CheckRegisterByte(RegisterType::D, 0xC3);
    CheckRegisterByte(RegisterType::E, 0xA9);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x44);
    CheckRegisterByte(RegisterType::L, 0x73);
    WriteRegisterWord(RegisterType::PC, 0xAA26);
    WriteRegisterWord(RegisterType::SP, 0xE3F9);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xAA26, 0x12);
    CheckMemory(0xC3A9, 0xBE);
}

void test_12_02D4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBE83);
    WriteRegisterWord(RegisterType::SP, 0xFC1B);
    WriteRegisterByte(RegisterType::A, 0xDB);
    WriteRegisterByte(RegisterType::B, 0x98);
    WriteRegisterByte(RegisterType::C, 0x66);
    WriteRegisterByte(RegisterType::D, 0x1B);
    WriteRegisterByte(RegisterType::E, 0xB6);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xD2);
    WriteRegisterByte(RegisterType::L, 0x3D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1BB6, 0x00);
    WriteMemory(0xBE83, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDB);
    CheckRegisterByte(RegisterType::B, 0x98);
    CheckRegisterByte(RegisterType::C, 0x66);
    CheckRegisterByte(RegisterType::D, 0x1B);
    CheckRegisterByte(RegisterType::E, 0xB6);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xD2);
    CheckRegisterByte(RegisterType::L, 0x3D);
    WriteRegisterWord(RegisterType::PC, 0xBE83);
    WriteRegisterWord(RegisterType::SP, 0xFC1B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1BB6, 0xDB);
    CheckMemory(0xBE83, 0x12);
}

void test_12_02D5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7570);
    WriteRegisterWord(RegisterType::SP, 0x97BA);
    WriteRegisterByte(RegisterType::A, 0xEC);
    WriteRegisterByte(RegisterType::B, 0x26);
    WriteRegisterByte(RegisterType::C, 0xD2);
    WriteRegisterByte(RegisterType::D, 0x3C);
    WriteRegisterByte(RegisterType::E, 0x9F);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x6F);
    WriteRegisterByte(RegisterType::L, 0x76);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3C9F, 0x00);
    WriteMemory(0x7570, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xEC);
    CheckRegisterByte(RegisterType::B, 0x26);
    CheckRegisterByte(RegisterType::C, 0xD2);
    CheckRegisterByte(RegisterType::D, 0x3C);
    CheckRegisterByte(RegisterType::E, 0x9F);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x6F);
    CheckRegisterByte(RegisterType::L, 0x76);
    WriteRegisterWord(RegisterType::PC, 0x7570);
    WriteRegisterWord(RegisterType::SP, 0x97BA);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3C9F, 0xEC);
    CheckMemory(0x7570, 0x12);
}

void test_12_02D6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCFE5);
    WriteRegisterWord(RegisterType::SP, 0x3CFA);
    WriteRegisterByte(RegisterType::A, 0x73);
    WriteRegisterByte(RegisterType::B, 0xA7);
    WriteRegisterByte(RegisterType::C, 0x83);
    WriteRegisterByte(RegisterType::D, 0xA8);
    WriteRegisterByte(RegisterType::E, 0xE2);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xCF);
    WriteRegisterByte(RegisterType::L, 0x4A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xA8E2, 0x00);
    WriteMemory(0xCFE5, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x73);
    CheckRegisterByte(RegisterType::B, 0xA7);
    CheckRegisterByte(RegisterType::C, 0x83);
    CheckRegisterByte(RegisterType::D, 0xA8);
    CheckRegisterByte(RegisterType::E, 0xE2);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xCF);
    CheckRegisterByte(RegisterType::L, 0x4A);
    WriteRegisterWord(RegisterType::PC, 0xCFE5);
    WriteRegisterWord(RegisterType::SP, 0x3CFA);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xA8E2, 0x73);
    CheckMemory(0xCFE5, 0x12);
}

void test_12_02D7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5922);
    WriteRegisterWord(RegisterType::SP, 0xA874);
    WriteRegisterByte(RegisterType::A, 0x4E);
    WriteRegisterByte(RegisterType::B, 0x1D);
    WriteRegisterByte(RegisterType::C, 0x09);
    WriteRegisterByte(RegisterType::D, 0xF0);
    WriteRegisterByte(RegisterType::E, 0x73);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x77);
    WriteRegisterByte(RegisterType::L, 0x9D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5922, 0x12);
    WriteMemory(0xF073, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4E);
    CheckRegisterByte(RegisterType::B, 0x1D);
    CheckRegisterByte(RegisterType::C, 0x09);
    CheckRegisterByte(RegisterType::D, 0xF0);
    CheckRegisterByte(RegisterType::E, 0x73);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x77);
    CheckRegisterByte(RegisterType::L, 0x9D);
    WriteRegisterWord(RegisterType::PC, 0x5922);
    WriteRegisterWord(RegisterType::SP, 0xA874);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5922, 0x12);
    CheckMemory(0xF073, 0x4E);
}

void test_12_02D8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA46E);
    WriteRegisterWord(RegisterType::SP, 0x485C);
    WriteRegisterByte(RegisterType::A, 0x6E);
    WriteRegisterByte(RegisterType::B, 0x91);
    WriteRegisterByte(RegisterType::C, 0x81);
    WriteRegisterByte(RegisterType::D, 0x19);
    WriteRegisterByte(RegisterType::E, 0xE3);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x1C);
    WriteRegisterByte(RegisterType::L, 0x69);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x19E3, 0x00);
    WriteMemory(0xA46E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6E);
    CheckRegisterByte(RegisterType::B, 0x91);
    CheckRegisterByte(RegisterType::C, 0x81);
    CheckRegisterByte(RegisterType::D, 0x19);
    CheckRegisterByte(RegisterType::E, 0xE3);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x1C);
    CheckRegisterByte(RegisterType::L, 0x69);
    WriteRegisterWord(RegisterType::PC, 0xA46E);
    WriteRegisterWord(RegisterType::SP, 0x485C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x19E3, 0x6E);
    CheckMemory(0xA46E, 0x12);
}

void test_12_02D9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x25D3);
    WriteRegisterWord(RegisterType::SP, 0x2D6B);
    WriteRegisterByte(RegisterType::A, 0x0C);
    WriteRegisterByte(RegisterType::B, 0x9C);
    WriteRegisterByte(RegisterType::C, 0x55);
    WriteRegisterByte(RegisterType::D, 0x20);
    WriteRegisterByte(RegisterType::E, 0xB2);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xF0);
    WriteRegisterByte(RegisterType::L, 0x6A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x20B2, 0x00);
    WriteMemory(0x25D3, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0C);
    CheckRegisterByte(RegisterType::B, 0x9C);
    CheckRegisterByte(RegisterType::C, 0x55);
    CheckRegisterByte(RegisterType::D, 0x20);
    CheckRegisterByte(RegisterType::E, 0xB2);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xF0);
    CheckRegisterByte(RegisterType::L, 0x6A);
    WriteRegisterWord(RegisterType::PC, 0x25D3);
    WriteRegisterWord(RegisterType::SP, 0x2D6B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x20B2, 0x0C);
    CheckMemory(0x25D3, 0x12);
}

void test_12_02DA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB41A);
    WriteRegisterWord(RegisterType::SP, 0x1F62);
    WriteRegisterByte(RegisterType::A, 0x1C);
    WriteRegisterByte(RegisterType::B, 0x85);
    WriteRegisterByte(RegisterType::C, 0x2B);
    WriteRegisterByte(RegisterType::D, 0xCC);
    WriteRegisterByte(RegisterType::E, 0x66);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x84);
    WriteRegisterByte(RegisterType::L, 0x8E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB41A, 0x12);
    WriteMemory(0xCC66, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1C);
    CheckRegisterByte(RegisterType::B, 0x85);
    CheckRegisterByte(RegisterType::C, 0x2B);
    CheckRegisterByte(RegisterType::D, 0xCC);
    CheckRegisterByte(RegisterType::E, 0x66);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x84);
    CheckRegisterByte(RegisterType::L, 0x8E);
    WriteRegisterWord(RegisterType::PC, 0xB41A);
    WriteRegisterWord(RegisterType::SP, 0x1F62);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xB41A, 0x12);
    CheckMemory(0xCC66, 0x1C);
}

void test_12_02DB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7C9D);
    WriteRegisterWord(RegisterType::SP, 0x0116);
    WriteRegisterByte(RegisterType::A, 0x59);
    WriteRegisterByte(RegisterType::B, 0xC0);
    WriteRegisterByte(RegisterType::C, 0xB8);
    WriteRegisterByte(RegisterType::D, 0x1C);
    WriteRegisterByte(RegisterType::E, 0x1C);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x13);
    WriteRegisterByte(RegisterType::L, 0x12);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1C1C, 0x00);
    WriteMemory(0x7C9D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x59);
    CheckRegisterByte(RegisterType::B, 0xC0);
    CheckRegisterByte(RegisterType::C, 0xB8);
    CheckRegisterByte(RegisterType::D, 0x1C);
    CheckRegisterByte(RegisterType::E, 0x1C);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x13);
    CheckRegisterByte(RegisterType::L, 0x12);
    WriteRegisterWord(RegisterType::PC, 0x7C9D);
    WriteRegisterWord(RegisterType::SP, 0x0116);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1C1C, 0x59);
    CheckMemory(0x7C9D, 0x12);
}

void test_12_02DC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB39E);
    WriteRegisterWord(RegisterType::SP, 0x2068);
    WriteRegisterByte(RegisterType::A, 0xF1);
    WriteRegisterByte(RegisterType::B, 0x33);
    WriteRegisterByte(RegisterType::C, 0x0E);
    WriteRegisterByte(RegisterType::D, 0x8F);
    WriteRegisterByte(RegisterType::E, 0x42);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x44);
    WriteRegisterByte(RegisterType::L, 0xF2);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x8F42, 0x00);
    WriteMemory(0xB39E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF1);
    CheckRegisterByte(RegisterType::B, 0x33);
    CheckRegisterByte(RegisterType::C, 0x0E);
    CheckRegisterByte(RegisterType::D, 0x8F);
    CheckRegisterByte(RegisterType::E, 0x42);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x44);
    CheckRegisterByte(RegisterType::L, 0xF2);
    WriteRegisterWord(RegisterType::PC, 0xB39E);
    WriteRegisterWord(RegisterType::SP, 0x2068);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x8F42, 0xF1);
    CheckMemory(0xB39E, 0x12);
}

void test_12_02DD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF3DC);
    WriteRegisterWord(RegisterType::SP, 0x1C98);
    WriteRegisterByte(RegisterType::A, 0x67);
    WriteRegisterByte(RegisterType::B, 0x4E);
    WriteRegisterByte(RegisterType::C, 0xFA);
    WriteRegisterByte(RegisterType::D, 0x0F);
    WriteRegisterByte(RegisterType::E, 0x0F);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xBE);
    WriteRegisterByte(RegisterType::L, 0x31);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0F0F, 0x00);
    WriteMemory(0xF3DC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x67);
    CheckRegisterByte(RegisterType::B, 0x4E);
    CheckRegisterByte(RegisterType::C, 0xFA);
    CheckRegisterByte(RegisterType::D, 0x0F);
    CheckRegisterByte(RegisterType::E, 0x0F);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xBE);
    CheckRegisterByte(RegisterType::L, 0x31);
    WriteRegisterWord(RegisterType::PC, 0xF3DC);
    WriteRegisterWord(RegisterType::SP, 0x1C98);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0F0F, 0x67);
    CheckMemory(0xF3DC, 0x12);
}

void test_12_02DE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x068A);
    WriteRegisterWord(RegisterType::SP, 0xE289);
    WriteRegisterByte(RegisterType::A, 0x58);
    WriteRegisterByte(RegisterType::B, 0xD8);
    WriteRegisterByte(RegisterType::C, 0x7C);
    WriteRegisterByte(RegisterType::D, 0xD9);
    WriteRegisterByte(RegisterType::E, 0x14);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x69);
    WriteRegisterByte(RegisterType::L, 0xA1);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x068A, 0x12);
    WriteMemory(0xD914, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x58);
    CheckRegisterByte(RegisterType::B, 0xD8);
    CheckRegisterByte(RegisterType::C, 0x7C);
    CheckRegisterByte(RegisterType::D, 0xD9);
    CheckRegisterByte(RegisterType::E, 0x14);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x69);
    CheckRegisterByte(RegisterType::L, 0xA1);
    WriteRegisterWord(RegisterType::PC, 0x068A);
    WriteRegisterWord(RegisterType::SP, 0xE289);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x068A, 0x12);
    CheckMemory(0xD914, 0x58);
}

void test_12_02DF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0C9D);
    WriteRegisterWord(RegisterType::SP, 0xBB67);
    WriteRegisterByte(RegisterType::A, 0x94);
    WriteRegisterByte(RegisterType::B, 0xEF);
    WriteRegisterByte(RegisterType::C, 0x7C);
    WriteRegisterByte(RegisterType::D, 0x5C);
    WriteRegisterByte(RegisterType::E, 0x72);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x89);
    WriteRegisterByte(RegisterType::L, 0x1F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0C9D, 0x12);
    WriteMemory(0x5C72, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x94);
    CheckRegisterByte(RegisterType::B, 0xEF);
    CheckRegisterByte(RegisterType::C, 0x7C);
    CheckRegisterByte(RegisterType::D, 0x5C);
    CheckRegisterByte(RegisterType::E, 0x72);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x89);
    CheckRegisterByte(RegisterType::L, 0x1F);
    WriteRegisterWord(RegisterType::PC, 0x0C9D);
    WriteRegisterWord(RegisterType::SP, 0xBB67);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0C9D, 0x12);
    CheckMemory(0x5C72, 0x94);
}

void test_12_02E0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0D94);
    WriteRegisterWord(RegisterType::SP, 0xD48A);
    WriteRegisterByte(RegisterType::A, 0xF0);
    WriteRegisterByte(RegisterType::B, 0x23);
    WriteRegisterByte(RegisterType::C, 0xD7);
    WriteRegisterByte(RegisterType::D, 0xD7);
    WriteRegisterByte(RegisterType::E, 0x71);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xB1);
    WriteRegisterByte(RegisterType::L, 0xE6);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0D94, 0x12);
    WriteMemory(0xD771, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF0);
    CheckRegisterByte(RegisterType::B, 0x23);
    CheckRegisterByte(RegisterType::C, 0xD7);
    CheckRegisterByte(RegisterType::D, 0xD7);
    CheckRegisterByte(RegisterType::E, 0x71);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xB1);
    CheckRegisterByte(RegisterType::L, 0xE6);
    WriteRegisterWord(RegisterType::PC, 0x0D94);
    WriteRegisterWord(RegisterType::SP, 0xD48A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0D94, 0x12);
    CheckMemory(0xD771, 0xF0);
}

void test_12_02E1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAC5D);
    WriteRegisterWord(RegisterType::SP, 0xBD5F);
    WriteRegisterByte(RegisterType::A, 0xF4);
    WriteRegisterByte(RegisterType::B, 0xE4);
    WriteRegisterByte(RegisterType::C, 0x5C);
    WriteRegisterByte(RegisterType::D, 0xE7);
    WriteRegisterByte(RegisterType::E, 0xDB);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x2B);
    WriteRegisterByte(RegisterType::L, 0x52);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xAC5D, 0x12);
    WriteMemory(0xE7DB, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF4);
    CheckRegisterByte(RegisterType::B, 0xE4);
    CheckRegisterByte(RegisterType::C, 0x5C);
    CheckRegisterByte(RegisterType::D, 0xE7);
    CheckRegisterByte(RegisterType::E, 0xDB);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x2B);
    CheckRegisterByte(RegisterType::L, 0x52);
    WriteRegisterWord(RegisterType::PC, 0xAC5D);
    WriteRegisterWord(RegisterType::SP, 0xBD5F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xAC5D, 0x12);
    CheckMemory(0xE7DB, 0xF4);
}

void test_12_02E2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5908);
    WriteRegisterWord(RegisterType::SP, 0x84BB);
    WriteRegisterByte(RegisterType::A, 0x5D);
    WriteRegisterByte(RegisterType::B, 0x60);
    WriteRegisterByte(RegisterType::C, 0xAF);
    WriteRegisterByte(RegisterType::D, 0xBA);
    WriteRegisterByte(RegisterType::E, 0x44);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x23);
    WriteRegisterByte(RegisterType::L, 0x29);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5908, 0x12);
    WriteMemory(0xBA44, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5D);
    CheckRegisterByte(RegisterType::B, 0x60);
    CheckRegisterByte(RegisterType::C, 0xAF);
    CheckRegisterByte(RegisterType::D, 0xBA);
    CheckRegisterByte(RegisterType::E, 0x44);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x23);
    CheckRegisterByte(RegisterType::L, 0x29);
    WriteRegisterWord(RegisterType::PC, 0x5908);
    WriteRegisterWord(RegisterType::SP, 0x84BB);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5908, 0x12);
    CheckMemory(0xBA44, 0x5D);
}

void test_12_02E3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAD83);
    WriteRegisterWord(RegisterType::SP, 0xDD53);
    WriteRegisterByte(RegisterType::A, 0x06);
    WriteRegisterByte(RegisterType::B, 0x63);
    WriteRegisterByte(RegisterType::C, 0x5E);
    WriteRegisterByte(RegisterType::D, 0x24);
    WriteRegisterByte(RegisterType::E, 0x30);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x3B);
    WriteRegisterByte(RegisterType::L, 0x1E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2430, 0x00);
    WriteMemory(0xAD83, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x06);
    CheckRegisterByte(RegisterType::B, 0x63);
    CheckRegisterByte(RegisterType::C, 0x5E);
    CheckRegisterByte(RegisterType::D, 0x24);
    CheckRegisterByte(RegisterType::E, 0x30);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x3B);
    CheckRegisterByte(RegisterType::L, 0x1E);
    WriteRegisterWord(RegisterType::PC, 0xAD83);
    WriteRegisterWord(RegisterType::SP, 0xDD53);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2430, 0x06);
    CheckMemory(0xAD83, 0x12);
}

void test_12_02E4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4F11);
    WriteRegisterWord(RegisterType::SP, 0x408E);
    WriteRegisterByte(RegisterType::A, 0xA6);
    WriteRegisterByte(RegisterType::B, 0xF3);
    WriteRegisterByte(RegisterType::C, 0xBF);
    WriteRegisterByte(RegisterType::D, 0x42);
    WriteRegisterByte(RegisterType::E, 0x4E);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xEB);
    WriteRegisterByte(RegisterType::L, 0x1A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x424E, 0x00);
    WriteMemory(0x4F11, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA6);
    CheckRegisterByte(RegisterType::B, 0xF3);
    CheckRegisterByte(RegisterType::C, 0xBF);
    CheckRegisterByte(RegisterType::D, 0x42);
    CheckRegisterByte(RegisterType::E, 0x4E);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xEB);
    CheckRegisterByte(RegisterType::L, 0x1A);
    WriteRegisterWord(RegisterType::PC, 0x4F11);
    WriteRegisterWord(RegisterType::SP, 0x408E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x424E, 0xA6);
    CheckMemory(0x4F11, 0x12);
}

void test_12_02E5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7B1A);
    WriteRegisterWord(RegisterType::SP, 0xD1F6);
    WriteRegisterByte(RegisterType::A, 0xB4);
    WriteRegisterByte(RegisterType::B, 0xE0);
    WriteRegisterByte(RegisterType::C, 0xF0);
    WriteRegisterByte(RegisterType::D, 0x98);
    WriteRegisterByte(RegisterType::E, 0x4B);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xC4);
    WriteRegisterByte(RegisterType::L, 0x93);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7B1A, 0x12);
    WriteMemory(0x984B, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB4);
    CheckRegisterByte(RegisterType::B, 0xE0);
    CheckRegisterByte(RegisterType::C, 0xF0);
    CheckRegisterByte(RegisterType::D, 0x98);
    CheckRegisterByte(RegisterType::E, 0x4B);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xC4);
    CheckRegisterByte(RegisterType::L, 0x93);
    WriteRegisterWord(RegisterType::PC, 0x7B1A);
    WriteRegisterWord(RegisterType::SP, 0xD1F6);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x7B1A, 0x12);
    CheckMemory(0x984B, 0xB4);
}

void test_12_02E6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x551D);
    WriteRegisterWord(RegisterType::SP, 0xFA32);
    WriteRegisterByte(RegisterType::A, 0xBB);
    WriteRegisterByte(RegisterType::B, 0x99);
    WriteRegisterByte(RegisterType::C, 0x3D);
    WriteRegisterByte(RegisterType::D, 0xAD);
    WriteRegisterByte(RegisterType::E, 0x1A);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x62);
    WriteRegisterByte(RegisterType::L, 0x0D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x551D, 0x12);
    WriteMemory(0xAD1A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBB);
    CheckRegisterByte(RegisterType::B, 0x99);
    CheckRegisterByte(RegisterType::C, 0x3D);
    CheckRegisterByte(RegisterType::D, 0xAD);
    CheckRegisterByte(RegisterType::E, 0x1A);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x62);
    CheckRegisterByte(RegisterType::L, 0x0D);
    WriteRegisterWord(RegisterType::PC, 0x551D);
    WriteRegisterWord(RegisterType::SP, 0xFA32);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x551D, 0x12);
    CheckMemory(0xAD1A, 0xBB);
}

void test_12_02E7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAB67);
    WriteRegisterWord(RegisterType::SP, 0x541E);
    WriteRegisterByte(RegisterType::A, 0x4D);
    WriteRegisterByte(RegisterType::B, 0xC8);
    WriteRegisterByte(RegisterType::C, 0x30);
    WriteRegisterByte(RegisterType::D, 0xDC);
    WriteRegisterByte(RegisterType::E, 0x14);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xFE);
    WriteRegisterByte(RegisterType::L, 0x0B);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xAB67, 0x12);
    WriteMemory(0xDC14, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4D);
    CheckRegisterByte(RegisterType::B, 0xC8);
    CheckRegisterByte(RegisterType::C, 0x30);
    CheckRegisterByte(RegisterType::D, 0xDC);
    CheckRegisterByte(RegisterType::E, 0x14);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xFE);
    CheckRegisterByte(RegisterType::L, 0x0B);
    WriteRegisterWord(RegisterType::PC, 0xAB67);
    WriteRegisterWord(RegisterType::SP, 0x541E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xAB67, 0x12);
    CheckMemory(0xDC14, 0x4D);
}

void test_12_02E8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF85C);
    WriteRegisterWord(RegisterType::SP, 0x8428);
    WriteRegisterByte(RegisterType::A, 0x5F);
    WriteRegisterByte(RegisterType::B, 0xDA);
    WriteRegisterByte(RegisterType::C, 0x65);
    WriteRegisterByte(RegisterType::D, 0xB0);
    WriteRegisterByte(RegisterType::E, 0x5E);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x66);
    WriteRegisterByte(RegisterType::L, 0xF7);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB05E, 0x00);
    WriteMemory(0xF85C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5F);
    CheckRegisterByte(RegisterType::B, 0xDA);
    CheckRegisterByte(RegisterType::C, 0x65);
    CheckRegisterByte(RegisterType::D, 0xB0);
    CheckRegisterByte(RegisterType::E, 0x5E);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x66);
    CheckRegisterByte(RegisterType::L, 0xF7);
    WriteRegisterWord(RegisterType::PC, 0xF85C);
    WriteRegisterWord(RegisterType::SP, 0x8428);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xB05E, 0x5F);
    CheckMemory(0xF85C, 0x12);
}

void test_12_02E9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCFA7);
    WriteRegisterWord(RegisterType::SP, 0xE5A2);
    WriteRegisterByte(RegisterType::A, 0xC6);
    WriteRegisterByte(RegisterType::B, 0xAC);
    WriteRegisterByte(RegisterType::C, 0x2F);
    WriteRegisterByte(RegisterType::D, 0x32);
    WriteRegisterByte(RegisterType::E, 0xDD);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x43);
    WriteRegisterByte(RegisterType::L, 0x41);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x32DD, 0x00);
    WriteMemory(0xCFA7, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC6);
    CheckRegisterByte(RegisterType::B, 0xAC);
    CheckRegisterByte(RegisterType::C, 0x2F);
    CheckRegisterByte(RegisterType::D, 0x32);
    CheckRegisterByte(RegisterType::E, 0xDD);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x43);
    CheckRegisterByte(RegisterType::L, 0x41);
    WriteRegisterWord(RegisterType::PC, 0xCFA7);
    WriteRegisterWord(RegisterType::SP, 0xE5A2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x32DD, 0xC6);
    CheckMemory(0xCFA7, 0x12);
}

void test_12_02EA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD72F);
    WriteRegisterWord(RegisterType::SP, 0xDC14);
    WriteRegisterByte(RegisterType::A, 0xC6);
    WriteRegisterByte(RegisterType::B, 0x39);
    WriteRegisterByte(RegisterType::C, 0x55);
    WriteRegisterByte(RegisterType::D, 0xF1);
    WriteRegisterByte(RegisterType::E, 0xB2);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x97);
    WriteRegisterByte(RegisterType::L, 0x37);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xD72F, 0x12);
    WriteMemory(0xF1B2, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC6);
    CheckRegisterByte(RegisterType::B, 0x39);
    CheckRegisterByte(RegisterType::C, 0x55);
    CheckRegisterByte(RegisterType::D, 0xF1);
    CheckRegisterByte(RegisterType::E, 0xB2);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x97);
    CheckRegisterByte(RegisterType::L, 0x37);
    WriteRegisterWord(RegisterType::PC, 0xD72F);
    WriteRegisterWord(RegisterType::SP, 0xDC14);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xD72F, 0x12);
    CheckMemory(0xF1B2, 0xC6);
}

void test_12_02EB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFCFC);
    WriteRegisterWord(RegisterType::SP, 0xE604);
    WriteRegisterByte(RegisterType::A, 0x39);
    WriteRegisterByte(RegisterType::B, 0xD7);
    WriteRegisterByte(RegisterType::C, 0x4C);
    WriteRegisterByte(RegisterType::D, 0x6B);
    WriteRegisterByte(RegisterType::E, 0x18);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xDE);
    WriteRegisterByte(RegisterType::L, 0x91);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6B18, 0x00);
    WriteMemory(0xFCFC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x39);
    CheckRegisterByte(RegisterType::B, 0xD7);
    CheckRegisterByte(RegisterType::C, 0x4C);
    CheckRegisterByte(RegisterType::D, 0x6B);
    CheckRegisterByte(RegisterType::E, 0x18);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xDE);
    CheckRegisterByte(RegisterType::L, 0x91);
    WriteRegisterWord(RegisterType::PC, 0xFCFC);
    WriteRegisterWord(RegisterType::SP, 0xE604);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6B18, 0x39);
    CheckMemory(0xFCFC, 0x12);
}

void test_12_02EC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA385);
    WriteRegisterWord(RegisterType::SP, 0xEAC4);
    WriteRegisterByte(RegisterType::A, 0x7A);
    WriteRegisterByte(RegisterType::B, 0xC3);
    WriteRegisterByte(RegisterType::C, 0xB4);
    WriteRegisterByte(RegisterType::D, 0x8D);
    WriteRegisterByte(RegisterType::E, 0xC0);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x34);
    WriteRegisterByte(RegisterType::L, 0x3F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x8DC0, 0x00);
    WriteMemory(0xA385, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7A);
    CheckRegisterByte(RegisterType::B, 0xC3);
    CheckRegisterByte(RegisterType::C, 0xB4);
    CheckRegisterByte(RegisterType::D, 0x8D);
    CheckRegisterByte(RegisterType::E, 0xC0);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x34);
    CheckRegisterByte(RegisterType::L, 0x3F);
    WriteRegisterWord(RegisterType::PC, 0xA385);
    WriteRegisterWord(RegisterType::SP, 0xEAC4);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x8DC0, 0x7A);
    CheckMemory(0xA385, 0x12);
}

void test_12_02ED()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x49D9);
    WriteRegisterWord(RegisterType::SP, 0xD847);
    WriteRegisterByte(RegisterType::A, 0xF6);
    WriteRegisterByte(RegisterType::B, 0x37);
    WriteRegisterByte(RegisterType::C, 0xC4);
    WriteRegisterByte(RegisterType::D, 0xB6);
    WriteRegisterByte(RegisterType::E, 0x68);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xD9);
    WriteRegisterByte(RegisterType::L, 0x41);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x49D9, 0x12);
    WriteMemory(0xB668, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF6);
    CheckRegisterByte(RegisterType::B, 0x37);
    CheckRegisterByte(RegisterType::C, 0xC4);
    CheckRegisterByte(RegisterType::D, 0xB6);
    CheckRegisterByte(RegisterType::E, 0x68);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xD9);
    CheckRegisterByte(RegisterType::L, 0x41);
    WriteRegisterWord(RegisterType::PC, 0x49D9);
    WriteRegisterWord(RegisterType::SP, 0xD847);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x49D9, 0x12);
    CheckMemory(0xB668, 0xF6);
}

void test_12_02EE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBD25);
    WriteRegisterWord(RegisterType::SP, 0xCB12);
    WriteRegisterByte(RegisterType::A, 0xB8);
    WriteRegisterByte(RegisterType::B, 0xE1);
    WriteRegisterByte(RegisterType::C, 0xC8);
    WriteRegisterByte(RegisterType::D, 0x5F);
    WriteRegisterByte(RegisterType::E, 0x5D);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xBE);
    WriteRegisterByte(RegisterType::L, 0x31);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5F5D, 0x00);
    WriteMemory(0xBD25, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB8);
    CheckRegisterByte(RegisterType::B, 0xE1);
    CheckRegisterByte(RegisterType::C, 0xC8);
    CheckRegisterByte(RegisterType::D, 0x5F);
    CheckRegisterByte(RegisterType::E, 0x5D);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xBE);
    CheckRegisterByte(RegisterType::L, 0x31);
    WriteRegisterWord(RegisterType::PC, 0xBD25);
    WriteRegisterWord(RegisterType::SP, 0xCB12);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5F5D, 0xB8);
    CheckMemory(0xBD25, 0x12);
}

void test_12_02EF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF0EC);
    WriteRegisterWord(RegisterType::SP, 0xD744);
    WriteRegisterByte(RegisterType::A, 0xF9);
    WriteRegisterByte(RegisterType::B, 0xE8);
    WriteRegisterByte(RegisterType::C, 0xDA);
    WriteRegisterByte(RegisterType::D, 0x18);
    WriteRegisterByte(RegisterType::E, 0x73);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xC9);
    WriteRegisterByte(RegisterType::L, 0x40);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1873, 0x00);
    WriteMemory(0xF0EC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF9);
    CheckRegisterByte(RegisterType::B, 0xE8);
    CheckRegisterByte(RegisterType::C, 0xDA);
    CheckRegisterByte(RegisterType::D, 0x18);
    CheckRegisterByte(RegisterType::E, 0x73);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xC9);
    CheckRegisterByte(RegisterType::L, 0x40);
    WriteRegisterWord(RegisterType::PC, 0xF0EC);
    WriteRegisterWord(RegisterType::SP, 0xD744);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1873, 0xF9);
    CheckMemory(0xF0EC, 0x12);
}

void test_12_02F0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x897C);
    WriteRegisterWord(RegisterType::SP, 0x5F55);
    WriteRegisterByte(RegisterType::A, 0xB2);
    WriteRegisterByte(RegisterType::B, 0x4C);
    WriteRegisterByte(RegisterType::C, 0x23);
    WriteRegisterByte(RegisterType::D, 0x9D);
    WriteRegisterByte(RegisterType::E, 0x45);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x8B);
    WriteRegisterByte(RegisterType::L, 0x91);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x897C, 0x12);
    WriteMemory(0x9D45, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB2);
    CheckRegisterByte(RegisterType::B, 0x4C);
    CheckRegisterByte(RegisterType::C, 0x23);
    CheckRegisterByte(RegisterType::D, 0x9D);
    CheckRegisterByte(RegisterType::E, 0x45);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x8B);
    CheckRegisterByte(RegisterType::L, 0x91);
    WriteRegisterWord(RegisterType::PC, 0x897C);
    WriteRegisterWord(RegisterType::SP, 0x5F55);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x897C, 0x12);
    CheckMemory(0x9D45, 0xB2);
}

void test_12_02F1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF52D);
    WriteRegisterWord(RegisterType::SP, 0x7B42);
    WriteRegisterByte(RegisterType::A, 0x4C);
    WriteRegisterByte(RegisterType::B, 0x94);
    WriteRegisterByte(RegisterType::C, 0xBD);
    WriteRegisterByte(RegisterType::D, 0xE8);
    WriteRegisterByte(RegisterType::E, 0x6E);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x94);
    WriteRegisterByte(RegisterType::L, 0x7C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xE86E, 0x00);
    WriteMemory(0xF52D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4C);
    CheckRegisterByte(RegisterType::B, 0x94);
    CheckRegisterByte(RegisterType::C, 0xBD);
    CheckRegisterByte(RegisterType::D, 0xE8);
    CheckRegisterByte(RegisterType::E, 0x6E);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x94);
    CheckRegisterByte(RegisterType::L, 0x7C);
    WriteRegisterWord(RegisterType::PC, 0xF52D);
    WriteRegisterWord(RegisterType::SP, 0x7B42);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xE86E, 0x4C);
    CheckMemory(0xF52D, 0x12);
}

void test_12_02F2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFCBE);
    WriteRegisterWord(RegisterType::SP, 0x9ADD);
    WriteRegisterByte(RegisterType::A, 0xB2);
    WriteRegisterByte(RegisterType::B, 0x31);
    WriteRegisterByte(RegisterType::C, 0xEB);
    WriteRegisterByte(RegisterType::D, 0xFB);
    WriteRegisterByte(RegisterType::E, 0x14);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x80);
    WriteRegisterByte(RegisterType::L, 0x88);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xFB14, 0x00);
    WriteMemory(0xFCBE, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB2);
    CheckRegisterByte(RegisterType::B, 0x31);
    CheckRegisterByte(RegisterType::C, 0xEB);
    CheckRegisterByte(RegisterType::D, 0xFB);
    CheckRegisterByte(RegisterType::E, 0x14);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x80);
    CheckRegisterByte(RegisterType::L, 0x88);
    WriteRegisterWord(RegisterType::PC, 0xFCBE);
    WriteRegisterWord(RegisterType::SP, 0x9ADD);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xFB14, 0xB2);
    CheckMemory(0xFCBE, 0x12);
}

void test_12_02F3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x062E);
    WriteRegisterWord(RegisterType::SP, 0x574C);
    WriteRegisterByte(RegisterType::A, 0xBF);
    WriteRegisterByte(RegisterType::B, 0x99);
    WriteRegisterByte(RegisterType::C, 0xCA);
    WriteRegisterByte(RegisterType::D, 0x24);
    WriteRegisterByte(RegisterType::E, 0x8E);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x55);
    WriteRegisterByte(RegisterType::L, 0xD6);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x062E, 0x12);
    WriteMemory(0x248E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBF);
    CheckRegisterByte(RegisterType::B, 0x99);
    CheckRegisterByte(RegisterType::C, 0xCA);
    CheckRegisterByte(RegisterType::D, 0x24);
    CheckRegisterByte(RegisterType::E, 0x8E);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x55);
    CheckRegisterByte(RegisterType::L, 0xD6);
    WriteRegisterWord(RegisterType::PC, 0x062E);
    WriteRegisterWord(RegisterType::SP, 0x574C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x062E, 0x12);
    CheckMemory(0x248E, 0xBF);
}

void test_12_02F4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA477);
    WriteRegisterWord(RegisterType::SP, 0x170F);
    WriteRegisterByte(RegisterType::A, 0x59);
    WriteRegisterByte(RegisterType::B, 0xA7);
    WriteRegisterByte(RegisterType::C, 0x9C);
    WriteRegisterByte(RegisterType::D, 0x48);
    WriteRegisterByte(RegisterType::E, 0x84);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x1F);
    WriteRegisterByte(RegisterType::L, 0x31);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4884, 0x00);
    WriteMemory(0xA477, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x59);
    CheckRegisterByte(RegisterType::B, 0xA7);
    CheckRegisterByte(RegisterType::C, 0x9C);
    CheckRegisterByte(RegisterType::D, 0x48);
    CheckRegisterByte(RegisterType::E, 0x84);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x1F);
    CheckRegisterByte(RegisterType::L, 0x31);
    WriteRegisterWord(RegisterType::PC, 0xA477);
    WriteRegisterWord(RegisterType::SP, 0x170F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4884, 0x59);
    CheckMemory(0xA477, 0x12);
}

void test_12_02F5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x08A2);
    WriteRegisterWord(RegisterType::SP, 0x5992);
    WriteRegisterByte(RegisterType::A, 0x9D);
    WriteRegisterByte(RegisterType::B, 0x31);
    WriteRegisterByte(RegisterType::C, 0xBA);
    WriteRegisterByte(RegisterType::D, 0xE7);
    WriteRegisterByte(RegisterType::E, 0x7B);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x4E);
    WriteRegisterByte(RegisterType::L, 0x0B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x08A2, 0x12);
    WriteMemory(0xE77B, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9D);
    CheckRegisterByte(RegisterType::B, 0x31);
    CheckRegisterByte(RegisterType::C, 0xBA);
    CheckRegisterByte(RegisterType::D, 0xE7);
    CheckRegisterByte(RegisterType::E, 0x7B);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x4E);
    CheckRegisterByte(RegisterType::L, 0x0B);
    WriteRegisterWord(RegisterType::PC, 0x08A2);
    WriteRegisterWord(RegisterType::SP, 0x5992);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x08A2, 0x12);
    CheckMemory(0xE77B, 0x9D);
}

void test_12_02F6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAA59);
    WriteRegisterWord(RegisterType::SP, 0xBE09);
    WriteRegisterByte(RegisterType::A, 0xC0);
    WriteRegisterByte(RegisterType::B, 0x6E);
    WriteRegisterByte(RegisterType::C, 0x43);
    WriteRegisterByte(RegisterType::D, 0x31);
    WriteRegisterByte(RegisterType::E, 0x6F);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x56);
    WriteRegisterByte(RegisterType::L, 0x69);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x316F, 0x00);
    WriteMemory(0xAA59, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC0);
    CheckRegisterByte(RegisterType::B, 0x6E);
    CheckRegisterByte(RegisterType::C, 0x43);
    CheckRegisterByte(RegisterType::D, 0x31);
    CheckRegisterByte(RegisterType::E, 0x6F);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x56);
    CheckRegisterByte(RegisterType::L, 0x69);
    WriteRegisterWord(RegisterType::PC, 0xAA59);
    WriteRegisterWord(RegisterType::SP, 0xBE09);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x316F, 0xC0);
    CheckMemory(0xAA59, 0x12);
}

void test_12_02F7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAEDE);
    WriteRegisterWord(RegisterType::SP, 0x777B);
    WriteRegisterByte(RegisterType::A, 0xF8);
    WriteRegisterByte(RegisterType::B, 0xC2);
    WriteRegisterByte(RegisterType::C, 0x88);
    WriteRegisterByte(RegisterType::D, 0x68);
    WriteRegisterByte(RegisterType::E, 0x07);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x69);
    WriteRegisterByte(RegisterType::L, 0x53);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6807, 0x00);
    WriteMemory(0xAEDE, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF8);
    CheckRegisterByte(RegisterType::B, 0xC2);
    CheckRegisterByte(RegisterType::C, 0x88);
    CheckRegisterByte(RegisterType::D, 0x68);
    CheckRegisterByte(RegisterType::E, 0x07);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x69);
    CheckRegisterByte(RegisterType::L, 0x53);
    WriteRegisterWord(RegisterType::PC, 0xAEDE);
    WriteRegisterWord(RegisterType::SP, 0x777B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6807, 0xF8);
    CheckMemory(0xAEDE, 0x12);
}

void test_12_02F8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x35D1);
    WriteRegisterWord(RegisterType::SP, 0x01A3);
    WriteRegisterByte(RegisterType::A, 0x26);
    WriteRegisterByte(RegisterType::B, 0xAB);
    WriteRegisterByte(RegisterType::C, 0x96);
    WriteRegisterByte(RegisterType::D, 0xD8);
    WriteRegisterByte(RegisterType::E, 0x30);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x57);
    WriteRegisterByte(RegisterType::L, 0x3A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x35D1, 0x12);
    WriteMemory(0xD830, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x26);
    CheckRegisterByte(RegisterType::B, 0xAB);
    CheckRegisterByte(RegisterType::C, 0x96);
    CheckRegisterByte(RegisterType::D, 0xD8);
    CheckRegisterByte(RegisterType::E, 0x30);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x57);
    CheckRegisterByte(RegisterType::L, 0x3A);
    WriteRegisterWord(RegisterType::PC, 0x35D1);
    WriteRegisterWord(RegisterType::SP, 0x01A3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x35D1, 0x12);
    CheckMemory(0xD830, 0x26);
}

void test_12_02F9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4476);
    WriteRegisterWord(RegisterType::SP, 0x16B1);
    WriteRegisterByte(RegisterType::A, 0x22);
    WriteRegisterByte(RegisterType::B, 0xD1);
    WriteRegisterByte(RegisterType::C, 0x29);
    WriteRegisterByte(RegisterType::D, 0x12);
    WriteRegisterByte(RegisterType::E, 0x99);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xEA);
    WriteRegisterByte(RegisterType::L, 0x8E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1299, 0x00);
    WriteMemory(0x4476, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x22);
    CheckRegisterByte(RegisterType::B, 0xD1);
    CheckRegisterByte(RegisterType::C, 0x29);
    CheckRegisterByte(RegisterType::D, 0x12);
    CheckRegisterByte(RegisterType::E, 0x99);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xEA);
    CheckRegisterByte(RegisterType::L, 0x8E);
    WriteRegisterWord(RegisterType::PC, 0x4476);
    WriteRegisterWord(RegisterType::SP, 0x16B1);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1299, 0x22);
    CheckMemory(0x4476, 0x12);
}

void test_12_02FA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3353);
    WriteRegisterWord(RegisterType::SP, 0x286E);
    WriteRegisterByte(RegisterType::A, 0x79);
    WriteRegisterByte(RegisterType::B, 0xD2);
    WriteRegisterByte(RegisterType::C, 0x00);
    WriteRegisterByte(RegisterType::D, 0x2A);
    WriteRegisterByte(RegisterType::E, 0xB3);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x7A);
    WriteRegisterByte(RegisterType::L, 0x74);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2AB3, 0x00);
    WriteMemory(0x3353, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x79);
    CheckRegisterByte(RegisterType::B, 0xD2);
    CheckRegisterByte(RegisterType::C, 0x00);
    CheckRegisterByte(RegisterType::D, 0x2A);
    CheckRegisterByte(RegisterType::E, 0xB3);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x7A);
    CheckRegisterByte(RegisterType::L, 0x74);
    WriteRegisterWord(RegisterType::PC, 0x3353);
    WriteRegisterWord(RegisterType::SP, 0x286E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2AB3, 0x79);
    CheckMemory(0x3353, 0x12);
}

void test_12_02FB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB3B6);
    WriteRegisterWord(RegisterType::SP, 0x8C88);
    WriteRegisterByte(RegisterType::A, 0xE8);
    WriteRegisterByte(RegisterType::B, 0x5D);
    WriteRegisterByte(RegisterType::C, 0x5B);
    WriteRegisterByte(RegisterType::D, 0xB1);
    WriteRegisterByte(RegisterType::E, 0xE4);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x30);
    WriteRegisterByte(RegisterType::L, 0xA6);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB1E4, 0x00);
    WriteMemory(0xB3B6, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE8);
    CheckRegisterByte(RegisterType::B, 0x5D);
    CheckRegisterByte(RegisterType::C, 0x5B);
    CheckRegisterByte(RegisterType::D, 0xB1);
    CheckRegisterByte(RegisterType::E, 0xE4);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x30);
    CheckRegisterByte(RegisterType::L, 0xA6);
    WriteRegisterWord(RegisterType::PC, 0xB3B6);
    WriteRegisterWord(RegisterType::SP, 0x8C88);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xB1E4, 0xE8);
    CheckMemory(0xB3B6, 0x12);
}

void test_12_02FC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA365);
    WriteRegisterWord(RegisterType::SP, 0x2BAD);
    WriteRegisterByte(RegisterType::A, 0x0A);
    WriteRegisterByte(RegisterType::B, 0xDD);
    WriteRegisterByte(RegisterType::C, 0x4C);
    WriteRegisterByte(RegisterType::D, 0x8F);
    WriteRegisterByte(RegisterType::E, 0xDA);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xA0);
    WriteRegisterByte(RegisterType::L, 0x31);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x8FDA, 0x00);
    WriteMemory(0xA365, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0A);
    CheckRegisterByte(RegisterType::B, 0xDD);
    CheckRegisterByte(RegisterType::C, 0x4C);
    CheckRegisterByte(RegisterType::D, 0x8F);
    CheckRegisterByte(RegisterType::E, 0xDA);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xA0);
    CheckRegisterByte(RegisterType::L, 0x31);
    WriteRegisterWord(RegisterType::PC, 0xA365);
    WriteRegisterWord(RegisterType::SP, 0x2BAD);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x8FDA, 0x0A);
    CheckMemory(0xA365, 0x12);
}

void test_12_02FD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2500);
    WriteRegisterWord(RegisterType::SP, 0x09BF);
    WriteRegisterByte(RegisterType::A, 0x0B);
    WriteRegisterByte(RegisterType::B, 0x07);
    WriteRegisterByte(RegisterType::C, 0xDC);
    WriteRegisterByte(RegisterType::D, 0x34);
    WriteRegisterByte(RegisterType::E, 0x7E);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x90);
    WriteRegisterByte(RegisterType::L, 0xB9);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2500, 0x12);
    WriteMemory(0x347E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0B);
    CheckRegisterByte(RegisterType::B, 0x07);
    CheckRegisterByte(RegisterType::C, 0xDC);
    CheckRegisterByte(RegisterType::D, 0x34);
    CheckRegisterByte(RegisterType::E, 0x7E);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x90);
    CheckRegisterByte(RegisterType::L, 0xB9);
    WriteRegisterWord(RegisterType::PC, 0x2500);
    WriteRegisterWord(RegisterType::SP, 0x09BF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2500, 0x12);
    CheckMemory(0x347E, 0x0B);
}

void test_12_02FE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x82B4);
    WriteRegisterWord(RegisterType::SP, 0x5CB2);
    WriteRegisterByte(RegisterType::A, 0x11);
    WriteRegisterByte(RegisterType::B, 0xF0);
    WriteRegisterByte(RegisterType::C, 0x5E);
    WriteRegisterByte(RegisterType::D, 0xE3);
    WriteRegisterByte(RegisterType::E, 0x2D);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x1E);
    WriteRegisterByte(RegisterType::L, 0x28);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x82B4, 0x12);
    WriteMemory(0xE32D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x11);
    CheckRegisterByte(RegisterType::B, 0xF0);
    CheckRegisterByte(RegisterType::C, 0x5E);
    CheckRegisterByte(RegisterType::D, 0xE3);
    CheckRegisterByte(RegisterType::E, 0x2D);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x1E);
    CheckRegisterByte(RegisterType::L, 0x28);
    WriteRegisterWord(RegisterType::PC, 0x82B4);
    WriteRegisterWord(RegisterType::SP, 0x5CB2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x82B4, 0x12);
    CheckMemory(0xE32D, 0x11);
}

void test_12_02FF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3734);
    WriteRegisterWord(RegisterType::SP, 0x250B);
    WriteRegisterByte(RegisterType::A, 0xE2);
    WriteRegisterByte(RegisterType::B, 0xA7);
    WriteRegisterByte(RegisterType::C, 0x27);
    WriteRegisterByte(RegisterType::D, 0x11);
    WriteRegisterByte(RegisterType::E, 0x53);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x34);
    WriteRegisterByte(RegisterType::L, 0x88);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1153, 0x00);
    WriteMemory(0x3734, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE2);
    CheckRegisterByte(RegisterType::B, 0xA7);
    CheckRegisterByte(RegisterType::C, 0x27);
    CheckRegisterByte(RegisterType::D, 0x11);
    CheckRegisterByte(RegisterType::E, 0x53);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x34);
    CheckRegisterByte(RegisterType::L, 0x88);
    WriteRegisterWord(RegisterType::PC, 0x3734);
    WriteRegisterWord(RegisterType::SP, 0x250B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1153, 0xE2);
    CheckMemory(0x3734, 0x12);
}

void test_12_0300()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA2A6);
    WriteRegisterWord(RegisterType::SP, 0xF012);
    WriteRegisterByte(RegisterType::A, 0xF4);
    WriteRegisterByte(RegisterType::B, 0xDC);
    WriteRegisterByte(RegisterType::C, 0xCF);
    WriteRegisterByte(RegisterType::D, 0x2E);
    WriteRegisterByte(RegisterType::E, 0xD9);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x93);
    WriteRegisterByte(RegisterType::L, 0xA9);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2ED9, 0x00);
    WriteMemory(0xA2A6, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF4);
    CheckRegisterByte(RegisterType::B, 0xDC);
    CheckRegisterByte(RegisterType::C, 0xCF);
    CheckRegisterByte(RegisterType::D, 0x2E);
    CheckRegisterByte(RegisterType::E, 0xD9);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x93);
    CheckRegisterByte(RegisterType::L, 0xA9);
    WriteRegisterWord(RegisterType::PC, 0xA2A6);
    WriteRegisterWord(RegisterType::SP, 0xF012);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2ED9, 0xF4);
    CheckMemory(0xA2A6, 0x12);
}

void test_12_0301()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0467);
    WriteRegisterWord(RegisterType::SP, 0x4FA9);
    WriteRegisterByte(RegisterType::A, 0xF3);
    WriteRegisterByte(RegisterType::B, 0x67);
    WriteRegisterByte(RegisterType::C, 0xEB);
    WriteRegisterByte(RegisterType::D, 0x76);
    WriteRegisterByte(RegisterType::E, 0xBE);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xA7);
    WriteRegisterByte(RegisterType::L, 0xC9);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0467, 0x12);
    WriteMemory(0x76BE, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF3);
    CheckRegisterByte(RegisterType::B, 0x67);
    CheckRegisterByte(RegisterType::C, 0xEB);
    CheckRegisterByte(RegisterType::D, 0x76);
    CheckRegisterByte(RegisterType::E, 0xBE);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xA7);
    CheckRegisterByte(RegisterType::L, 0xC9);
    WriteRegisterWord(RegisterType::PC, 0x0467);
    WriteRegisterWord(RegisterType::SP, 0x4FA9);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0467, 0x12);
    CheckMemory(0x76BE, 0xF3);
}

void test_12_0302()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5514);
    WriteRegisterWord(RegisterType::SP, 0x020B);
    WriteRegisterByte(RegisterType::A, 0x74);
    WriteRegisterByte(RegisterType::B, 0xA6);
    WriteRegisterByte(RegisterType::C, 0x7E);
    WriteRegisterByte(RegisterType::D, 0x78);
    WriteRegisterByte(RegisterType::E, 0x55);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x49);
    WriteRegisterByte(RegisterType::L, 0xCE);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5514, 0x12);
    WriteMemory(0x7855, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x74);
    CheckRegisterByte(RegisterType::B, 0xA6);
    CheckRegisterByte(RegisterType::C, 0x7E);
    CheckRegisterByte(RegisterType::D, 0x78);
    CheckRegisterByte(RegisterType::E, 0x55);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x49);
    CheckRegisterByte(RegisterType::L, 0xCE);
    WriteRegisterWord(RegisterType::PC, 0x5514);
    WriteRegisterWord(RegisterType::SP, 0x020B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5514, 0x12);
    CheckMemory(0x7855, 0x74);
}

void test_12_0303()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9AC6);
    WriteRegisterWord(RegisterType::SP, 0xA3B3);
    WriteRegisterByte(RegisterType::A, 0xE6);
    WriteRegisterByte(RegisterType::B, 0x97);
    WriteRegisterByte(RegisterType::C, 0x1F);
    WriteRegisterByte(RegisterType::D, 0x96);
    WriteRegisterByte(RegisterType::E, 0x91);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x1C);
    WriteRegisterByte(RegisterType::L, 0x87);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9691, 0x00);
    WriteMemory(0x9AC6, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE6);
    CheckRegisterByte(RegisterType::B, 0x97);
    CheckRegisterByte(RegisterType::C, 0x1F);
    CheckRegisterByte(RegisterType::D, 0x96);
    CheckRegisterByte(RegisterType::E, 0x91);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x1C);
    CheckRegisterByte(RegisterType::L, 0x87);
    WriteRegisterWord(RegisterType::PC, 0x9AC6);
    WriteRegisterWord(RegisterType::SP, 0xA3B3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9691, 0xE6);
    CheckMemory(0x9AC6, 0x12);
}

void test_12_0304()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE1E0);
    WriteRegisterWord(RegisterType::SP, 0xE3B8);
    WriteRegisterByte(RegisterType::A, 0x41);
    WriteRegisterByte(RegisterType::B, 0xAB);
    WriteRegisterByte(RegisterType::C, 0x3C);
    WriteRegisterByte(RegisterType::D, 0x12);
    WriteRegisterByte(RegisterType::E, 0x7F);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xF5);
    WriteRegisterByte(RegisterType::L, 0x2F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x127F, 0x00);
    WriteMemory(0xE1E0, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x41);
    CheckRegisterByte(RegisterType::B, 0xAB);
    CheckRegisterByte(RegisterType::C, 0x3C);
    CheckRegisterByte(RegisterType::D, 0x12);
    CheckRegisterByte(RegisterType::E, 0x7F);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xF5);
    CheckRegisterByte(RegisterType::L, 0x2F);
    WriteRegisterWord(RegisterType::PC, 0xE1E0);
    WriteRegisterWord(RegisterType::SP, 0xE3B8);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x127F, 0x41);
    CheckMemory(0xE1E0, 0x12);
}

void test_12_0305()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x05FC);
    WriteRegisterWord(RegisterType::SP, 0x3980);
    WriteRegisterByte(RegisterType::A, 0x78);
    WriteRegisterByte(RegisterType::B, 0xEA);
    WriteRegisterByte(RegisterType::C, 0x08);
    WriteRegisterByte(RegisterType::D, 0xDB);
    WriteRegisterByte(RegisterType::E, 0x1B);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x38);
    WriteRegisterByte(RegisterType::L, 0x8C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x05FC, 0x12);
    WriteMemory(0xDB1B, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x78);
    CheckRegisterByte(RegisterType::B, 0xEA);
    CheckRegisterByte(RegisterType::C, 0x08);
    CheckRegisterByte(RegisterType::D, 0xDB);
    CheckRegisterByte(RegisterType::E, 0x1B);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x38);
    CheckRegisterByte(RegisterType::L, 0x8C);
    WriteRegisterWord(RegisterType::PC, 0x05FC);
    WriteRegisterWord(RegisterType::SP, 0x3980);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x05FC, 0x12);
    CheckMemory(0xDB1B, 0x78);
}

void test_12_0306()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x04B2);
    WriteRegisterWord(RegisterType::SP, 0xA396);
    WriteRegisterByte(RegisterType::A, 0x53);
    WriteRegisterByte(RegisterType::B, 0x54);
    WriteRegisterByte(RegisterType::C, 0x43);
    WriteRegisterByte(RegisterType::D, 0x1F);
    WriteRegisterByte(RegisterType::E, 0x66);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x27);
    WriteRegisterByte(RegisterType::L, 0xCD);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x04B2, 0x12);
    WriteMemory(0x1F66, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x53);
    CheckRegisterByte(RegisterType::B, 0x54);
    CheckRegisterByte(RegisterType::C, 0x43);
    CheckRegisterByte(RegisterType::D, 0x1F);
    CheckRegisterByte(RegisterType::E, 0x66);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x27);
    CheckRegisterByte(RegisterType::L, 0xCD);
    WriteRegisterWord(RegisterType::PC, 0x04B2);
    WriteRegisterWord(RegisterType::SP, 0xA396);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x04B2, 0x12);
    CheckMemory(0x1F66, 0x53);
}

void test_12_0307()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x73DE);
    WriteRegisterWord(RegisterType::SP, 0x99BB);
    WriteRegisterByte(RegisterType::A, 0xFA);
    WriteRegisterByte(RegisterType::B, 0x96);
    WriteRegisterByte(RegisterType::C, 0x77);
    WriteRegisterByte(RegisterType::D, 0xB7);
    WriteRegisterByte(RegisterType::E, 0x68);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xF7);
    WriteRegisterByte(RegisterType::L, 0x28);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x73DE, 0x12);
    WriteMemory(0xB768, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFA);
    CheckRegisterByte(RegisterType::B, 0x96);
    CheckRegisterByte(RegisterType::C, 0x77);
    CheckRegisterByte(RegisterType::D, 0xB7);
    CheckRegisterByte(RegisterType::E, 0x68);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xF7);
    CheckRegisterByte(RegisterType::L, 0x28);
    WriteRegisterWord(RegisterType::PC, 0x73DE);
    WriteRegisterWord(RegisterType::SP, 0x99BB);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x73DE, 0x12);
    CheckMemory(0xB768, 0xFA);
}

void test_12_0308()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA03F);
    WriteRegisterWord(RegisterType::SP, 0x5D4D);
    WriteRegisterByte(RegisterType::A, 0x39);
    WriteRegisterByte(RegisterType::B, 0xC9);
    WriteRegisterByte(RegisterType::C, 0xF0);
    WriteRegisterByte(RegisterType::D, 0x20);
    WriteRegisterByte(RegisterType::E, 0xE0);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x95);
    WriteRegisterByte(RegisterType::L, 0x5D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x20E0, 0x00);
    WriteMemory(0xA03F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x39);
    CheckRegisterByte(RegisterType::B, 0xC9);
    CheckRegisterByte(RegisterType::C, 0xF0);
    CheckRegisterByte(RegisterType::D, 0x20);
    CheckRegisterByte(RegisterType::E, 0xE0);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x95);
    CheckRegisterByte(RegisterType::L, 0x5D);
    WriteRegisterWord(RegisterType::PC, 0xA03F);
    WriteRegisterWord(RegisterType::SP, 0x5D4D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x20E0, 0x39);
    CheckMemory(0xA03F, 0x12);
}

void test_12_0309()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9787);
    WriteRegisterWord(RegisterType::SP, 0xB753);
    WriteRegisterByte(RegisterType::A, 0x06);
    WriteRegisterByte(RegisterType::B, 0x22);
    WriteRegisterByte(RegisterType::C, 0x36);
    WriteRegisterByte(RegisterType::D, 0xA7);
    WriteRegisterByte(RegisterType::E, 0x5F);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xF4);
    WriteRegisterByte(RegisterType::L, 0x26);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9787, 0x12);
    WriteMemory(0xA75F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x06);
    CheckRegisterByte(RegisterType::B, 0x22);
    CheckRegisterByte(RegisterType::C, 0x36);
    CheckRegisterByte(RegisterType::D, 0xA7);
    CheckRegisterByte(RegisterType::E, 0x5F);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xF4);
    CheckRegisterByte(RegisterType::L, 0x26);
    WriteRegisterWord(RegisterType::PC, 0x9787);
    WriteRegisterWord(RegisterType::SP, 0xB753);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9787, 0x12);
    CheckMemory(0xA75F, 0x06);
}

void test_12_030A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9638);
    WriteRegisterWord(RegisterType::SP, 0xD7F3);
    WriteRegisterByte(RegisterType::A, 0x8F);
    WriteRegisterByte(RegisterType::B, 0x8C);
    WriteRegisterByte(RegisterType::C, 0x20);
    WriteRegisterByte(RegisterType::D, 0xFA);
    WriteRegisterByte(RegisterType::E, 0x4D);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x6C);
    WriteRegisterByte(RegisterType::L, 0x4F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9638, 0x12);
    WriteMemory(0xFA4D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8F);
    CheckRegisterByte(RegisterType::B, 0x8C);
    CheckRegisterByte(RegisterType::C, 0x20);
    CheckRegisterByte(RegisterType::D, 0xFA);
    CheckRegisterByte(RegisterType::E, 0x4D);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x6C);
    CheckRegisterByte(RegisterType::L, 0x4F);
    WriteRegisterWord(RegisterType::PC, 0x9638);
    WriteRegisterWord(RegisterType::SP, 0xD7F3);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9638, 0x12);
    CheckMemory(0xFA4D, 0x8F);
}

void test_12_030B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6DD5);
    WriteRegisterWord(RegisterType::SP, 0x88F2);
    WriteRegisterByte(RegisterType::A, 0x3E);
    WriteRegisterByte(RegisterType::B, 0x27);
    WriteRegisterByte(RegisterType::C, 0x0B);
    WriteRegisterByte(RegisterType::D, 0x3C);
    WriteRegisterByte(RegisterType::E, 0xC6);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xB1);
    WriteRegisterByte(RegisterType::L, 0x11);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3CC6, 0x00);
    WriteMemory(0x6DD5, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3E);
    CheckRegisterByte(RegisterType::B, 0x27);
    CheckRegisterByte(RegisterType::C, 0x0B);
    CheckRegisterByte(RegisterType::D, 0x3C);
    CheckRegisterByte(RegisterType::E, 0xC6);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xB1);
    CheckRegisterByte(RegisterType::L, 0x11);
    WriteRegisterWord(RegisterType::PC, 0x6DD5);
    WriteRegisterWord(RegisterType::SP, 0x88F2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3CC6, 0x3E);
    CheckMemory(0x6DD5, 0x12);
}

void test_12_030C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x48B8);
    WriteRegisterWord(RegisterType::SP, 0xF950);
    WriteRegisterByte(RegisterType::A, 0x5B);
    WriteRegisterByte(RegisterType::B, 0xAD);
    WriteRegisterByte(RegisterType::C, 0x0E);
    WriteRegisterByte(RegisterType::D, 0xB9);
    WriteRegisterByte(RegisterType::E, 0xC7);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xE3);
    WriteRegisterByte(RegisterType::L, 0x38);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x48B8, 0x12);
    WriteMemory(0xB9C7, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5B);
    CheckRegisterByte(RegisterType::B, 0xAD);
    CheckRegisterByte(RegisterType::C, 0x0E);
    CheckRegisterByte(RegisterType::D, 0xB9);
    CheckRegisterByte(RegisterType::E, 0xC7);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xE3);
    CheckRegisterByte(RegisterType::L, 0x38);
    WriteRegisterWord(RegisterType::PC, 0x48B8);
    WriteRegisterWord(RegisterType::SP, 0xF950);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x48B8, 0x12);
    CheckMemory(0xB9C7, 0x5B);
}

void test_12_030D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEFF0);
    WriteRegisterWord(RegisterType::SP, 0xBD7B);
    WriteRegisterByte(RegisterType::A, 0xD5);
    WriteRegisterByte(RegisterType::B, 0x55);
    WriteRegisterByte(RegisterType::C, 0xD8);
    WriteRegisterByte(RegisterType::D, 0xF3);
    WriteRegisterByte(RegisterType::E, 0xCF);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x2A);
    WriteRegisterByte(RegisterType::L, 0xB2);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xEFF0, 0x12);
    WriteMemory(0xF3CF, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD5);
    CheckRegisterByte(RegisterType::B, 0x55);
    CheckRegisterByte(RegisterType::C, 0xD8);
    CheckRegisterByte(RegisterType::D, 0xF3);
    CheckRegisterByte(RegisterType::E, 0xCF);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x2A);
    CheckRegisterByte(RegisterType::L, 0xB2);
    WriteRegisterWord(RegisterType::PC, 0xEFF0);
    WriteRegisterWord(RegisterType::SP, 0xBD7B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xEFF0, 0x12);
    CheckMemory(0xF3CF, 0xD5);
}

void test_12_030E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x92BE);
    WriteRegisterWord(RegisterType::SP, 0xC06C);
    WriteRegisterByte(RegisterType::A, 0x10);
    WriteRegisterByte(RegisterType::B, 0xEF);
    WriteRegisterByte(RegisterType::C, 0x69);
    WriteRegisterByte(RegisterType::D, 0xE7);
    WriteRegisterByte(RegisterType::E, 0xF6);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x55);
    WriteRegisterByte(RegisterType::L, 0x9A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x92BE, 0x12);
    WriteMemory(0xE7F6, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x10);
    CheckRegisterByte(RegisterType::B, 0xEF);
    CheckRegisterByte(RegisterType::C, 0x69);
    CheckRegisterByte(RegisterType::D, 0xE7);
    CheckRegisterByte(RegisterType::E, 0xF6);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x55);
    CheckRegisterByte(RegisterType::L, 0x9A);
    WriteRegisterWord(RegisterType::PC, 0x92BE);
    WriteRegisterWord(RegisterType::SP, 0xC06C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x92BE, 0x12);
    CheckMemory(0xE7F6, 0x10);
}

void test_12_030F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC0F5);
    WriteRegisterWord(RegisterType::SP, 0xB982);
    WriteRegisterByte(RegisterType::A, 0x03);
    WriteRegisterByte(RegisterType::B, 0xBF);
    WriteRegisterByte(RegisterType::C, 0xAC);
    WriteRegisterByte(RegisterType::D, 0x87);
    WriteRegisterByte(RegisterType::E, 0xA4);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x3E);
    WriteRegisterByte(RegisterType::L, 0xCD);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x87A4, 0x00);
    WriteMemory(0xC0F5, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x03);
    CheckRegisterByte(RegisterType::B, 0xBF);
    CheckRegisterByte(RegisterType::C, 0xAC);
    CheckRegisterByte(RegisterType::D, 0x87);
    CheckRegisterByte(RegisterType::E, 0xA4);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x3E);
    CheckRegisterByte(RegisterType::L, 0xCD);
    WriteRegisterWord(RegisterType::PC, 0xC0F5);
    WriteRegisterWord(RegisterType::SP, 0xB982);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x87A4, 0x03);
    CheckMemory(0xC0F5, 0x12);
}

void test_12_0310()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9A71);
    WriteRegisterWord(RegisterType::SP, 0x404D);
    WriteRegisterByte(RegisterType::A, 0x3F);
    WriteRegisterByte(RegisterType::B, 0x03);
    WriteRegisterByte(RegisterType::C, 0xC0);
    WriteRegisterByte(RegisterType::D, 0x9D);
    WriteRegisterByte(RegisterType::E, 0xF9);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x70);
    WriteRegisterByte(RegisterType::L, 0xF6);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9A71, 0x12);
    WriteMemory(0x9DF9, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3F);
    CheckRegisterByte(RegisterType::B, 0x03);
    CheckRegisterByte(RegisterType::C, 0xC0);
    CheckRegisterByte(RegisterType::D, 0x9D);
    CheckRegisterByte(RegisterType::E, 0xF9);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x70);
    CheckRegisterByte(RegisterType::L, 0xF6);
    WriteRegisterWord(RegisterType::PC, 0x9A71);
    WriteRegisterWord(RegisterType::SP, 0x404D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9A71, 0x12);
    CheckMemory(0x9DF9, 0x3F);
}

void test_12_0311()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE2F0);
    WriteRegisterWord(RegisterType::SP, 0x7F8B);
    WriteRegisterByte(RegisterType::A, 0x02);
    WriteRegisterByte(RegisterType::B, 0x13);
    WriteRegisterByte(RegisterType::C, 0x9F);
    WriteRegisterByte(RegisterType::D, 0x26);
    WriteRegisterByte(RegisterType::E, 0xFC);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x7E);
    WriteRegisterByte(RegisterType::L, 0x2C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x26FC, 0x00);
    WriteMemory(0xE2F0, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x02);
    CheckRegisterByte(RegisterType::B, 0x13);
    CheckRegisterByte(RegisterType::C, 0x9F);
    CheckRegisterByte(RegisterType::D, 0x26);
    CheckRegisterByte(RegisterType::E, 0xFC);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x7E);
    CheckRegisterByte(RegisterType::L, 0x2C);
    WriteRegisterWord(RegisterType::PC, 0xE2F0);
    WriteRegisterWord(RegisterType::SP, 0x7F8B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x26FC, 0x02);
    CheckMemory(0xE2F0, 0x12);
}

void test_12_0312()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA73B);
    WriteRegisterWord(RegisterType::SP, 0xE9A5);
    WriteRegisterByte(RegisterType::A, 0x14);
    WriteRegisterByte(RegisterType::B, 0x8F);
    WriteRegisterByte(RegisterType::C, 0x3A);
    WriteRegisterByte(RegisterType::D, 0x24);
    WriteRegisterByte(RegisterType::E, 0x83);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xBC);
    WriteRegisterByte(RegisterType::L, 0x3B);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2483, 0x00);
    WriteMemory(0xA73B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x14);
    CheckRegisterByte(RegisterType::B, 0x8F);
    CheckRegisterByte(RegisterType::C, 0x3A);
    CheckRegisterByte(RegisterType::D, 0x24);
    CheckRegisterByte(RegisterType::E, 0x83);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xBC);
    CheckRegisterByte(RegisterType::L, 0x3B);
    WriteRegisterWord(RegisterType::PC, 0xA73B);
    WriteRegisterWord(RegisterType::SP, 0xE9A5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2483, 0x14);
    CheckMemory(0xA73B, 0x12);
}

void test_12_0313()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x20CE);
    WriteRegisterWord(RegisterType::SP, 0x33AC);
    WriteRegisterByte(RegisterType::A, 0xBE);
    WriteRegisterByte(RegisterType::B, 0xC4);
    WriteRegisterByte(RegisterType::C, 0x8B);
    WriteRegisterByte(RegisterType::D, 0xED);
    WriteRegisterByte(RegisterType::E, 0x8C);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x8C);
    WriteRegisterByte(RegisterType::L, 0x9C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x20CE, 0x12);
    WriteMemory(0xED8C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBE);
    CheckRegisterByte(RegisterType::B, 0xC4);
    CheckRegisterByte(RegisterType::C, 0x8B);
    CheckRegisterByte(RegisterType::D, 0xED);
    CheckRegisterByte(RegisterType::E, 0x8C);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x8C);
    CheckRegisterByte(RegisterType::L, 0x9C);
    WriteRegisterWord(RegisterType::PC, 0x20CE);
    WriteRegisterWord(RegisterType::SP, 0x33AC);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x20CE, 0x12);
    CheckMemory(0xED8C, 0xBE);
}

void test_12_0314()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x444F);
    WriteRegisterWord(RegisterType::SP, 0x576A);
    WriteRegisterByte(RegisterType::A, 0x91);
    WriteRegisterByte(RegisterType::B, 0x9B);
    WriteRegisterByte(RegisterType::C, 0x05);
    WriteRegisterByte(RegisterType::D, 0x76);
    WriteRegisterByte(RegisterType::E, 0x67);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xE2);
    WriteRegisterByte(RegisterType::L, 0x91);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x444F, 0x12);
    WriteMemory(0x7667, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x91);
    CheckRegisterByte(RegisterType::B, 0x9B);
    CheckRegisterByte(RegisterType::C, 0x05);
    CheckRegisterByte(RegisterType::D, 0x76);
    CheckRegisterByte(RegisterType::E, 0x67);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xE2);
    CheckRegisterByte(RegisterType::L, 0x91);
    WriteRegisterWord(RegisterType::PC, 0x444F);
    WriteRegisterWord(RegisterType::SP, 0x576A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x444F, 0x12);
    CheckMemory(0x7667, 0x91);
}

void test_12_0315()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1AB1);
    WriteRegisterWord(RegisterType::SP, 0x1DDD);
    WriteRegisterByte(RegisterType::A, 0xF1);
    WriteRegisterByte(RegisterType::B, 0x17);
    WriteRegisterByte(RegisterType::C, 0x84);
    WriteRegisterByte(RegisterType::D, 0x09);
    WriteRegisterByte(RegisterType::E, 0x9E);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xDE);
    WriteRegisterByte(RegisterType::L, 0xE1);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x099E, 0x00);
    WriteMemory(0x1AB1, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF1);
    CheckRegisterByte(RegisterType::B, 0x17);
    CheckRegisterByte(RegisterType::C, 0x84);
    CheckRegisterByte(RegisterType::D, 0x09);
    CheckRegisterByte(RegisterType::E, 0x9E);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xDE);
    CheckRegisterByte(RegisterType::L, 0xE1);
    WriteRegisterWord(RegisterType::PC, 0x1AB1);
    WriteRegisterWord(RegisterType::SP, 0x1DDD);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x099E, 0xF1);
    CheckMemory(0x1AB1, 0x12);
}

void test_12_0316()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x733C);
    WriteRegisterWord(RegisterType::SP, 0x6B3F);
    WriteRegisterByte(RegisterType::A, 0x24);
    WriteRegisterByte(RegisterType::B, 0xA6);
    WriteRegisterByte(RegisterType::C, 0xA8);
    WriteRegisterByte(RegisterType::D, 0x16);
    WriteRegisterByte(RegisterType::E, 0xB4);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x4F);
    WriteRegisterByte(RegisterType::L, 0x6A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x16B4, 0x00);
    WriteMemory(0x733C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x24);
    CheckRegisterByte(RegisterType::B, 0xA6);
    CheckRegisterByte(RegisterType::C, 0xA8);
    CheckRegisterByte(RegisterType::D, 0x16);
    CheckRegisterByte(RegisterType::E, 0xB4);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x4F);
    CheckRegisterByte(RegisterType::L, 0x6A);
    WriteRegisterWord(RegisterType::PC, 0x733C);
    WriteRegisterWord(RegisterType::SP, 0x6B3F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x16B4, 0x24);
    CheckMemory(0x733C, 0x12);
}

void test_12_0317()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x92FE);
    WriteRegisterWord(RegisterType::SP, 0xCBBE);
    WriteRegisterByte(RegisterType::A, 0xCA);
    WriteRegisterByte(RegisterType::B, 0xBF);
    WriteRegisterByte(RegisterType::C, 0x44);
    WriteRegisterByte(RegisterType::D, 0xB3);
    WriteRegisterByte(RegisterType::E, 0x72);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x1A);
    WriteRegisterByte(RegisterType::L, 0xE0);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x92FE, 0x12);
    WriteMemory(0xB372, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCA);
    CheckRegisterByte(RegisterType::B, 0xBF);
    CheckRegisterByte(RegisterType::C, 0x44);
    CheckRegisterByte(RegisterType::D, 0xB3);
    CheckRegisterByte(RegisterType::E, 0x72);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x1A);
    CheckRegisterByte(RegisterType::L, 0xE0);
    WriteRegisterWord(RegisterType::PC, 0x92FE);
    WriteRegisterWord(RegisterType::SP, 0xCBBE);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x92FE, 0x12);
    CheckMemory(0xB372, 0xCA);
}

void test_12_0318()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF35E);
    WriteRegisterWord(RegisterType::SP, 0x6F3A);
    WriteRegisterByte(RegisterType::A, 0x7E);
    WriteRegisterByte(RegisterType::B, 0x84);
    WriteRegisterByte(RegisterType::C, 0x0B);
    WriteRegisterByte(RegisterType::D, 0x1B);
    WriteRegisterByte(RegisterType::E, 0x51);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x1F);
    WriteRegisterByte(RegisterType::L, 0xF7);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1B51, 0x00);
    WriteMemory(0xF35E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7E);
    CheckRegisterByte(RegisterType::B, 0x84);
    CheckRegisterByte(RegisterType::C, 0x0B);
    CheckRegisterByte(RegisterType::D, 0x1B);
    CheckRegisterByte(RegisterType::E, 0x51);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x1F);
    CheckRegisterByte(RegisterType::L, 0xF7);
    WriteRegisterWord(RegisterType::PC, 0xF35E);
    WriteRegisterWord(RegisterType::SP, 0x6F3A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1B51, 0x7E);
    CheckMemory(0xF35E, 0x12);
}

void test_12_0319()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCA96);
    WriteRegisterWord(RegisterType::SP, 0x4842);
    WriteRegisterByte(RegisterType::A, 0x08);
    WriteRegisterByte(RegisterType::B, 0xAC);
    WriteRegisterByte(RegisterType::C, 0xCE);
    WriteRegisterByte(RegisterType::D, 0x95);
    WriteRegisterByte(RegisterType::E, 0xB2);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x0E);
    WriteRegisterByte(RegisterType::L, 0x50);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x95B2, 0x00);
    WriteMemory(0xCA96, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x08);
    CheckRegisterByte(RegisterType::B, 0xAC);
    CheckRegisterByte(RegisterType::C, 0xCE);
    CheckRegisterByte(RegisterType::D, 0x95);
    CheckRegisterByte(RegisterType::E, 0xB2);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x0E);
    CheckRegisterByte(RegisterType::L, 0x50);
    WriteRegisterWord(RegisterType::PC, 0xCA96);
    WriteRegisterWord(RegisterType::SP, 0x4842);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x95B2, 0x08);
    CheckMemory(0xCA96, 0x12);
}

void test_12_031A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC801);
    WriteRegisterWord(RegisterType::SP, 0xD5C2);
    WriteRegisterByte(RegisterType::A, 0x3F);
    WriteRegisterByte(RegisterType::B, 0xDA);
    WriteRegisterByte(RegisterType::C, 0x8D);
    WriteRegisterByte(RegisterType::D, 0x23);
    WriteRegisterByte(RegisterType::E, 0x22);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x58);
    WriteRegisterByte(RegisterType::L, 0x97);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2322, 0x00);
    WriteMemory(0xC801, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3F);
    CheckRegisterByte(RegisterType::B, 0xDA);
    CheckRegisterByte(RegisterType::C, 0x8D);
    CheckRegisterByte(RegisterType::D, 0x23);
    CheckRegisterByte(RegisterType::E, 0x22);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x58);
    CheckRegisterByte(RegisterType::L, 0x97);
    WriteRegisterWord(RegisterType::PC, 0xC801);
    WriteRegisterWord(RegisterType::SP, 0xD5C2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2322, 0x3F);
    CheckMemory(0xC801, 0x12);
}

void test_12_031B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x85FD);
    WriteRegisterWord(RegisterType::SP, 0x96C3);
    WriteRegisterByte(RegisterType::A, 0x1C);
    WriteRegisterByte(RegisterType::B, 0xD0);
    WriteRegisterByte(RegisterType::C, 0xDE);
    WriteRegisterByte(RegisterType::D, 0x67);
    WriteRegisterByte(RegisterType::E, 0x5F);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xFE);
    WriteRegisterByte(RegisterType::L, 0xDB);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x675F, 0x00);
    WriteMemory(0x85FD, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1C);
    CheckRegisterByte(RegisterType::B, 0xD0);
    CheckRegisterByte(RegisterType::C, 0xDE);
    CheckRegisterByte(RegisterType::D, 0x67);
    CheckRegisterByte(RegisterType::E, 0x5F);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xFE);
    CheckRegisterByte(RegisterType::L, 0xDB);
    WriteRegisterWord(RegisterType::PC, 0x85FD);
    WriteRegisterWord(RegisterType::SP, 0x96C3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x675F, 0x1C);
    CheckMemory(0x85FD, 0x12);
}

void test_12_031C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE75F);
    WriteRegisterWord(RegisterType::SP, 0x35E1);
    WriteRegisterByte(RegisterType::A, 0xBD);
    WriteRegisterByte(RegisterType::B, 0x79);
    WriteRegisterByte(RegisterType::C, 0x6A);
    WriteRegisterByte(RegisterType::D, 0x91);
    WriteRegisterByte(RegisterType::E, 0xD5);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x61);
    WriteRegisterByte(RegisterType::L, 0x85);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x91D5, 0x00);
    WriteMemory(0xE75F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBD);
    CheckRegisterByte(RegisterType::B, 0x79);
    CheckRegisterByte(RegisterType::C, 0x6A);
    CheckRegisterByte(RegisterType::D, 0x91);
    CheckRegisterByte(RegisterType::E, 0xD5);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x61);
    CheckRegisterByte(RegisterType::L, 0x85);
    WriteRegisterWord(RegisterType::PC, 0xE75F);
    WriteRegisterWord(RegisterType::SP, 0x35E1);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x91D5, 0xBD);
    CheckMemory(0xE75F, 0x12);
}

void test_12_031D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3CC0);
    WriteRegisterWord(RegisterType::SP, 0xCD2E);
    WriteRegisterByte(RegisterType::A, 0xED);
    WriteRegisterByte(RegisterType::B, 0x04);
    WriteRegisterByte(RegisterType::C, 0x1D);
    WriteRegisterByte(RegisterType::D, 0xAD);
    WriteRegisterByte(RegisterType::E, 0x51);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xE0);
    WriteRegisterByte(RegisterType::L, 0x12);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3CC0, 0x12);
    WriteMemory(0xAD51, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xED);
    CheckRegisterByte(RegisterType::B, 0x04);
    CheckRegisterByte(RegisterType::C, 0x1D);
    CheckRegisterByte(RegisterType::D, 0xAD);
    CheckRegisterByte(RegisterType::E, 0x51);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xE0);
    CheckRegisterByte(RegisterType::L, 0x12);
    WriteRegisterWord(RegisterType::PC, 0x3CC0);
    WriteRegisterWord(RegisterType::SP, 0xCD2E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3CC0, 0x12);
    CheckMemory(0xAD51, 0xED);
}

void test_12_031E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB87C);
    WriteRegisterWord(RegisterType::SP, 0x645A);
    WriteRegisterByte(RegisterType::A, 0x28);
    WriteRegisterByte(RegisterType::B, 0xEF);
    WriteRegisterByte(RegisterType::C, 0x8E);
    WriteRegisterByte(RegisterType::D, 0xC2);
    WriteRegisterByte(RegisterType::E, 0xEA);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x22);
    WriteRegisterByte(RegisterType::L, 0x16);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB87C, 0x12);
    WriteMemory(0xC2EA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x28);
    CheckRegisterByte(RegisterType::B, 0xEF);
    CheckRegisterByte(RegisterType::C, 0x8E);
    CheckRegisterByte(RegisterType::D, 0xC2);
    CheckRegisterByte(RegisterType::E, 0xEA);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x22);
    CheckRegisterByte(RegisterType::L, 0x16);
    WriteRegisterWord(RegisterType::PC, 0xB87C);
    WriteRegisterWord(RegisterType::SP, 0x645A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xB87C, 0x12);
    CheckMemory(0xC2EA, 0x28);
}

void test_12_031F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7B29);
    WriteRegisterWord(RegisterType::SP, 0xB28B);
    WriteRegisterByte(RegisterType::A, 0xB5);
    WriteRegisterByte(RegisterType::B, 0x19);
    WriteRegisterByte(RegisterType::C, 0x1C);
    WriteRegisterByte(RegisterType::D, 0xD7);
    WriteRegisterByte(RegisterType::E, 0x13);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xE2);
    WriteRegisterByte(RegisterType::L, 0x7D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7B29, 0x12);
    WriteMemory(0xD713, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB5);
    CheckRegisterByte(RegisterType::B, 0x19);
    CheckRegisterByte(RegisterType::C, 0x1C);
    CheckRegisterByte(RegisterType::D, 0xD7);
    CheckRegisterByte(RegisterType::E, 0x13);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xE2);
    CheckRegisterByte(RegisterType::L, 0x7D);
    WriteRegisterWord(RegisterType::PC, 0x7B29);
    WriteRegisterWord(RegisterType::SP, 0xB28B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7B29, 0x12);
    CheckMemory(0xD713, 0xB5);
}

void test_12_0320()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB990);
    WriteRegisterWord(RegisterType::SP, 0x2AB3);
    WriteRegisterByte(RegisterType::A, 0xB5);
    WriteRegisterByte(RegisterType::B, 0x8F);
    WriteRegisterByte(RegisterType::C, 0xA3);
    WriteRegisterByte(RegisterType::D, 0xA2);
    WriteRegisterByte(RegisterType::E, 0x30);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xED);
    WriteRegisterByte(RegisterType::L, 0x7E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xA230, 0x00);
    WriteMemory(0xB990, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB5);
    CheckRegisterByte(RegisterType::B, 0x8F);
    CheckRegisterByte(RegisterType::C, 0xA3);
    CheckRegisterByte(RegisterType::D, 0xA2);
    CheckRegisterByte(RegisterType::E, 0x30);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xED);
    CheckRegisterByte(RegisterType::L, 0x7E);
    WriteRegisterWord(RegisterType::PC, 0xB990);
    WriteRegisterWord(RegisterType::SP, 0x2AB3);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xA230, 0xB5);
    CheckMemory(0xB990, 0x12);
}

void test_12_0321()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA0B4);
    WriteRegisterWord(RegisterType::SP, 0xE0F4);
    WriteRegisterByte(RegisterType::A, 0x19);
    WriteRegisterByte(RegisterType::B, 0x6C);
    WriteRegisterByte(RegisterType::C, 0xC8);
    WriteRegisterByte(RegisterType::D, 0x16);
    WriteRegisterByte(RegisterType::E, 0x20);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xBD);
    WriteRegisterByte(RegisterType::L, 0xE5);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1620, 0x00);
    WriteMemory(0xA0B4, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x19);
    CheckRegisterByte(RegisterType::B, 0x6C);
    CheckRegisterByte(RegisterType::C, 0xC8);
    CheckRegisterByte(RegisterType::D, 0x16);
    CheckRegisterByte(RegisterType::E, 0x20);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xBD);
    CheckRegisterByte(RegisterType::L, 0xE5);
    WriteRegisterWord(RegisterType::PC, 0xA0B4);
    WriteRegisterWord(RegisterType::SP, 0xE0F4);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1620, 0x19);
    CheckMemory(0xA0B4, 0x12);
}

void test_12_0322()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE6D7);
    WriteRegisterWord(RegisterType::SP, 0xFCF2);
    WriteRegisterByte(RegisterType::A, 0x5A);
    WriteRegisterByte(RegisterType::B, 0xEE);
    WriteRegisterByte(RegisterType::C, 0x51);
    WriteRegisterByte(RegisterType::D, 0x09);
    WriteRegisterByte(RegisterType::E, 0xEE);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xFF);
    WriteRegisterByte(RegisterType::L, 0x20);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x09EE, 0x00);
    WriteMemory(0xE6D7, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5A);
    CheckRegisterByte(RegisterType::B, 0xEE);
    CheckRegisterByte(RegisterType::C, 0x51);
    CheckRegisterByte(RegisterType::D, 0x09);
    CheckRegisterByte(RegisterType::E, 0xEE);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xFF);
    CheckRegisterByte(RegisterType::L, 0x20);
    WriteRegisterWord(RegisterType::PC, 0xE6D7);
    WriteRegisterWord(RegisterType::SP, 0xFCF2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x09EE, 0x5A);
    CheckMemory(0xE6D7, 0x12);
}

void test_12_0323()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3D18);
    WriteRegisterWord(RegisterType::SP, 0xC036);
    WriteRegisterByte(RegisterType::A, 0x0C);
    WriteRegisterByte(RegisterType::B, 0x5B);
    WriteRegisterByte(RegisterType::C, 0xAF);
    WriteRegisterByte(RegisterType::D, 0xFB);
    WriteRegisterByte(RegisterType::E, 0x61);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x2D);
    WriteRegisterByte(RegisterType::L, 0x74);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3D18, 0x12);
    WriteMemory(0xFB61, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0C);
    CheckRegisterByte(RegisterType::B, 0x5B);
    CheckRegisterByte(RegisterType::C, 0xAF);
    CheckRegisterByte(RegisterType::D, 0xFB);
    CheckRegisterByte(RegisterType::E, 0x61);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x2D);
    CheckRegisterByte(RegisterType::L, 0x74);
    WriteRegisterWord(RegisterType::PC, 0x3D18);
    WriteRegisterWord(RegisterType::SP, 0xC036);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3D18, 0x12);
    CheckMemory(0xFB61, 0x0C);
}

void test_12_0324()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x93CE);
    WriteRegisterWord(RegisterType::SP, 0x8668);
    WriteRegisterByte(RegisterType::A, 0x96);
    WriteRegisterByte(RegisterType::B, 0x79);
    WriteRegisterByte(RegisterType::C, 0xEF);
    WriteRegisterByte(RegisterType::D, 0x03);
    WriteRegisterByte(RegisterType::E, 0x90);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xAF);
    WriteRegisterByte(RegisterType::L, 0xC8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0390, 0x00);
    WriteMemory(0x93CE, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x96);
    CheckRegisterByte(RegisterType::B, 0x79);
    CheckRegisterByte(RegisterType::C, 0xEF);
    CheckRegisterByte(RegisterType::D, 0x03);
    CheckRegisterByte(RegisterType::E, 0x90);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xAF);
    CheckRegisterByte(RegisterType::L, 0xC8);
    WriteRegisterWord(RegisterType::PC, 0x93CE);
    WriteRegisterWord(RegisterType::SP, 0x8668);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0390, 0x96);
    CheckMemory(0x93CE, 0x12);
}

void test_12_0325()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6F96);
    WriteRegisterWord(RegisterType::SP, 0x5F6C);
    WriteRegisterByte(RegisterType::A, 0x7B);
    WriteRegisterByte(RegisterType::B, 0x48);
    WriteRegisterByte(RegisterType::C, 0x0A);
    WriteRegisterByte(RegisterType::D, 0xA6);
    WriteRegisterByte(RegisterType::E, 0x4B);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xA1);
    WriteRegisterByte(RegisterType::L, 0x6B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6F96, 0x12);
    WriteMemory(0xA64B, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7B);
    CheckRegisterByte(RegisterType::B, 0x48);
    CheckRegisterByte(RegisterType::C, 0x0A);
    CheckRegisterByte(RegisterType::D, 0xA6);
    CheckRegisterByte(RegisterType::E, 0x4B);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xA1);
    CheckRegisterByte(RegisterType::L, 0x6B);
    WriteRegisterWord(RegisterType::PC, 0x6F96);
    WriteRegisterWord(RegisterType::SP, 0x5F6C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6F96, 0x12);
    CheckMemory(0xA64B, 0x7B);
}

void test_12_0326()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x099D);
    WriteRegisterWord(RegisterType::SP, 0x8574);
    WriteRegisterByte(RegisterType::A, 0x4B);
    WriteRegisterByte(RegisterType::B, 0x1F);
    WriteRegisterByte(RegisterType::C, 0x69);
    WriteRegisterByte(RegisterType::D, 0xBF);
    WriteRegisterByte(RegisterType::E, 0xAA);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x48);
    WriteRegisterByte(RegisterType::L, 0x00);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x099D, 0x12);
    WriteMemory(0xBFAA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4B);
    CheckRegisterByte(RegisterType::B, 0x1F);
    CheckRegisterByte(RegisterType::C, 0x69);
    CheckRegisterByte(RegisterType::D, 0xBF);
    CheckRegisterByte(RegisterType::E, 0xAA);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x48);
    CheckRegisterByte(RegisterType::L, 0x00);
    WriteRegisterWord(RegisterType::PC, 0x099D);
    WriteRegisterWord(RegisterType::SP, 0x8574);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x099D, 0x12);
    CheckMemory(0xBFAA, 0x4B);
}

void test_12_0327()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x63AD);
    WriteRegisterWord(RegisterType::SP, 0xB686);
    WriteRegisterByte(RegisterType::A, 0x63);
    WriteRegisterByte(RegisterType::B, 0x0E);
    WriteRegisterByte(RegisterType::C, 0x54);
    WriteRegisterByte(RegisterType::D, 0xBA);
    WriteRegisterByte(RegisterType::E, 0x6E);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xAF);
    WriteRegisterByte(RegisterType::L, 0x15);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x63AD, 0x12);
    WriteMemory(0xBA6E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x63);
    CheckRegisterByte(RegisterType::B, 0x0E);
    CheckRegisterByte(RegisterType::C, 0x54);
    CheckRegisterByte(RegisterType::D, 0xBA);
    CheckRegisterByte(RegisterType::E, 0x6E);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xAF);
    CheckRegisterByte(RegisterType::L, 0x15);
    WriteRegisterWord(RegisterType::PC, 0x63AD);
    WriteRegisterWord(RegisterType::SP, 0xB686);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x63AD, 0x12);
    CheckMemory(0xBA6E, 0x63);
}

void test_12_0328()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC0E0);
    WriteRegisterWord(RegisterType::SP, 0xA248);
    WriteRegisterByte(RegisterType::A, 0x80);
    WriteRegisterByte(RegisterType::B, 0xD1);
    WriteRegisterByte(RegisterType::C, 0x78);
    WriteRegisterByte(RegisterType::D, 0xC1);
    WriteRegisterByte(RegisterType::E, 0x99);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x51);
    WriteRegisterByte(RegisterType::L, 0x35);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xC0E0, 0x12);
    WriteMemory(0xC199, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x80);
    CheckRegisterByte(RegisterType::B, 0xD1);
    CheckRegisterByte(RegisterType::C, 0x78);
    CheckRegisterByte(RegisterType::D, 0xC1);
    CheckRegisterByte(RegisterType::E, 0x99);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x51);
    CheckRegisterByte(RegisterType::L, 0x35);
    WriteRegisterWord(RegisterType::PC, 0xC0E0);
    WriteRegisterWord(RegisterType::SP, 0xA248);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xC0E0, 0x12);
    CheckMemory(0xC199, 0x80);
}

void test_12_0329()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x64C4);
    WriteRegisterWord(RegisterType::SP, 0x2C9A);
    WriteRegisterByte(RegisterType::A, 0xAD);
    WriteRegisterByte(RegisterType::B, 0x79);
    WriteRegisterByte(RegisterType::C, 0x0E);
    WriteRegisterByte(RegisterType::D, 0x57);
    WriteRegisterByte(RegisterType::E, 0x25);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x21);
    WriteRegisterByte(RegisterType::L, 0xD0);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5725, 0x00);
    WriteMemory(0x64C4, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAD);
    CheckRegisterByte(RegisterType::B, 0x79);
    CheckRegisterByte(RegisterType::C, 0x0E);
    CheckRegisterByte(RegisterType::D, 0x57);
    CheckRegisterByte(RegisterType::E, 0x25);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x21);
    CheckRegisterByte(RegisterType::L, 0xD0);
    WriteRegisterWord(RegisterType::PC, 0x64C4);
    WriteRegisterWord(RegisterType::SP, 0x2C9A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5725, 0xAD);
    CheckMemory(0x64C4, 0x12);
}

void test_12_032A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5F56);
    WriteRegisterWord(RegisterType::SP, 0xBC8D);
    WriteRegisterByte(RegisterType::A, 0x4D);
    WriteRegisterByte(RegisterType::B, 0x2C);
    WriteRegisterByte(RegisterType::C, 0x4D);
    WriteRegisterByte(RegisterType::D, 0xA5);
    WriteRegisterByte(RegisterType::E, 0x87);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xE0);
    WriteRegisterByte(RegisterType::L, 0xD6);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5F56, 0x12);
    WriteMemory(0xA587, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4D);
    CheckRegisterByte(RegisterType::B, 0x2C);
    CheckRegisterByte(RegisterType::C, 0x4D);
    CheckRegisterByte(RegisterType::D, 0xA5);
    CheckRegisterByte(RegisterType::E, 0x87);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xE0);
    CheckRegisterByte(RegisterType::L, 0xD6);
    WriteRegisterWord(RegisterType::PC, 0x5F56);
    WriteRegisterWord(RegisterType::SP, 0xBC8D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5F56, 0x12);
    CheckMemory(0xA587, 0x4D);
}

void test_12_032B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x711B);
    WriteRegisterWord(RegisterType::SP, 0x87BA);
    WriteRegisterByte(RegisterType::A, 0x35);
    WriteRegisterByte(RegisterType::B, 0x20);
    WriteRegisterByte(RegisterType::C, 0xC8);
    WriteRegisterByte(RegisterType::D, 0x64);
    WriteRegisterByte(RegisterType::E, 0xC2);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x88);
    WriteRegisterByte(RegisterType::L, 0x42);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x64C2, 0x00);
    WriteMemory(0x711B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x35);
    CheckRegisterByte(RegisterType::B, 0x20);
    CheckRegisterByte(RegisterType::C, 0xC8);
    CheckRegisterByte(RegisterType::D, 0x64);
    CheckRegisterByte(RegisterType::E, 0xC2);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x88);
    CheckRegisterByte(RegisterType::L, 0x42);
    WriteRegisterWord(RegisterType::PC, 0x711B);
    WriteRegisterWord(RegisterType::SP, 0x87BA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x64C2, 0x35);
    CheckMemory(0x711B, 0x12);
}

void test_12_032C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7BD6);
    WriteRegisterWord(RegisterType::SP, 0x7A86);
    WriteRegisterByte(RegisterType::A, 0x98);
    WriteRegisterByte(RegisterType::B, 0x99);
    WriteRegisterByte(RegisterType::C, 0x47);
    WriteRegisterByte(RegisterType::D, 0x6D);
    WriteRegisterByte(RegisterType::E, 0xC7);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x8E);
    WriteRegisterByte(RegisterType::L, 0x0A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6DC7, 0x00);
    WriteMemory(0x7BD6, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x98);
    CheckRegisterByte(RegisterType::B, 0x99);
    CheckRegisterByte(RegisterType::C, 0x47);
    CheckRegisterByte(RegisterType::D, 0x6D);
    CheckRegisterByte(RegisterType::E, 0xC7);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x8E);
    CheckRegisterByte(RegisterType::L, 0x0A);
    WriteRegisterWord(RegisterType::PC, 0x7BD6);
    WriteRegisterWord(RegisterType::SP, 0x7A86);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6DC7, 0x98);
    CheckMemory(0x7BD6, 0x12);
}

void test_12_032D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x000E);
    WriteRegisterWord(RegisterType::SP, 0x7B0B);
    WriteRegisterByte(RegisterType::A, 0x24);
    WriteRegisterByte(RegisterType::B, 0xCA);
    WriteRegisterByte(RegisterType::C, 0x01);
    WriteRegisterByte(RegisterType::D, 0x70);
    WriteRegisterByte(RegisterType::E, 0x85);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x51);
    WriteRegisterByte(RegisterType::L, 0x3A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x000E, 0x12);
    WriteMemory(0x7085, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x24);
    CheckRegisterByte(RegisterType::B, 0xCA);
    CheckRegisterByte(RegisterType::C, 0x01);
    CheckRegisterByte(RegisterType::D, 0x70);
    CheckRegisterByte(RegisterType::E, 0x85);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x51);
    CheckRegisterByte(RegisterType::L, 0x3A);
    WriteRegisterWord(RegisterType::PC, 0x000E);
    WriteRegisterWord(RegisterType::SP, 0x7B0B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x000E, 0x12);
    CheckMemory(0x7085, 0x24);
}

void test_12_032E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA7A7);
    WriteRegisterWord(RegisterType::SP, 0xA56A);
    WriteRegisterByte(RegisterType::A, 0x19);
    WriteRegisterByte(RegisterType::B, 0x8E);
    WriteRegisterByte(RegisterType::C, 0x0C);
    WriteRegisterByte(RegisterType::D, 0x9A);
    WriteRegisterByte(RegisterType::E, 0xC5);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x59);
    WriteRegisterByte(RegisterType::L, 0x9E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9AC5, 0x00);
    WriteMemory(0xA7A7, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x19);
    CheckRegisterByte(RegisterType::B, 0x8E);
    CheckRegisterByte(RegisterType::C, 0x0C);
    CheckRegisterByte(RegisterType::D, 0x9A);
    CheckRegisterByte(RegisterType::E, 0xC5);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x59);
    CheckRegisterByte(RegisterType::L, 0x9E);
    WriteRegisterWord(RegisterType::PC, 0xA7A7);
    WriteRegisterWord(RegisterType::SP, 0xA56A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9AC5, 0x19);
    CheckMemory(0xA7A7, 0x12);
}

void test_12_032F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE4E3);
    WriteRegisterWord(RegisterType::SP, 0x67BE);
    WriteRegisterByte(RegisterType::A, 0x48);
    WriteRegisterByte(RegisterType::B, 0xD4);
    WriteRegisterByte(RegisterType::C, 0x2E);
    WriteRegisterByte(RegisterType::D, 0xDA);
    WriteRegisterByte(RegisterType::E, 0x27);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xCF);
    WriteRegisterByte(RegisterType::L, 0x57);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xDA27, 0x00);
    WriteMemory(0xE4E3, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x48);
    CheckRegisterByte(RegisterType::B, 0xD4);
    CheckRegisterByte(RegisterType::C, 0x2E);
    CheckRegisterByte(RegisterType::D, 0xDA);
    CheckRegisterByte(RegisterType::E, 0x27);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xCF);
    CheckRegisterByte(RegisterType::L, 0x57);
    WriteRegisterWord(RegisterType::PC, 0xE4E3);
    WriteRegisterWord(RegisterType::SP, 0x67BE);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xDA27, 0x48);
    CheckMemory(0xE4E3, 0x12);
}

void test_12_0330()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF4CD);
    WriteRegisterWord(RegisterType::SP, 0x7540);
    WriteRegisterByte(RegisterType::A, 0xE2);
    WriteRegisterByte(RegisterType::B, 0x91);
    WriteRegisterByte(RegisterType::C, 0x0D);
    WriteRegisterByte(RegisterType::D, 0xD2);
    WriteRegisterByte(RegisterType::E, 0x18);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xA3);
    WriteRegisterByte(RegisterType::L, 0xD2);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xD218, 0x00);
    WriteMemory(0xF4CD, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE2);
    CheckRegisterByte(RegisterType::B, 0x91);
    CheckRegisterByte(RegisterType::C, 0x0D);
    CheckRegisterByte(RegisterType::D, 0xD2);
    CheckRegisterByte(RegisterType::E, 0x18);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xA3);
    CheckRegisterByte(RegisterType::L, 0xD2);
    WriteRegisterWord(RegisterType::PC, 0xF4CD);
    WriteRegisterWord(RegisterType::SP, 0x7540);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xD218, 0xE2);
    CheckMemory(0xF4CD, 0x12);
}

void test_12_0331()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3EE3);
    WriteRegisterWord(RegisterType::SP, 0xB297);
    WriteRegisterByte(RegisterType::A, 0x02);
    WriteRegisterByte(RegisterType::B, 0x9D);
    WriteRegisterByte(RegisterType::C, 0x39);
    WriteRegisterByte(RegisterType::D, 0x86);
    WriteRegisterByte(RegisterType::E, 0x3F);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x1E);
    WriteRegisterByte(RegisterType::L, 0xAE);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3EE3, 0x12);
    WriteMemory(0x863F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x02);
    CheckRegisterByte(RegisterType::B, 0x9D);
    CheckRegisterByte(RegisterType::C, 0x39);
    CheckRegisterByte(RegisterType::D, 0x86);
    CheckRegisterByte(RegisterType::E, 0x3F);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x1E);
    CheckRegisterByte(RegisterType::L, 0xAE);
    WriteRegisterWord(RegisterType::PC, 0x3EE3);
    WriteRegisterWord(RegisterType::SP, 0xB297);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3EE3, 0x12);
    CheckMemory(0x863F, 0x02);
}

void test_12_0332()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD054);
    WriteRegisterWord(RegisterType::SP, 0xE279);
    WriteRegisterByte(RegisterType::A, 0xC1);
    WriteRegisterByte(RegisterType::B, 0xF5);
    WriteRegisterByte(RegisterType::C, 0x05);
    WriteRegisterByte(RegisterType::D, 0x0E);
    WriteRegisterByte(RegisterType::E, 0x22);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x8A);
    WriteRegisterByte(RegisterType::L, 0xF5);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0E22, 0x00);
    WriteMemory(0xD054, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC1);
    CheckRegisterByte(RegisterType::B, 0xF5);
    CheckRegisterByte(RegisterType::C, 0x05);
    CheckRegisterByte(RegisterType::D, 0x0E);
    CheckRegisterByte(RegisterType::E, 0x22);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x8A);
    CheckRegisterByte(RegisterType::L, 0xF5);
    WriteRegisterWord(RegisterType::PC, 0xD054);
    WriteRegisterWord(RegisterType::SP, 0xE279);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0E22, 0xC1);
    CheckMemory(0xD054, 0x12);
}

void test_12_0333()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDB5E);
    WriteRegisterWord(RegisterType::SP, 0x2F6D);
    WriteRegisterByte(RegisterType::A, 0x78);
    WriteRegisterByte(RegisterType::B, 0x91);
    WriteRegisterByte(RegisterType::C, 0x43);
    WriteRegisterByte(RegisterType::D, 0x65);
    WriteRegisterByte(RegisterType::E, 0x06);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xFF);
    WriteRegisterByte(RegisterType::L, 0xEC);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6506, 0x00);
    WriteMemory(0xDB5E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x78);
    CheckRegisterByte(RegisterType::B, 0x91);
    CheckRegisterByte(RegisterType::C, 0x43);
    CheckRegisterByte(RegisterType::D, 0x65);
    CheckRegisterByte(RegisterType::E, 0x06);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xFF);
    CheckRegisterByte(RegisterType::L, 0xEC);
    WriteRegisterWord(RegisterType::PC, 0xDB5E);
    WriteRegisterWord(RegisterType::SP, 0x2F6D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6506, 0x78);
    CheckMemory(0xDB5E, 0x12);
}

void test_12_0334()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB49C);
    WriteRegisterWord(RegisterType::SP, 0xF9CA);
    WriteRegisterByte(RegisterType::A, 0xFE);
    WriteRegisterByte(RegisterType::B, 0xBA);
    WriteRegisterByte(RegisterType::C, 0x6B);
    WriteRegisterByte(RegisterType::D, 0xDD);
    WriteRegisterByte(RegisterType::E, 0x7E);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x83);
    WriteRegisterByte(RegisterType::L, 0xC0);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xB49C, 0x12);
    WriteMemory(0xDD7E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFE);
    CheckRegisterByte(RegisterType::B, 0xBA);
    CheckRegisterByte(RegisterType::C, 0x6B);
    CheckRegisterByte(RegisterType::D, 0xDD);
    CheckRegisterByte(RegisterType::E, 0x7E);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x83);
    CheckRegisterByte(RegisterType::L, 0xC0);
    WriteRegisterWord(RegisterType::PC, 0xB49C);
    WriteRegisterWord(RegisterType::SP, 0xF9CA);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xB49C, 0x12);
    CheckMemory(0xDD7E, 0xFE);
}

void test_12_0335()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3A06);
    WriteRegisterWord(RegisterType::SP, 0x70CB);
    WriteRegisterByte(RegisterType::A, 0x95);
    WriteRegisterByte(RegisterType::B, 0x7E);
    WriteRegisterByte(RegisterType::C, 0x45);
    WriteRegisterByte(RegisterType::D, 0xB3);
    WriteRegisterByte(RegisterType::E, 0x6A);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xBE);
    WriteRegisterByte(RegisterType::L, 0xC6);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3A06, 0x12);
    WriteMemory(0xB36A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x95);
    CheckRegisterByte(RegisterType::B, 0x7E);
    CheckRegisterByte(RegisterType::C, 0x45);
    CheckRegisterByte(RegisterType::D, 0xB3);
    CheckRegisterByte(RegisterType::E, 0x6A);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xBE);
    CheckRegisterByte(RegisterType::L, 0xC6);
    WriteRegisterWord(RegisterType::PC, 0x3A06);
    WriteRegisterWord(RegisterType::SP, 0x70CB);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3A06, 0x12);
    CheckMemory(0xB36A, 0x95);
}

void test_12_0336()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7B50);
    WriteRegisterWord(RegisterType::SP, 0xAB35);
    WriteRegisterByte(RegisterType::A, 0xCF);
    WriteRegisterByte(RegisterType::B, 0xB4);
    WriteRegisterByte(RegisterType::C, 0x15);
    WriteRegisterByte(RegisterType::D, 0x26);
    WriteRegisterByte(RegisterType::E, 0x8D);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xB9);
    WriteRegisterByte(RegisterType::L, 0x43);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x268D, 0x00);
    WriteMemory(0x7B50, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCF);
    CheckRegisterByte(RegisterType::B, 0xB4);
    CheckRegisterByte(RegisterType::C, 0x15);
    CheckRegisterByte(RegisterType::D, 0x26);
    CheckRegisterByte(RegisterType::E, 0x8D);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xB9);
    CheckRegisterByte(RegisterType::L, 0x43);
    WriteRegisterWord(RegisterType::PC, 0x7B50);
    WriteRegisterWord(RegisterType::SP, 0xAB35);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x268D, 0xCF);
    CheckMemory(0x7B50, 0x12);
}

void test_12_0337()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0ED0);
    WriteRegisterWord(RegisterType::SP, 0x29D5);
    WriteRegisterByte(RegisterType::A, 0x40);
    WriteRegisterByte(RegisterType::B, 0x90);
    WriteRegisterByte(RegisterType::C, 0xDA);
    WriteRegisterByte(RegisterType::D, 0xF0);
    WriteRegisterByte(RegisterType::E, 0x4A);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xE0);
    WriteRegisterByte(RegisterType::L, 0x7E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0ED0, 0x12);
    WriteMemory(0xF04A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x40);
    CheckRegisterByte(RegisterType::B, 0x90);
    CheckRegisterByte(RegisterType::C, 0xDA);
    CheckRegisterByte(RegisterType::D, 0xF0);
    CheckRegisterByte(RegisterType::E, 0x4A);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xE0);
    CheckRegisterByte(RegisterType::L, 0x7E);
    WriteRegisterWord(RegisterType::PC, 0x0ED0);
    WriteRegisterWord(RegisterType::SP, 0x29D5);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0ED0, 0x12);
    CheckMemory(0xF04A, 0x40);
}

void test_12_0338()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD40B);
    WriteRegisterWord(RegisterType::SP, 0x22BF);
    WriteRegisterByte(RegisterType::A, 0xAF);
    WriteRegisterByte(RegisterType::B, 0x3E);
    WriteRegisterByte(RegisterType::C, 0xD5);
    WriteRegisterByte(RegisterType::D, 0xC3);
    WriteRegisterByte(RegisterType::E, 0x19);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x35);
    WriteRegisterByte(RegisterType::L, 0x6C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xC319, 0x00);
    WriteMemory(0xD40B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAF);
    CheckRegisterByte(RegisterType::B, 0x3E);
    CheckRegisterByte(RegisterType::C, 0xD5);
    CheckRegisterByte(RegisterType::D, 0xC3);
    CheckRegisterByte(RegisterType::E, 0x19);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x35);
    CheckRegisterByte(RegisterType::L, 0x6C);
    WriteRegisterWord(RegisterType::PC, 0xD40B);
    WriteRegisterWord(RegisterType::SP, 0x22BF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xC319, 0xAF);
    CheckMemory(0xD40B, 0x12);
}

void test_12_0339()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x29AD);
    WriteRegisterWord(RegisterType::SP, 0x51E7);
    WriteRegisterByte(RegisterType::A, 0xE5);
    WriteRegisterByte(RegisterType::B, 0xAA);
    WriteRegisterByte(RegisterType::C, 0x0D);
    WriteRegisterByte(RegisterType::D, 0x2B);
    WriteRegisterByte(RegisterType::E, 0x70);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x99);
    WriteRegisterByte(RegisterType::L, 0x48);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x29AD, 0x12);
    WriteMemory(0x2B70, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE5);
    CheckRegisterByte(RegisterType::B, 0xAA);
    CheckRegisterByte(RegisterType::C, 0x0D);
    CheckRegisterByte(RegisterType::D, 0x2B);
    CheckRegisterByte(RegisterType::E, 0x70);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x99);
    CheckRegisterByte(RegisterType::L, 0x48);
    WriteRegisterWord(RegisterType::PC, 0x29AD);
    WriteRegisterWord(RegisterType::SP, 0x51E7);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x29AD, 0x12);
    CheckMemory(0x2B70, 0xE5);
}

void test_12_033A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC720);
    WriteRegisterWord(RegisterType::SP, 0xC3CB);
    WriteRegisterByte(RegisterType::A, 0x59);
    WriteRegisterByte(RegisterType::B, 0x20);
    WriteRegisterByte(RegisterType::C, 0xF2);
    WriteRegisterByte(RegisterType::D, 0x2C);
    WriteRegisterByte(RegisterType::E, 0x11);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xA5);
    WriteRegisterByte(RegisterType::L, 0xDC);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2C11, 0x00);
    WriteMemory(0xC720, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x59);
    CheckRegisterByte(RegisterType::B, 0x20);
    CheckRegisterByte(RegisterType::C, 0xF2);
    CheckRegisterByte(RegisterType::D, 0x2C);
    CheckRegisterByte(RegisterType::E, 0x11);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xA5);
    CheckRegisterByte(RegisterType::L, 0xDC);
    WriteRegisterWord(RegisterType::PC, 0xC720);
    WriteRegisterWord(RegisterType::SP, 0xC3CB);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2C11, 0x59);
    CheckMemory(0xC720, 0x12);
}

void test_12_033B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE753);
    WriteRegisterWord(RegisterType::SP, 0x7C92);
    WriteRegisterByte(RegisterType::A, 0xC8);
    WriteRegisterByte(RegisterType::B, 0x11);
    WriteRegisterByte(RegisterType::C, 0x99);
    WriteRegisterByte(RegisterType::D, 0x3C);
    WriteRegisterByte(RegisterType::E, 0x6F);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xCA);
    WriteRegisterByte(RegisterType::L, 0x14);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3C6F, 0x00);
    WriteMemory(0xE753, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC8);
    CheckRegisterByte(RegisterType::B, 0x11);
    CheckRegisterByte(RegisterType::C, 0x99);
    CheckRegisterByte(RegisterType::D, 0x3C);
    CheckRegisterByte(RegisterType::E, 0x6F);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xCA);
    CheckRegisterByte(RegisterType::L, 0x14);
    WriteRegisterWord(RegisterType::PC, 0xE753);
    WriteRegisterWord(RegisterType::SP, 0x7C92);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3C6F, 0xC8);
    CheckMemory(0xE753, 0x12);
}

void test_12_033C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFAB7);
    WriteRegisterWord(RegisterType::SP, 0xC7D9);
    WriteRegisterByte(RegisterType::A, 0xBE);
    WriteRegisterByte(RegisterType::B, 0x44);
    WriteRegisterByte(RegisterType::C, 0xB5);
    WriteRegisterByte(RegisterType::D, 0x2C);
    WriteRegisterByte(RegisterType::E, 0x78);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x47);
    WriteRegisterByte(RegisterType::L, 0x00);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2C78, 0x00);
    WriteMemory(0xFAB7, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBE);
    CheckRegisterByte(RegisterType::B, 0x44);
    CheckRegisterByte(RegisterType::C, 0xB5);
    CheckRegisterByte(RegisterType::D, 0x2C);
    CheckRegisterByte(RegisterType::E, 0x78);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x47);
    CheckRegisterByte(RegisterType::L, 0x00);
    WriteRegisterWord(RegisterType::PC, 0xFAB7);
    WriteRegisterWord(RegisterType::SP, 0xC7D9);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2C78, 0xBE);
    CheckMemory(0xFAB7, 0x12);
}

void test_12_033D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD21A);
    WriteRegisterWord(RegisterType::SP, 0x36E2);
    WriteRegisterByte(RegisterType::A, 0xF7);
    WriteRegisterByte(RegisterType::B, 0xBB);
    WriteRegisterByte(RegisterType::C, 0x51);
    WriteRegisterByte(RegisterType::D, 0xE6);
    WriteRegisterByte(RegisterType::E, 0xE1);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x91);
    WriteRegisterByte(RegisterType::L, 0xF0);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xD21A, 0x12);
    WriteMemory(0xE6E1, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF7);
    CheckRegisterByte(RegisterType::B, 0xBB);
    CheckRegisterByte(RegisterType::C, 0x51);
    CheckRegisterByte(RegisterType::D, 0xE6);
    CheckRegisterByte(RegisterType::E, 0xE1);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x91);
    CheckRegisterByte(RegisterType::L, 0xF0);
    WriteRegisterWord(RegisterType::PC, 0xD21A);
    WriteRegisterWord(RegisterType::SP, 0x36E2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xD21A, 0x12);
    CheckMemory(0xE6E1, 0xF7);
}

void test_12_033E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBAE6);
    WriteRegisterWord(RegisterType::SP, 0xC955);
    WriteRegisterByte(RegisterType::A, 0x7C);
    WriteRegisterByte(RegisterType::B, 0xA3);
    WriteRegisterByte(RegisterType::C, 0x38);
    WriteRegisterByte(RegisterType::D, 0x0D);
    WriteRegisterByte(RegisterType::E, 0x9B);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x00);
    WriteRegisterByte(RegisterType::L, 0xE9);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0D9B, 0x00);
    WriteMemory(0xBAE6, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7C);
    CheckRegisterByte(RegisterType::B, 0xA3);
    CheckRegisterByte(RegisterType::C, 0x38);
    CheckRegisterByte(RegisterType::D, 0x0D);
    CheckRegisterByte(RegisterType::E, 0x9B);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x00);
    CheckRegisterByte(RegisterType::L, 0xE9);
    WriteRegisterWord(RegisterType::PC, 0xBAE6);
    WriteRegisterWord(RegisterType::SP, 0xC955);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0D9B, 0x7C);
    CheckMemory(0xBAE6, 0x12);
}

void test_12_033F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x84C9);
    WriteRegisterWord(RegisterType::SP, 0x8ECC);
    WriteRegisterByte(RegisterType::A, 0x66);
    WriteRegisterByte(RegisterType::B, 0xA2);
    WriteRegisterByte(RegisterType::C, 0x8D);
    WriteRegisterByte(RegisterType::D, 0x84);
    WriteRegisterByte(RegisterType::E, 0x5B);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x20);
    WriteRegisterByte(RegisterType::L, 0xD4);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x845B, 0x00);
    WriteMemory(0x84C9, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x66);
    CheckRegisterByte(RegisterType::B, 0xA2);
    CheckRegisterByte(RegisterType::C, 0x8D);
    CheckRegisterByte(RegisterType::D, 0x84);
    CheckRegisterByte(RegisterType::E, 0x5B);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x20);
    CheckRegisterByte(RegisterType::L, 0xD4);
    WriteRegisterWord(RegisterType::PC, 0x84C9);
    WriteRegisterWord(RegisterType::SP, 0x8ECC);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x845B, 0x66);
    CheckMemory(0x84C9, 0x12);
}

void test_12_0340()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC024);
    WriteRegisterWord(RegisterType::SP, 0xDCA4);
    WriteRegisterByte(RegisterType::A, 0xF4);
    WriteRegisterByte(RegisterType::B, 0xA7);
    WriteRegisterByte(RegisterType::C, 0x08);
    WriteRegisterByte(RegisterType::D, 0x93);
    WriteRegisterByte(RegisterType::E, 0xD3);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x3E);
    WriteRegisterByte(RegisterType::L, 0xA8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x93D3, 0x00);
    WriteMemory(0xC024, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF4);
    CheckRegisterByte(RegisterType::B, 0xA7);
    CheckRegisterByte(RegisterType::C, 0x08);
    CheckRegisterByte(RegisterType::D, 0x93);
    CheckRegisterByte(RegisterType::E, 0xD3);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x3E);
    CheckRegisterByte(RegisterType::L, 0xA8);
    WriteRegisterWord(RegisterType::PC, 0xC024);
    WriteRegisterWord(RegisterType::SP, 0xDCA4);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x93D3, 0xF4);
    CheckMemory(0xC024, 0x12);
}

void test_12_0341()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x880F);
    WriteRegisterWord(RegisterType::SP, 0x2EF7);
    WriteRegisterByte(RegisterType::A, 0xF9);
    WriteRegisterByte(RegisterType::B, 0xC0);
    WriteRegisterByte(RegisterType::C, 0xA0);
    WriteRegisterByte(RegisterType::D, 0xA2);
    WriteRegisterByte(RegisterType::E, 0x92);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xB3);
    WriteRegisterByte(RegisterType::L, 0x02);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x880F, 0x12);
    WriteMemory(0xA292, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF9);
    CheckRegisterByte(RegisterType::B, 0xC0);
    CheckRegisterByte(RegisterType::C, 0xA0);
    CheckRegisterByte(RegisterType::D, 0xA2);
    CheckRegisterByte(RegisterType::E, 0x92);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xB3);
    CheckRegisterByte(RegisterType::L, 0x02);
    WriteRegisterWord(RegisterType::PC, 0x880F);
    WriteRegisterWord(RegisterType::SP, 0x2EF7);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x880F, 0x12);
    CheckMemory(0xA292, 0xF9);
}

void test_12_0342()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB015);
    WriteRegisterWord(RegisterType::SP, 0x16F9);
    WriteRegisterByte(RegisterType::A, 0x5D);
    WriteRegisterByte(RegisterType::B, 0x41);
    WriteRegisterByte(RegisterType::C, 0xF2);
    WriteRegisterByte(RegisterType::D, 0xB0);
    WriteRegisterByte(RegisterType::E, 0x2C);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xFB);
    WriteRegisterByte(RegisterType::L, 0xE3);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB015, 0x12);
    WriteMemory(0xB02C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5D);
    CheckRegisterByte(RegisterType::B, 0x41);
    CheckRegisterByte(RegisterType::C, 0xF2);
    CheckRegisterByte(RegisterType::D, 0xB0);
    CheckRegisterByte(RegisterType::E, 0x2C);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xFB);
    CheckRegisterByte(RegisterType::L, 0xE3);
    WriteRegisterWord(RegisterType::PC, 0xB015);
    WriteRegisterWord(RegisterType::SP, 0x16F9);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xB015, 0x12);
    CheckMemory(0xB02C, 0x5D);
}

void test_12_0343()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB45F);
    WriteRegisterWord(RegisterType::SP, 0x1DDE);
    WriteRegisterByte(RegisterType::A, 0x2F);
    WriteRegisterByte(RegisterType::B, 0xAD);
    WriteRegisterByte(RegisterType::C, 0xEA);
    WriteRegisterByte(RegisterType::D, 0x9D);
    WriteRegisterByte(RegisterType::E, 0x96);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x3C);
    WriteRegisterByte(RegisterType::L, 0x96);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9D96, 0x00);
    WriteMemory(0xB45F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2F);
    CheckRegisterByte(RegisterType::B, 0xAD);
    CheckRegisterByte(RegisterType::C, 0xEA);
    CheckRegisterByte(RegisterType::D, 0x9D);
    CheckRegisterByte(RegisterType::E, 0x96);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x3C);
    CheckRegisterByte(RegisterType::L, 0x96);
    WriteRegisterWord(RegisterType::PC, 0xB45F);
    WriteRegisterWord(RegisterType::SP, 0x1DDE);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9D96, 0x2F);
    CheckMemory(0xB45F, 0x12);
}

void test_12_0344()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0D5F);
    WriteRegisterWord(RegisterType::SP, 0xB3C7);
    WriteRegisterByte(RegisterType::A, 0x73);
    WriteRegisterByte(RegisterType::B, 0xEA);
    WriteRegisterByte(RegisterType::C, 0x95);
    WriteRegisterByte(RegisterType::D, 0xB2);
    WriteRegisterByte(RegisterType::E, 0xA2);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xB7);
    WriteRegisterByte(RegisterType::L, 0xCB);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0D5F, 0x12);
    WriteMemory(0xB2A2, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x73);
    CheckRegisterByte(RegisterType::B, 0xEA);
    CheckRegisterByte(RegisterType::C, 0x95);
    CheckRegisterByte(RegisterType::D, 0xB2);
    CheckRegisterByte(RegisterType::E, 0xA2);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xB7);
    CheckRegisterByte(RegisterType::L, 0xCB);
    WriteRegisterWord(RegisterType::PC, 0x0D5F);
    WriteRegisterWord(RegisterType::SP, 0xB3C7);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0D5F, 0x12);
    CheckMemory(0xB2A2, 0x73);
}

void test_12_0345()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCABF);
    WriteRegisterWord(RegisterType::SP, 0x9EF1);
    WriteRegisterByte(RegisterType::A, 0x93);
    WriteRegisterByte(RegisterType::B, 0x61);
    WriteRegisterByte(RegisterType::C, 0x34);
    WriteRegisterByte(RegisterType::D, 0x71);
    WriteRegisterByte(RegisterType::E, 0x99);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xC7);
    WriteRegisterByte(RegisterType::L, 0x8C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7199, 0x00);
    WriteMemory(0xCABF, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x93);
    CheckRegisterByte(RegisterType::B, 0x61);
    CheckRegisterByte(RegisterType::C, 0x34);
    CheckRegisterByte(RegisterType::D, 0x71);
    CheckRegisterByte(RegisterType::E, 0x99);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xC7);
    CheckRegisterByte(RegisterType::L, 0x8C);
    WriteRegisterWord(RegisterType::PC, 0xCABF);
    WriteRegisterWord(RegisterType::SP, 0x9EF1);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x7199, 0x93);
    CheckMemory(0xCABF, 0x12);
}

void test_12_0346()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2513);
    WriteRegisterWord(RegisterType::SP, 0xB676);
    WriteRegisterByte(RegisterType::A, 0x60);
    WriteRegisterByte(RegisterType::B, 0xFE);
    WriteRegisterByte(RegisterType::C, 0xA7);
    WriteRegisterByte(RegisterType::D, 0x00);
    WriteRegisterByte(RegisterType::E, 0x8C);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x46);
    WriteRegisterByte(RegisterType::L, 0x82);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x008C, 0x00);
    WriteMemory(0x2513, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x60);
    CheckRegisterByte(RegisterType::B, 0xFE);
    CheckRegisterByte(RegisterType::C, 0xA7);
    CheckRegisterByte(RegisterType::D, 0x00);
    CheckRegisterByte(RegisterType::E, 0x8C);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x46);
    CheckRegisterByte(RegisterType::L, 0x82);
    WriteRegisterWord(RegisterType::PC, 0x2513);
    WriteRegisterWord(RegisterType::SP, 0xB676);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x008C, 0x60);
    CheckMemory(0x2513, 0x12);
}

void test_12_0347()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4247);
    WriteRegisterWord(RegisterType::SP, 0xCCA0);
    WriteRegisterByte(RegisterType::A, 0x0E);
    WriteRegisterByte(RegisterType::B, 0xA3);
    WriteRegisterByte(RegisterType::C, 0x65);
    WriteRegisterByte(RegisterType::D, 0x0B);
    WriteRegisterByte(RegisterType::E, 0x14);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xDC);
    WriteRegisterByte(RegisterType::L, 0xB8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0B14, 0x00);
    WriteMemory(0x4247, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0E);
    CheckRegisterByte(RegisterType::B, 0xA3);
    CheckRegisterByte(RegisterType::C, 0x65);
    CheckRegisterByte(RegisterType::D, 0x0B);
    CheckRegisterByte(RegisterType::E, 0x14);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xDC);
    CheckRegisterByte(RegisterType::L, 0xB8);
    WriteRegisterWord(RegisterType::PC, 0x4247);
    WriteRegisterWord(RegisterType::SP, 0xCCA0);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0B14, 0x0E);
    CheckMemory(0x4247, 0x12);
}

void test_12_0348()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE2EC);
    WriteRegisterWord(RegisterType::SP, 0x9FC6);
    WriteRegisterByte(RegisterType::A, 0xF4);
    WriteRegisterByte(RegisterType::B, 0x16);
    WriteRegisterByte(RegisterType::C, 0xCD);
    WriteRegisterByte(RegisterType::D, 0x4A);
    WriteRegisterByte(RegisterType::E, 0x45);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x06);
    WriteRegisterByte(RegisterType::L, 0x61);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4A45, 0x00);
    WriteMemory(0xE2EC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF4);
    CheckRegisterByte(RegisterType::B, 0x16);
    CheckRegisterByte(RegisterType::C, 0xCD);
    CheckRegisterByte(RegisterType::D, 0x4A);
    CheckRegisterByte(RegisterType::E, 0x45);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x06);
    CheckRegisterByte(RegisterType::L, 0x61);
    WriteRegisterWord(RegisterType::PC, 0xE2EC);
    WriteRegisterWord(RegisterType::SP, 0x9FC6);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4A45, 0xF4);
    CheckMemory(0xE2EC, 0x12);
}

void test_12_0349()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEA25);
    WriteRegisterWord(RegisterType::SP, 0xF6D2);
    WriteRegisterByte(RegisterType::A, 0xB4);
    WriteRegisterByte(RegisterType::B, 0xBA);
    WriteRegisterByte(RegisterType::C, 0x2E);
    WriteRegisterByte(RegisterType::D, 0x19);
    WriteRegisterByte(RegisterType::E, 0x98);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x01);
    WriteRegisterByte(RegisterType::L, 0xB4);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1998, 0x00);
    WriteMemory(0xEA25, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB4);
    CheckRegisterByte(RegisterType::B, 0xBA);
    CheckRegisterByte(RegisterType::C, 0x2E);
    CheckRegisterByte(RegisterType::D, 0x19);
    CheckRegisterByte(RegisterType::E, 0x98);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x01);
    CheckRegisterByte(RegisterType::L, 0xB4);
    WriteRegisterWord(RegisterType::PC, 0xEA25);
    WriteRegisterWord(RegisterType::SP, 0xF6D2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1998, 0xB4);
    CheckMemory(0xEA25, 0x12);
}

void test_12_034A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2E86);
    WriteRegisterWord(RegisterType::SP, 0xE065);
    WriteRegisterByte(RegisterType::A, 0xE2);
    WriteRegisterByte(RegisterType::B, 0x81);
    WriteRegisterByte(RegisterType::C, 0xA7);
    WriteRegisterByte(RegisterType::D, 0xB9);
    WriteRegisterByte(RegisterType::E, 0x5D);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x7F);
    WriteRegisterByte(RegisterType::L, 0x29);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2E86, 0x12);
    WriteMemory(0xB95D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE2);
    CheckRegisterByte(RegisterType::B, 0x81);
    CheckRegisterByte(RegisterType::C, 0xA7);
    CheckRegisterByte(RegisterType::D, 0xB9);
    CheckRegisterByte(RegisterType::E, 0x5D);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x7F);
    CheckRegisterByte(RegisterType::L, 0x29);
    WriteRegisterWord(RegisterType::PC, 0x2E86);
    WriteRegisterWord(RegisterType::SP, 0xE065);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2E86, 0x12);
    CheckMemory(0xB95D, 0xE2);
}

void test_12_034B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1E34);
    WriteRegisterWord(RegisterType::SP, 0x1307);
    WriteRegisterByte(RegisterType::A, 0x11);
    WriteRegisterByte(RegisterType::B, 0x36);
    WriteRegisterByte(RegisterType::C, 0x8D);
    WriteRegisterByte(RegisterType::D, 0x9A);
    WriteRegisterByte(RegisterType::E, 0xB3);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x2E);
    WriteRegisterByte(RegisterType::L, 0x42);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1E34, 0x12);
    WriteMemory(0x9AB3, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x11);
    CheckRegisterByte(RegisterType::B, 0x36);
    CheckRegisterByte(RegisterType::C, 0x8D);
    CheckRegisterByte(RegisterType::D, 0x9A);
    CheckRegisterByte(RegisterType::E, 0xB3);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x2E);
    CheckRegisterByte(RegisterType::L, 0x42);
    WriteRegisterWord(RegisterType::PC, 0x1E34);
    WriteRegisterWord(RegisterType::SP, 0x1307);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1E34, 0x12);
    CheckMemory(0x9AB3, 0x11);
}

void test_12_034C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB8F0);
    WriteRegisterWord(RegisterType::SP, 0xC715);
    WriteRegisterByte(RegisterType::A, 0x47);
    WriteRegisterByte(RegisterType::B, 0xBC);
    WriteRegisterByte(RegisterType::C, 0x66);
    WriteRegisterByte(RegisterType::D, 0x60);
    WriteRegisterByte(RegisterType::E, 0x89);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xF3);
    WriteRegisterByte(RegisterType::L, 0xBE);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6089, 0x00);
    WriteMemory(0xB8F0, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x47);
    CheckRegisterByte(RegisterType::B, 0xBC);
    CheckRegisterByte(RegisterType::C, 0x66);
    CheckRegisterByte(RegisterType::D, 0x60);
    CheckRegisterByte(RegisterType::E, 0x89);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xF3);
    CheckRegisterByte(RegisterType::L, 0xBE);
    WriteRegisterWord(RegisterType::PC, 0xB8F0);
    WriteRegisterWord(RegisterType::SP, 0xC715);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6089, 0x47);
    CheckMemory(0xB8F0, 0x12);
}

void test_12_034D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x19DA);
    WriteRegisterWord(RegisterType::SP, 0x683E);
    WriteRegisterByte(RegisterType::A, 0x42);
    WriteRegisterByte(RegisterType::B, 0x4A);
    WriteRegisterByte(RegisterType::C, 0x70);
    WriteRegisterByte(RegisterType::D, 0x95);
    WriteRegisterByte(RegisterType::E, 0x46);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x99);
    WriteRegisterByte(RegisterType::L, 0x4F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x19DA, 0x12);
    WriteMemory(0x9546, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x42);
    CheckRegisterByte(RegisterType::B, 0x4A);
    CheckRegisterByte(RegisterType::C, 0x70);
    CheckRegisterByte(RegisterType::D, 0x95);
    CheckRegisterByte(RegisterType::E, 0x46);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x99);
    CheckRegisterByte(RegisterType::L, 0x4F);
    WriteRegisterWord(RegisterType::PC, 0x19DA);
    WriteRegisterWord(RegisterType::SP, 0x683E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x19DA, 0x12);
    CheckMemory(0x9546, 0x42);
}

void test_12_034E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0C5C);
    WriteRegisterWord(RegisterType::SP, 0xAAFA);
    WriteRegisterByte(RegisterType::A, 0x4C);
    WriteRegisterByte(RegisterType::B, 0x69);
    WriteRegisterByte(RegisterType::C, 0x68);
    WriteRegisterByte(RegisterType::D, 0xDB);
    WriteRegisterByte(RegisterType::E, 0xF5);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x58);
    WriteRegisterByte(RegisterType::L, 0x34);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0C5C, 0x12);
    WriteMemory(0xDBF5, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4C);
    CheckRegisterByte(RegisterType::B, 0x69);
    CheckRegisterByte(RegisterType::C, 0x68);
    CheckRegisterByte(RegisterType::D, 0xDB);
    CheckRegisterByte(RegisterType::E, 0xF5);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x58);
    CheckRegisterByte(RegisterType::L, 0x34);
    WriteRegisterWord(RegisterType::PC, 0x0C5C);
    WriteRegisterWord(RegisterType::SP, 0xAAFA);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0C5C, 0x12);
    CheckMemory(0xDBF5, 0x4C);
}

void test_12_034F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDF29);
    WriteRegisterWord(RegisterType::SP, 0x6BD6);
    WriteRegisterByte(RegisterType::A, 0xBB);
    WriteRegisterByte(RegisterType::B, 0xBA);
    WriteRegisterByte(RegisterType::C, 0x3F);
    WriteRegisterByte(RegisterType::D, 0xF4);
    WriteRegisterByte(RegisterType::E, 0xE7);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x99);
    WriteRegisterByte(RegisterType::L, 0x61);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xDF29, 0x12);
    WriteMemory(0xF4E7, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBB);
    CheckRegisterByte(RegisterType::B, 0xBA);
    CheckRegisterByte(RegisterType::C, 0x3F);
    CheckRegisterByte(RegisterType::D, 0xF4);
    CheckRegisterByte(RegisterType::E, 0xE7);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x99);
    CheckRegisterByte(RegisterType::L, 0x61);
    WriteRegisterWord(RegisterType::PC, 0xDF29);
    WriteRegisterWord(RegisterType::SP, 0x6BD6);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xDF29, 0x12);
    CheckMemory(0xF4E7, 0xBB);
}

void test_12_0350()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7A56);
    WriteRegisterWord(RegisterType::SP, 0xF3C3);
    WriteRegisterByte(RegisterType::A, 0xF7);
    WriteRegisterByte(RegisterType::B, 0x20);
    WriteRegisterByte(RegisterType::C, 0xC3);
    WriteRegisterByte(RegisterType::D, 0xF3);
    WriteRegisterByte(RegisterType::E, 0x4A);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xB2);
    WriteRegisterByte(RegisterType::L, 0x76);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7A56, 0x12);
    WriteMemory(0xF34A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF7);
    CheckRegisterByte(RegisterType::B, 0x20);
    CheckRegisterByte(RegisterType::C, 0xC3);
    CheckRegisterByte(RegisterType::D, 0xF3);
    CheckRegisterByte(RegisterType::E, 0x4A);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xB2);
    CheckRegisterByte(RegisterType::L, 0x76);
    WriteRegisterWord(RegisterType::PC, 0x7A56);
    WriteRegisterWord(RegisterType::SP, 0xF3C3);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7A56, 0x12);
    CheckMemory(0xF34A, 0xF7);
}

void test_12_0351()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9C1E);
    WriteRegisterWord(RegisterType::SP, 0x6E3D);
    WriteRegisterByte(RegisterType::A, 0x00);
    WriteRegisterByte(RegisterType::B, 0xB4);
    WriteRegisterByte(RegisterType::C, 0xF1);
    WriteRegisterByte(RegisterType::D, 0x3A);
    WriteRegisterByte(RegisterType::E, 0x3B);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xEF);
    WriteRegisterByte(RegisterType::L, 0x56);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3A3B, 0x00);
    WriteMemory(0x9C1E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x00);
    CheckRegisterByte(RegisterType::B, 0xB4);
    CheckRegisterByte(RegisterType::C, 0xF1);
    CheckRegisterByte(RegisterType::D, 0x3A);
    CheckRegisterByte(RegisterType::E, 0x3B);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xEF);
    CheckRegisterByte(RegisterType::L, 0x56);
    WriteRegisterWord(RegisterType::PC, 0x9C1E);
    WriteRegisterWord(RegisterType::SP, 0x6E3D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x3A3B, 0x00);
    CheckMemory(0x9C1E, 0x12);
}

void test_12_0352()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAEAD);
    WriteRegisterWord(RegisterType::SP, 0x7DD2);
    WriteRegisterByte(RegisterType::A, 0xD7);
    WriteRegisterByte(RegisterType::B, 0xE5);
    WriteRegisterByte(RegisterType::C, 0x6D);
    WriteRegisterByte(RegisterType::D, 0x26);
    WriteRegisterByte(RegisterType::E, 0x03);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x18);
    WriteRegisterByte(RegisterType::L, 0xD8);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2603, 0x00);
    WriteMemory(0xAEAD, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD7);
    CheckRegisterByte(RegisterType::B, 0xE5);
    CheckRegisterByte(RegisterType::C, 0x6D);
    CheckRegisterByte(RegisterType::D, 0x26);
    CheckRegisterByte(RegisterType::E, 0x03);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x18);
    CheckRegisterByte(RegisterType::L, 0xD8);
    WriteRegisterWord(RegisterType::PC, 0xAEAD);
    WriteRegisterWord(RegisterType::SP, 0x7DD2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2603, 0xD7);
    CheckMemory(0xAEAD, 0x12);
}

void test_12_0353()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1EF4);
    WriteRegisterWord(RegisterType::SP, 0xE135);
    WriteRegisterByte(RegisterType::A, 0xAA);
    WriteRegisterByte(RegisterType::B, 0xF0);
    WriteRegisterByte(RegisterType::C, 0x70);
    WriteRegisterByte(RegisterType::D, 0x72);
    WriteRegisterByte(RegisterType::E, 0x7A);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xDE);
    WriteRegisterByte(RegisterType::L, 0xC2);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1EF4, 0x12);
    WriteMemory(0x727A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAA);
    CheckRegisterByte(RegisterType::B, 0xF0);
    CheckRegisterByte(RegisterType::C, 0x70);
    CheckRegisterByte(RegisterType::D, 0x72);
    CheckRegisterByte(RegisterType::E, 0x7A);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xDE);
    CheckRegisterByte(RegisterType::L, 0xC2);
    WriteRegisterWord(RegisterType::PC, 0x1EF4);
    WriteRegisterWord(RegisterType::SP, 0xE135);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1EF4, 0x12);
    CheckMemory(0x727A, 0xAA);
}

void test_12_0354()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x202D);
    WriteRegisterWord(RegisterType::SP, 0x7BDB);
    WriteRegisterByte(RegisterType::A, 0x3E);
    WriteRegisterByte(RegisterType::B, 0xCB);
    WriteRegisterByte(RegisterType::C, 0x83);
    WriteRegisterByte(RegisterType::D, 0x38);
    WriteRegisterByte(RegisterType::E, 0x64);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x9B);
    WriteRegisterByte(RegisterType::L, 0xE8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x202D, 0x12);
    WriteMemory(0x3864, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3E);
    CheckRegisterByte(RegisterType::B, 0xCB);
    CheckRegisterByte(RegisterType::C, 0x83);
    CheckRegisterByte(RegisterType::D, 0x38);
    CheckRegisterByte(RegisterType::E, 0x64);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x9B);
    CheckRegisterByte(RegisterType::L, 0xE8);
    WriteRegisterWord(RegisterType::PC, 0x202D);
    WriteRegisterWord(RegisterType::SP, 0x7BDB);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x202D, 0x12);
    CheckMemory(0x3864, 0x3E);
}

void test_12_0355()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x321D);
    WriteRegisterWord(RegisterType::SP, 0xF3DA);
    WriteRegisterByte(RegisterType::A, 0xD0);
    WriteRegisterByte(RegisterType::B, 0x98);
    WriteRegisterByte(RegisterType::C, 0x86);
    WriteRegisterByte(RegisterType::D, 0x91);
    WriteRegisterByte(RegisterType::E, 0x5A);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x09);
    WriteRegisterByte(RegisterType::L, 0x33);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x321D, 0x12);
    WriteMemory(0x915A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD0);
    CheckRegisterByte(RegisterType::B, 0x98);
    CheckRegisterByte(RegisterType::C, 0x86);
    CheckRegisterByte(RegisterType::D, 0x91);
    CheckRegisterByte(RegisterType::E, 0x5A);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x09);
    CheckRegisterByte(RegisterType::L, 0x33);
    WriteRegisterWord(RegisterType::PC, 0x321D);
    WriteRegisterWord(RegisterType::SP, 0xF3DA);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x321D, 0x12);
    CheckMemory(0x915A, 0xD0);
}

void test_12_0356()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF40F);
    WriteRegisterWord(RegisterType::SP, 0x474D);
    WriteRegisterByte(RegisterType::A, 0xD9);
    WriteRegisterByte(RegisterType::B, 0x9F);
    WriteRegisterByte(RegisterType::C, 0xE6);
    WriteRegisterByte(RegisterType::D, 0x43);
    WriteRegisterByte(RegisterType::E, 0x16);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xFB);
    WriteRegisterByte(RegisterType::L, 0x48);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4316, 0x00);
    WriteMemory(0xF40F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD9);
    CheckRegisterByte(RegisterType::B, 0x9F);
    CheckRegisterByte(RegisterType::C, 0xE6);
    CheckRegisterByte(RegisterType::D, 0x43);
    CheckRegisterByte(RegisterType::E, 0x16);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xFB);
    CheckRegisterByte(RegisterType::L, 0x48);
    WriteRegisterWord(RegisterType::PC, 0xF40F);
    WriteRegisterWord(RegisterType::SP, 0x474D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4316, 0xD9);
    CheckMemory(0xF40F, 0x12);
}

void test_12_0357()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3F4C);
    WriteRegisterWord(RegisterType::SP, 0x6DC6);
    WriteRegisterByte(RegisterType::A, 0xC4);
    WriteRegisterByte(RegisterType::B, 0x4B);
    WriteRegisterByte(RegisterType::C, 0xEA);
    WriteRegisterByte(RegisterType::D, 0x23);
    WriteRegisterByte(RegisterType::E, 0x68);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x0F);
    WriteRegisterByte(RegisterType::L, 0xFC);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2368, 0x00);
    WriteMemory(0x3F4C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC4);
    CheckRegisterByte(RegisterType::B, 0x4B);
    CheckRegisterByte(RegisterType::C, 0xEA);
    CheckRegisterByte(RegisterType::D, 0x23);
    CheckRegisterByte(RegisterType::E, 0x68);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x0F);
    CheckRegisterByte(RegisterType::L, 0xFC);
    WriteRegisterWord(RegisterType::PC, 0x3F4C);
    WriteRegisterWord(RegisterType::SP, 0x6DC6);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2368, 0xC4);
    CheckMemory(0x3F4C, 0x12);
}

void test_12_0358()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFFE5);
    WriteRegisterWord(RegisterType::SP, 0x5217);
    WriteRegisterByte(RegisterType::A, 0xFA);
    WriteRegisterByte(RegisterType::B, 0x16);
    WriteRegisterByte(RegisterType::C, 0xCC);
    WriteRegisterByte(RegisterType::D, 0x14);
    WriteRegisterByte(RegisterType::E, 0x61);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x67);
    WriteRegisterByte(RegisterType::L, 0xC5);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1461, 0x00);
    WriteMemory(0xFFE5, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFA);
    CheckRegisterByte(RegisterType::B, 0x16);
    CheckRegisterByte(RegisterType::C, 0xCC);
    CheckRegisterByte(RegisterType::D, 0x14);
    CheckRegisterByte(RegisterType::E, 0x61);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x67);
    CheckRegisterByte(RegisterType::L, 0xC5);
    WriteRegisterWord(RegisterType::PC, 0xFFE5);
    WriteRegisterWord(RegisterType::SP, 0x5217);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1461, 0xFA);
    CheckMemory(0xFFE5, 0x12);
}

void test_12_0359()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3369);
    WriteRegisterWord(RegisterType::SP, 0x87D8);
    WriteRegisterByte(RegisterType::A, 0x68);
    WriteRegisterByte(RegisterType::B, 0x4F);
    WriteRegisterByte(RegisterType::C, 0x8B);
    WriteRegisterByte(RegisterType::D, 0x4E);
    WriteRegisterByte(RegisterType::E, 0xB7);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x56);
    WriteRegisterByte(RegisterType::L, 0x94);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3369, 0x12);
    WriteMemory(0x4EB7, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x68);
    CheckRegisterByte(RegisterType::B, 0x4F);
    CheckRegisterByte(RegisterType::C, 0x8B);
    CheckRegisterByte(RegisterType::D, 0x4E);
    CheckRegisterByte(RegisterType::E, 0xB7);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x56);
    CheckRegisterByte(RegisterType::L, 0x94);
    WriteRegisterWord(RegisterType::PC, 0x3369);
    WriteRegisterWord(RegisterType::SP, 0x87D8);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3369, 0x12);
    CheckMemory(0x4EB7, 0x68);
}

void test_12_035A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE0AB);
    WriteRegisterWord(RegisterType::SP, 0x9003);
    WriteRegisterByte(RegisterType::A, 0x24);
    WriteRegisterByte(RegisterType::B, 0x24);
    WriteRegisterByte(RegisterType::C, 0x10);
    WriteRegisterByte(RegisterType::D, 0x5F);
    WriteRegisterByte(RegisterType::E, 0x3A);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x96);
    WriteRegisterByte(RegisterType::L, 0xB2);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5F3A, 0x00);
    WriteMemory(0xE0AB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x24);
    CheckRegisterByte(RegisterType::B, 0x24);
    CheckRegisterByte(RegisterType::C, 0x10);
    CheckRegisterByte(RegisterType::D, 0x5F);
    CheckRegisterByte(RegisterType::E, 0x3A);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x96);
    CheckRegisterByte(RegisterType::L, 0xB2);
    WriteRegisterWord(RegisterType::PC, 0xE0AB);
    WriteRegisterWord(RegisterType::SP, 0x9003);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5F3A, 0x24);
    CheckMemory(0xE0AB, 0x12);
}

void test_12_035B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAF40);
    WriteRegisterWord(RegisterType::SP, 0x2D9E);
    WriteRegisterByte(RegisterType::A, 0x03);
    WriteRegisterByte(RegisterType::B, 0x4B);
    WriteRegisterByte(RegisterType::C, 0x24);
    WriteRegisterByte(RegisterType::D, 0x82);
    WriteRegisterByte(RegisterType::E, 0x9C);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x57);
    WriteRegisterByte(RegisterType::L, 0xE8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x829C, 0x00);
    WriteMemory(0xAF40, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x03);
    CheckRegisterByte(RegisterType::B, 0x4B);
    CheckRegisterByte(RegisterType::C, 0x24);
    CheckRegisterByte(RegisterType::D, 0x82);
    CheckRegisterByte(RegisterType::E, 0x9C);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x57);
    CheckRegisterByte(RegisterType::L, 0xE8);
    WriteRegisterWord(RegisterType::PC, 0xAF40);
    WriteRegisterWord(RegisterType::SP, 0x2D9E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x829C, 0x03);
    CheckMemory(0xAF40, 0x12);
}

void test_12_035C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD190);
    WriteRegisterWord(RegisterType::SP, 0xAC9E);
    WriteRegisterByte(RegisterType::A, 0x19);
    WriteRegisterByte(RegisterType::B, 0x9D);
    WriteRegisterByte(RegisterType::C, 0xE6);
    WriteRegisterByte(RegisterType::D, 0x1A);
    WriteRegisterByte(RegisterType::E, 0x7D);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xF2);
    WriteRegisterByte(RegisterType::L, 0x98);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1A7D, 0x00);
    WriteMemory(0xD190, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x19);
    CheckRegisterByte(RegisterType::B, 0x9D);
    CheckRegisterByte(RegisterType::C, 0xE6);
    CheckRegisterByte(RegisterType::D, 0x1A);
    CheckRegisterByte(RegisterType::E, 0x7D);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xF2);
    CheckRegisterByte(RegisterType::L, 0x98);
    WriteRegisterWord(RegisterType::PC, 0xD190);
    WriteRegisterWord(RegisterType::SP, 0xAC9E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1A7D, 0x19);
    CheckMemory(0xD190, 0x12);
}

void test_12_035D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5881);
    WriteRegisterWord(RegisterType::SP, 0x34B2);
    WriteRegisterByte(RegisterType::A, 0x42);
    WriteRegisterByte(RegisterType::B, 0xF1);
    WriteRegisterByte(RegisterType::C, 0x05);
    WriteRegisterByte(RegisterType::D, 0xC1);
    WriteRegisterByte(RegisterType::E, 0x85);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xDC);
    WriteRegisterByte(RegisterType::L, 0x1D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5881, 0x12);
    WriteMemory(0xC185, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x42);
    CheckRegisterByte(RegisterType::B, 0xF1);
    CheckRegisterByte(RegisterType::C, 0x05);
    CheckRegisterByte(RegisterType::D, 0xC1);
    CheckRegisterByte(RegisterType::E, 0x85);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xDC);
    CheckRegisterByte(RegisterType::L, 0x1D);
    WriteRegisterWord(RegisterType::PC, 0x5881);
    WriteRegisterWord(RegisterType::SP, 0x34B2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5881, 0x12);
    CheckMemory(0xC185, 0x42);
}

void test_12_035E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x49F1);
    WriteRegisterWord(RegisterType::SP, 0xF50B);
    WriteRegisterByte(RegisterType::A, 0x32);
    WriteRegisterByte(RegisterType::B, 0xEA);
    WriteRegisterByte(RegisterType::C, 0x0E);
    WriteRegisterByte(RegisterType::D, 0xF5);
    WriteRegisterByte(RegisterType::E, 0x49);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xDC);
    WriteRegisterByte(RegisterType::L, 0x63);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x49F1, 0x12);
    WriteMemory(0xF549, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x32);
    CheckRegisterByte(RegisterType::B, 0xEA);
    CheckRegisterByte(RegisterType::C, 0x0E);
    CheckRegisterByte(RegisterType::D, 0xF5);
    CheckRegisterByte(RegisterType::E, 0x49);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xDC);
    CheckRegisterByte(RegisterType::L, 0x63);
    WriteRegisterWord(RegisterType::PC, 0x49F1);
    WriteRegisterWord(RegisterType::SP, 0xF50B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x49F1, 0x12);
    CheckMemory(0xF549, 0x32);
}

void test_12_035F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x36B0);
    WriteRegisterWord(RegisterType::SP, 0x2D9D);
    WriteRegisterByte(RegisterType::A, 0x31);
    WriteRegisterByte(RegisterType::B, 0x6E);
    WriteRegisterByte(RegisterType::C, 0x50);
    WriteRegisterByte(RegisterType::D, 0x96);
    WriteRegisterByte(RegisterType::E, 0xEF);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xE2);
    WriteRegisterByte(RegisterType::L, 0xE3);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x36B0, 0x12);
    WriteMemory(0x96EF, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x31);
    CheckRegisterByte(RegisterType::B, 0x6E);
    CheckRegisterByte(RegisterType::C, 0x50);
    CheckRegisterByte(RegisterType::D, 0x96);
    CheckRegisterByte(RegisterType::E, 0xEF);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xE2);
    CheckRegisterByte(RegisterType::L, 0xE3);
    WriteRegisterWord(RegisterType::PC, 0x36B0);
    WriteRegisterWord(RegisterType::SP, 0x2D9D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x36B0, 0x12);
    CheckMemory(0x96EF, 0x31);
}

void test_12_0360()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAA06);
    WriteRegisterWord(RegisterType::SP, 0x594F);
    WriteRegisterByte(RegisterType::A, 0x4D);
    WriteRegisterByte(RegisterType::B, 0x8E);
    WriteRegisterByte(RegisterType::C, 0x07);
    WriteRegisterByte(RegisterType::D, 0xBE);
    WriteRegisterByte(RegisterType::E, 0x45);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xC6);
    WriteRegisterByte(RegisterType::L, 0xC6);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xAA06, 0x12);
    WriteMemory(0xBE45, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4D);
    CheckRegisterByte(RegisterType::B, 0x8E);
    CheckRegisterByte(RegisterType::C, 0x07);
    CheckRegisterByte(RegisterType::D, 0xBE);
    CheckRegisterByte(RegisterType::E, 0x45);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xC6);
    CheckRegisterByte(RegisterType::L, 0xC6);
    WriteRegisterWord(RegisterType::PC, 0xAA06);
    WriteRegisterWord(RegisterType::SP, 0x594F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xAA06, 0x12);
    CheckMemory(0xBE45, 0x4D);
}

void test_12_0361()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x481D);
    WriteRegisterWord(RegisterType::SP, 0x991D);
    WriteRegisterByte(RegisterType::A, 0x0B);
    WriteRegisterByte(RegisterType::B, 0x5A);
    WriteRegisterByte(RegisterType::C, 0xF3);
    WriteRegisterByte(RegisterType::D, 0xA1);
    WriteRegisterByte(RegisterType::E, 0x34);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x16);
    WriteRegisterByte(RegisterType::L, 0x77);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x481D, 0x12);
    WriteMemory(0xA134, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0B);
    CheckRegisterByte(RegisterType::B, 0x5A);
    CheckRegisterByte(RegisterType::C, 0xF3);
    CheckRegisterByte(RegisterType::D, 0xA1);
    CheckRegisterByte(RegisterType::E, 0x34);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x16);
    CheckRegisterByte(RegisterType::L, 0x77);
    WriteRegisterWord(RegisterType::PC, 0x481D);
    WriteRegisterWord(RegisterType::SP, 0x991D);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x481D, 0x12);
    CheckMemory(0xA134, 0x0B);
}

void test_12_0362()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x93D8);
    WriteRegisterWord(RegisterType::SP, 0x1539);
    WriteRegisterByte(RegisterType::A, 0x54);
    WriteRegisterByte(RegisterType::B, 0xBA);
    WriteRegisterByte(RegisterType::C, 0x4E);
    WriteRegisterByte(RegisterType::D, 0x90);
    WriteRegisterByte(RegisterType::E, 0x26);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x6E);
    WriteRegisterByte(RegisterType::L, 0x2A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9026, 0x00);
    WriteMemory(0x93D8, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x54);
    CheckRegisterByte(RegisterType::B, 0xBA);
    CheckRegisterByte(RegisterType::C, 0x4E);
    CheckRegisterByte(RegisterType::D, 0x90);
    CheckRegisterByte(RegisterType::E, 0x26);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x6E);
    CheckRegisterByte(RegisterType::L, 0x2A);
    WriteRegisterWord(RegisterType::PC, 0x93D8);
    WriteRegisterWord(RegisterType::SP, 0x1539);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9026, 0x54);
    CheckMemory(0x93D8, 0x12);
}

void test_12_0363()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6A17);
    WriteRegisterWord(RegisterType::SP, 0x2A5C);
    WriteRegisterByte(RegisterType::A, 0x8C);
    WriteRegisterByte(RegisterType::B, 0xBE);
    WriteRegisterByte(RegisterType::C, 0x05);
    WriteRegisterByte(RegisterType::D, 0xAF);
    WriteRegisterByte(RegisterType::E, 0x8E);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x6B);
    WriteRegisterByte(RegisterType::L, 0x1F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6A17, 0x12);
    WriteMemory(0xAF8E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8C);
    CheckRegisterByte(RegisterType::B, 0xBE);
    CheckRegisterByte(RegisterType::C, 0x05);
    CheckRegisterByte(RegisterType::D, 0xAF);
    CheckRegisterByte(RegisterType::E, 0x8E);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x6B);
    CheckRegisterByte(RegisterType::L, 0x1F);
    WriteRegisterWord(RegisterType::PC, 0x6A17);
    WriteRegisterWord(RegisterType::SP, 0x2A5C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6A17, 0x12);
    CheckMemory(0xAF8E, 0x8C);
}

void test_12_0364()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF9F8);
    WriteRegisterWord(RegisterType::SP, 0xB112);
    WriteRegisterByte(RegisterType::A, 0x1E);
    WriteRegisterByte(RegisterType::B, 0xE9);
    WriteRegisterByte(RegisterType::C, 0x4C);
    WriteRegisterByte(RegisterType::D, 0x8C);
    WriteRegisterByte(RegisterType::E, 0xF2);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xBA);
    WriteRegisterByte(RegisterType::L, 0x7F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x8CF2, 0x00);
    WriteMemory(0xF9F8, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1E);
    CheckRegisterByte(RegisterType::B, 0xE9);
    CheckRegisterByte(RegisterType::C, 0x4C);
    CheckRegisterByte(RegisterType::D, 0x8C);
    CheckRegisterByte(RegisterType::E, 0xF2);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xBA);
    CheckRegisterByte(RegisterType::L, 0x7F);
    WriteRegisterWord(RegisterType::PC, 0xF9F8);
    WriteRegisterWord(RegisterType::SP, 0xB112);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x8CF2, 0x1E);
    CheckMemory(0xF9F8, 0x12);
}

void test_12_0365()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6719);
    WriteRegisterWord(RegisterType::SP, 0x99E9);
    WriteRegisterByte(RegisterType::A, 0x84);
    WriteRegisterByte(RegisterType::B, 0xAC);
    WriteRegisterByte(RegisterType::C, 0xD1);
    WriteRegisterByte(RegisterType::D, 0x98);
    WriteRegisterByte(RegisterType::E, 0x07);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x8C);
    WriteRegisterByte(RegisterType::L, 0xD8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6719, 0x12);
    WriteMemory(0x9807, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x84);
    CheckRegisterByte(RegisterType::B, 0xAC);
    CheckRegisterByte(RegisterType::C, 0xD1);
    CheckRegisterByte(RegisterType::D, 0x98);
    CheckRegisterByte(RegisterType::E, 0x07);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x8C);
    CheckRegisterByte(RegisterType::L, 0xD8);
    WriteRegisterWord(RegisterType::PC, 0x6719);
    WriteRegisterWord(RegisterType::SP, 0x99E9);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6719, 0x12);
    CheckMemory(0x9807, 0x84);
}

void test_12_0366()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9E64);
    WriteRegisterWord(RegisterType::SP, 0xA346);
    WriteRegisterByte(RegisterType::A, 0x69);
    WriteRegisterByte(RegisterType::B, 0xAE);
    WriteRegisterByte(RegisterType::C, 0xAB);
    WriteRegisterByte(RegisterType::D, 0x11);
    WriteRegisterByte(RegisterType::E, 0x6E);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xBD);
    WriteRegisterByte(RegisterType::L, 0xCB);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x116E, 0x00);
    WriteMemory(0x9E64, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x69);
    CheckRegisterByte(RegisterType::B, 0xAE);
    CheckRegisterByte(RegisterType::C, 0xAB);
    CheckRegisterByte(RegisterType::D, 0x11);
    CheckRegisterByte(RegisterType::E, 0x6E);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xBD);
    CheckRegisterByte(RegisterType::L, 0xCB);
    WriteRegisterWord(RegisterType::PC, 0x9E64);
    WriteRegisterWord(RegisterType::SP, 0xA346);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x116E, 0x69);
    CheckMemory(0x9E64, 0x12);
}

void test_12_0367()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF562);
    WriteRegisterWord(RegisterType::SP, 0x2DB0);
    WriteRegisterByte(RegisterType::A, 0xCC);
    WriteRegisterByte(RegisterType::B, 0xDE);
    WriteRegisterByte(RegisterType::C, 0xDE);
    WriteRegisterByte(RegisterType::D, 0x2E);
    WriteRegisterByte(RegisterType::E, 0x9C);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0xF2);
    WriteRegisterByte(RegisterType::L, 0x57);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2E9C, 0x00);
    WriteMemory(0xF562, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCC);
    CheckRegisterByte(RegisterType::B, 0xDE);
    CheckRegisterByte(RegisterType::C, 0xDE);
    CheckRegisterByte(RegisterType::D, 0x2E);
    CheckRegisterByte(RegisterType::E, 0x9C);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0xF2);
    CheckRegisterByte(RegisterType::L, 0x57);
    WriteRegisterWord(RegisterType::PC, 0xF562);
    WriteRegisterWord(RegisterType::SP, 0x2DB0);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2E9C, 0xCC);
    CheckMemory(0xF562, 0x12);
}

void test_12_0368()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD1EE);
    WriteRegisterWord(RegisterType::SP, 0xCA06);
    WriteRegisterByte(RegisterType::A, 0x5B);
    WriteRegisterByte(RegisterType::B, 0x27);
    WriteRegisterByte(RegisterType::C, 0x8F);
    WriteRegisterByte(RegisterType::D, 0xA9);
    WriteRegisterByte(RegisterType::E, 0x41);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xD7);
    WriteRegisterByte(RegisterType::L, 0xAC);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xA941, 0x00);
    WriteMemory(0xD1EE, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5B);
    CheckRegisterByte(RegisterType::B, 0x27);
    CheckRegisterByte(RegisterType::C, 0x8F);
    CheckRegisterByte(RegisterType::D, 0xA9);
    CheckRegisterByte(RegisterType::E, 0x41);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xD7);
    CheckRegisterByte(RegisterType::L, 0xAC);
    WriteRegisterWord(RegisterType::PC, 0xD1EE);
    WriteRegisterWord(RegisterType::SP, 0xCA06);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xA941, 0x5B);
    CheckMemory(0xD1EE, 0x12);
}

void test_12_0369()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEE1A);
    WriteRegisterWord(RegisterType::SP, 0x892E);
    WriteRegisterByte(RegisterType::A, 0x88);
    WriteRegisterByte(RegisterType::B, 0x41);
    WriteRegisterByte(RegisterType::C, 0xBE);
    WriteRegisterByte(RegisterType::D, 0x81);
    WriteRegisterByte(RegisterType::E, 0x82);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x8F);
    WriteRegisterByte(RegisterType::L, 0xCA);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x8182, 0x00);
    WriteMemory(0xEE1A, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x88);
    CheckRegisterByte(RegisterType::B, 0x41);
    CheckRegisterByte(RegisterType::C, 0xBE);
    CheckRegisterByte(RegisterType::D, 0x81);
    CheckRegisterByte(RegisterType::E, 0x82);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x8F);
    CheckRegisterByte(RegisterType::L, 0xCA);
    WriteRegisterWord(RegisterType::PC, 0xEE1A);
    WriteRegisterWord(RegisterType::SP, 0x892E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x8182, 0x88);
    CheckMemory(0xEE1A, 0x12);
}

void test_12_036A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x13D1);
    WriteRegisterWord(RegisterType::SP, 0xBEC2);
    WriteRegisterByte(RegisterType::A, 0x8F);
    WriteRegisterByte(RegisterType::B, 0x0B);
    WriteRegisterByte(RegisterType::C, 0x3A);
    WriteRegisterByte(RegisterType::D, 0xD2);
    WriteRegisterByte(RegisterType::E, 0x85);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x1C);
    WriteRegisterByte(RegisterType::L, 0x4C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x13D1, 0x12);
    WriteMemory(0xD285, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8F);
    CheckRegisterByte(RegisterType::B, 0x0B);
    CheckRegisterByte(RegisterType::C, 0x3A);
    CheckRegisterByte(RegisterType::D, 0xD2);
    CheckRegisterByte(RegisterType::E, 0x85);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x1C);
    CheckRegisterByte(RegisterType::L, 0x4C);
    WriteRegisterWord(RegisterType::PC, 0x13D1);
    WriteRegisterWord(RegisterType::SP, 0xBEC2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x13D1, 0x12);
    CheckMemory(0xD285, 0x8F);
}

void test_12_036B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x60BE);
    WriteRegisterWord(RegisterType::SP, 0xBE44);
    WriteRegisterByte(RegisterType::A, 0xFD);
    WriteRegisterByte(RegisterType::B, 0x81);
    WriteRegisterByte(RegisterType::C, 0x44);
    WriteRegisterByte(RegisterType::D, 0x8B);
    WriteRegisterByte(RegisterType::E, 0x28);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x37);
    WriteRegisterByte(RegisterType::L, 0x48);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x60BE, 0x12);
    WriteMemory(0x8B28, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFD);
    CheckRegisterByte(RegisterType::B, 0x81);
    CheckRegisterByte(RegisterType::C, 0x44);
    CheckRegisterByte(RegisterType::D, 0x8B);
    CheckRegisterByte(RegisterType::E, 0x28);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x37);
    CheckRegisterByte(RegisterType::L, 0x48);
    WriteRegisterWord(RegisterType::PC, 0x60BE);
    WriteRegisterWord(RegisterType::SP, 0xBE44);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x60BE, 0x12);
    CheckMemory(0x8B28, 0xFD);
}

void test_12_036C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3749);
    WriteRegisterWord(RegisterType::SP, 0x9F24);
    WriteRegisterByte(RegisterType::A, 0xBB);
    WriteRegisterByte(RegisterType::B, 0xD4);
    WriteRegisterByte(RegisterType::C, 0xD2);
    WriteRegisterByte(RegisterType::D, 0x5B);
    WriteRegisterByte(RegisterType::E, 0xDE);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x8C);
    WriteRegisterByte(RegisterType::L, 0xBD);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3749, 0x12);
    WriteMemory(0x5BDE, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBB);
    CheckRegisterByte(RegisterType::B, 0xD4);
    CheckRegisterByte(RegisterType::C, 0xD2);
    CheckRegisterByte(RegisterType::D, 0x5B);
    CheckRegisterByte(RegisterType::E, 0xDE);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x8C);
    CheckRegisterByte(RegisterType::L, 0xBD);
    WriteRegisterWord(RegisterType::PC, 0x3749);
    WriteRegisterWord(RegisterType::SP, 0x9F24);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3749, 0x12);
    CheckMemory(0x5BDE, 0xBB);
}

void test_12_036D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9E6D);
    WriteRegisterWord(RegisterType::SP, 0xF80F);
    WriteRegisterByte(RegisterType::A, 0xB1);
    WriteRegisterByte(RegisterType::B, 0x3F);
    WriteRegisterByte(RegisterType::C, 0x0A);
    WriteRegisterByte(RegisterType::D, 0x5B);
    WriteRegisterByte(RegisterType::E, 0xA5);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x00);
    WriteRegisterByte(RegisterType::L, 0x69);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5BA5, 0x00);
    WriteMemory(0x9E6D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB1);
    CheckRegisterByte(RegisterType::B, 0x3F);
    CheckRegisterByte(RegisterType::C, 0x0A);
    CheckRegisterByte(RegisterType::D, 0x5B);
    CheckRegisterByte(RegisterType::E, 0xA5);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x00);
    CheckRegisterByte(RegisterType::L, 0x69);
    WriteRegisterWord(RegisterType::PC, 0x9E6D);
    WriteRegisterWord(RegisterType::SP, 0xF80F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5BA5, 0xB1);
    CheckMemory(0x9E6D, 0x12);
}

void test_12_036E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEA87);
    WriteRegisterWord(RegisterType::SP, 0x5101);
    WriteRegisterByte(RegisterType::A, 0xE7);
    WriteRegisterByte(RegisterType::B, 0x86);
    WriteRegisterByte(RegisterType::C, 0xE4);
    WriteRegisterByte(RegisterType::D, 0x60);
    WriteRegisterByte(RegisterType::E, 0x88);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x58);
    WriteRegisterByte(RegisterType::L, 0xAC);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6088, 0x00);
    WriteMemory(0xEA87, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE7);
    CheckRegisterByte(RegisterType::B, 0x86);
    CheckRegisterByte(RegisterType::C, 0xE4);
    CheckRegisterByte(RegisterType::D, 0x60);
    CheckRegisterByte(RegisterType::E, 0x88);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x58);
    CheckRegisterByte(RegisterType::L, 0xAC);
    WriteRegisterWord(RegisterType::PC, 0xEA87);
    WriteRegisterWord(RegisterType::SP, 0x5101);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6088, 0xE7);
    CheckMemory(0xEA87, 0x12);
}

void test_12_036F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDEE9);
    WriteRegisterWord(RegisterType::SP, 0x8B7E);
    WriteRegisterByte(RegisterType::A, 0x69);
    WriteRegisterByte(RegisterType::B, 0xFC);
    WriteRegisterByte(RegisterType::C, 0x85);
    WriteRegisterByte(RegisterType::D, 0x4A);
    WriteRegisterByte(RegisterType::E, 0xE3);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x4B);
    WriteRegisterByte(RegisterType::L, 0x61);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4AE3, 0x00);
    WriteMemory(0xDEE9, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x69);
    CheckRegisterByte(RegisterType::B, 0xFC);
    CheckRegisterByte(RegisterType::C, 0x85);
    CheckRegisterByte(RegisterType::D, 0x4A);
    CheckRegisterByte(RegisterType::E, 0xE3);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x4B);
    CheckRegisterByte(RegisterType::L, 0x61);
    WriteRegisterWord(RegisterType::PC, 0xDEE9);
    WriteRegisterWord(RegisterType::SP, 0x8B7E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4AE3, 0x69);
    CheckMemory(0xDEE9, 0x12);
}

void test_12_0370()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDEB2);
    WriteRegisterWord(RegisterType::SP, 0xE2CA);
    WriteRegisterByte(RegisterType::A, 0x21);
    WriteRegisterByte(RegisterType::B, 0x5B);
    WriteRegisterByte(RegisterType::C, 0x47);
    WriteRegisterByte(RegisterType::D, 0x62);
    WriteRegisterByte(RegisterType::E, 0x54);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xF5);
    WriteRegisterByte(RegisterType::L, 0x54);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6254, 0x00);
    WriteMemory(0xDEB2, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x21);
    CheckRegisterByte(RegisterType::B, 0x5B);
    CheckRegisterByte(RegisterType::C, 0x47);
    CheckRegisterByte(RegisterType::D, 0x62);
    CheckRegisterByte(RegisterType::E, 0x54);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xF5);
    CheckRegisterByte(RegisterType::L, 0x54);
    WriteRegisterWord(RegisterType::PC, 0xDEB2);
    WriteRegisterWord(RegisterType::SP, 0xE2CA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6254, 0x21);
    CheckMemory(0xDEB2, 0x12);
}

void test_12_0371()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5B8D);
    WriteRegisterWord(RegisterType::SP, 0x4753);
    WriteRegisterByte(RegisterType::A, 0xF4);
    WriteRegisterByte(RegisterType::B, 0xA0);
    WriteRegisterByte(RegisterType::C, 0x82);
    WriteRegisterByte(RegisterType::D, 0xE8);
    WriteRegisterByte(RegisterType::E, 0xA8);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x6A);
    WriteRegisterByte(RegisterType::L, 0x64);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5B8D, 0x12);
    WriteMemory(0xE8A8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF4);
    CheckRegisterByte(RegisterType::B, 0xA0);
    CheckRegisterByte(RegisterType::C, 0x82);
    CheckRegisterByte(RegisterType::D, 0xE8);
    CheckRegisterByte(RegisterType::E, 0xA8);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x6A);
    CheckRegisterByte(RegisterType::L, 0x64);
    WriteRegisterWord(RegisterType::PC, 0x5B8D);
    WriteRegisterWord(RegisterType::SP, 0x4753);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5B8D, 0x12);
    CheckMemory(0xE8A8, 0xF4);
}

void test_12_0372()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4F10);
    WriteRegisterWord(RegisterType::SP, 0xC9E9);
    WriteRegisterByte(RegisterType::A, 0xD2);
    WriteRegisterByte(RegisterType::B, 0xCC);
    WriteRegisterByte(RegisterType::C, 0x8D);
    WriteRegisterByte(RegisterType::D, 0x87);
    WriteRegisterByte(RegisterType::E, 0x22);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xE4);
    WriteRegisterByte(RegisterType::L, 0x18);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4F10, 0x12);
    WriteMemory(0x8722, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD2);
    CheckRegisterByte(RegisterType::B, 0xCC);
    CheckRegisterByte(RegisterType::C, 0x8D);
    CheckRegisterByte(RegisterType::D, 0x87);
    CheckRegisterByte(RegisterType::E, 0x22);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xE4);
    CheckRegisterByte(RegisterType::L, 0x18);
    WriteRegisterWord(RegisterType::PC, 0x4F10);
    WriteRegisterWord(RegisterType::SP, 0xC9E9);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4F10, 0x12);
    CheckMemory(0x8722, 0xD2);
}

void test_12_0373()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4B69);
    WriteRegisterWord(RegisterType::SP, 0x2D56);
    WriteRegisterByte(RegisterType::A, 0x46);
    WriteRegisterByte(RegisterType::B, 0x31);
    WriteRegisterByte(RegisterType::C, 0x8F);
    WriteRegisterByte(RegisterType::D, 0xF6);
    WriteRegisterByte(RegisterType::E, 0x43);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xFA);
    WriteRegisterByte(RegisterType::L, 0xB8);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4B69, 0x12);
    WriteMemory(0xF643, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x46);
    CheckRegisterByte(RegisterType::B, 0x31);
    CheckRegisterByte(RegisterType::C, 0x8F);
    CheckRegisterByte(RegisterType::D, 0xF6);
    CheckRegisterByte(RegisterType::E, 0x43);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xFA);
    CheckRegisterByte(RegisterType::L, 0xB8);
    WriteRegisterWord(RegisterType::PC, 0x4B69);
    WriteRegisterWord(RegisterType::SP, 0x2D56);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4B69, 0x12);
    CheckMemory(0xF643, 0x46);
}

void test_12_0374()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC94C);
    WriteRegisterWord(RegisterType::SP, 0xF65C);
    WriteRegisterByte(RegisterType::A, 0x6B);
    WriteRegisterByte(RegisterType::B, 0x94);
    WriteRegisterByte(RegisterType::C, 0xC6);
    WriteRegisterByte(RegisterType::D, 0xD8);
    WriteRegisterByte(RegisterType::E, 0x2E);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xC0);
    WriteRegisterByte(RegisterType::L, 0xB5);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xC94C, 0x12);
    WriteMemory(0xD82E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6B);
    CheckRegisterByte(RegisterType::B, 0x94);
    CheckRegisterByte(RegisterType::C, 0xC6);
    CheckRegisterByte(RegisterType::D, 0xD8);
    CheckRegisterByte(RegisterType::E, 0x2E);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xC0);
    CheckRegisterByte(RegisterType::L, 0xB5);
    WriteRegisterWord(RegisterType::PC, 0xC94C);
    WriteRegisterWord(RegisterType::SP, 0xF65C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xC94C, 0x12);
    CheckMemory(0xD82E, 0x6B);
}

void test_12_0375()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCC5F);
    WriteRegisterWord(RegisterType::SP, 0xDBEB);
    WriteRegisterByte(RegisterType::A, 0xA6);
    WriteRegisterByte(RegisterType::B, 0xE8);
    WriteRegisterByte(RegisterType::C, 0x60);
    WriteRegisterByte(RegisterType::D, 0xB9);
    WriteRegisterByte(RegisterType::E, 0xFD);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x29);
    WriteRegisterByte(RegisterType::L, 0xCE);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xB9FD, 0x00);
    WriteMemory(0xCC5F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA6);
    CheckRegisterByte(RegisterType::B, 0xE8);
    CheckRegisterByte(RegisterType::C, 0x60);
    CheckRegisterByte(RegisterType::D, 0xB9);
    CheckRegisterByte(RegisterType::E, 0xFD);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x29);
    CheckRegisterByte(RegisterType::L, 0xCE);
    WriteRegisterWord(RegisterType::PC, 0xCC5F);
    WriteRegisterWord(RegisterType::SP, 0xDBEB);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xB9FD, 0xA6);
    CheckMemory(0xCC5F, 0x12);
}

void test_12_0376()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7060);
    WriteRegisterWord(RegisterType::SP, 0xFD5F);
    WriteRegisterByte(RegisterType::A, 0xF4);
    WriteRegisterByte(RegisterType::B, 0x14);
    WriteRegisterByte(RegisterType::C, 0x61);
    WriteRegisterByte(RegisterType::D, 0x21);
    WriteRegisterByte(RegisterType::E, 0x4C);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x4E);
    WriteRegisterByte(RegisterType::L, 0xAB);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x214C, 0x00);
    WriteMemory(0x7060, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF4);
    CheckRegisterByte(RegisterType::B, 0x14);
    CheckRegisterByte(RegisterType::C, 0x61);
    CheckRegisterByte(RegisterType::D, 0x21);
    CheckRegisterByte(RegisterType::E, 0x4C);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x4E);
    CheckRegisterByte(RegisterType::L, 0xAB);
    WriteRegisterWord(RegisterType::PC, 0x7060);
    WriteRegisterWord(RegisterType::SP, 0xFD5F);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x214C, 0xF4);
    CheckMemory(0x7060, 0x12);
}

void test_12_0377()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDF6E);
    WriteRegisterWord(RegisterType::SP, 0x1AB9);
    WriteRegisterByte(RegisterType::A, 0x98);
    WriteRegisterByte(RegisterType::B, 0xC6);
    WriteRegisterByte(RegisterType::C, 0xE9);
    WriteRegisterByte(RegisterType::D, 0x19);
    WriteRegisterByte(RegisterType::E, 0x08);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x11);
    WriteRegisterByte(RegisterType::L, 0x6B);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1908, 0x00);
    WriteMemory(0xDF6E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x98);
    CheckRegisterByte(RegisterType::B, 0xC6);
    CheckRegisterByte(RegisterType::C, 0xE9);
    CheckRegisterByte(RegisterType::D, 0x19);
    CheckRegisterByte(RegisterType::E, 0x08);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x11);
    CheckRegisterByte(RegisterType::L, 0x6B);
    WriteRegisterWord(RegisterType::PC, 0xDF6E);
    WriteRegisterWord(RegisterType::SP, 0x1AB9);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1908, 0x98);
    CheckMemory(0xDF6E, 0x12);
}

void test_12_0378()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC499);
    WriteRegisterWord(RegisterType::SP, 0x5F2D);
    WriteRegisterByte(RegisterType::A, 0x21);
    WriteRegisterByte(RegisterType::B, 0x93);
    WriteRegisterByte(RegisterType::C, 0x8A);
    WriteRegisterByte(RegisterType::D, 0x35);
    WriteRegisterByte(RegisterType::E, 0xC0);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xD5);
    WriteRegisterByte(RegisterType::L, 0x8A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x35C0, 0x00);
    WriteMemory(0xC499, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x21);
    CheckRegisterByte(RegisterType::B, 0x93);
    CheckRegisterByte(RegisterType::C, 0x8A);
    CheckRegisterByte(RegisterType::D, 0x35);
    CheckRegisterByte(RegisterType::E, 0xC0);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xD5);
    CheckRegisterByte(RegisterType::L, 0x8A);
    WriteRegisterWord(RegisterType::PC, 0xC499);
    WriteRegisterWord(RegisterType::SP, 0x5F2D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x35C0, 0x21);
    CheckMemory(0xC499, 0x12);
}

void test_12_0379()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF9CC);
    WriteRegisterWord(RegisterType::SP, 0x9195);
    WriteRegisterByte(RegisterType::A, 0x5B);
    WriteRegisterByte(RegisterType::B, 0x88);
    WriteRegisterByte(RegisterType::C, 0x6F);
    WriteRegisterByte(RegisterType::D, 0x4A);
    WriteRegisterByte(RegisterType::E, 0x7F);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x24);
    WriteRegisterByte(RegisterType::L, 0x3D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4A7F, 0x00);
    WriteMemory(0xF9CC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5B);
    CheckRegisterByte(RegisterType::B, 0x88);
    CheckRegisterByte(RegisterType::C, 0x6F);
    CheckRegisterByte(RegisterType::D, 0x4A);
    CheckRegisterByte(RegisterType::E, 0x7F);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x24);
    CheckRegisterByte(RegisterType::L, 0x3D);
    WriteRegisterWord(RegisterType::PC, 0xF9CC);
    WriteRegisterWord(RegisterType::SP, 0x9195);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4A7F, 0x5B);
    CheckMemory(0xF9CC, 0x12);
}

void test_12_037A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x735B);
    WriteRegisterWord(RegisterType::SP, 0xBBE2);
    WriteRegisterByte(RegisterType::A, 0xAD);
    WriteRegisterByte(RegisterType::B, 0xED);
    WriteRegisterByte(RegisterType::C, 0x72);
    WriteRegisterByte(RegisterType::D, 0xCF);
    WriteRegisterByte(RegisterType::E, 0x8E);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x07);
    WriteRegisterByte(RegisterType::L, 0x39);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x735B, 0x12);
    WriteMemory(0xCF8E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAD);
    CheckRegisterByte(RegisterType::B, 0xED);
    CheckRegisterByte(RegisterType::C, 0x72);
    CheckRegisterByte(RegisterType::D, 0xCF);
    CheckRegisterByte(RegisterType::E, 0x8E);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x07);
    CheckRegisterByte(RegisterType::L, 0x39);
    WriteRegisterWord(RegisterType::PC, 0x735B);
    WriteRegisterWord(RegisterType::SP, 0xBBE2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x735B, 0x12);
    CheckMemory(0xCF8E, 0xAD);
}

void test_12_037B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x21FA);
    WriteRegisterWord(RegisterType::SP, 0xF1B3);
    WriteRegisterByte(RegisterType::A, 0x77);
    WriteRegisterByte(RegisterType::B, 0x75);
    WriteRegisterByte(RegisterType::C, 0x14);
    WriteRegisterByte(RegisterType::D, 0xC3);
    WriteRegisterByte(RegisterType::E, 0xED);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x28);
    WriteRegisterByte(RegisterType::L, 0x0B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x21FA, 0x12);
    WriteMemory(0xC3ED, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x77);
    CheckRegisterByte(RegisterType::B, 0x75);
    CheckRegisterByte(RegisterType::C, 0x14);
    CheckRegisterByte(RegisterType::D, 0xC3);
    CheckRegisterByte(RegisterType::E, 0xED);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x28);
    CheckRegisterByte(RegisterType::L, 0x0B);
    WriteRegisterWord(RegisterType::PC, 0x21FA);
    WriteRegisterWord(RegisterType::SP, 0xF1B3);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x21FA, 0x12);
    CheckMemory(0xC3ED, 0x77);
}

void test_12_037C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA69C);
    WriteRegisterWord(RegisterType::SP, 0x1071);
    WriteRegisterByte(RegisterType::A, 0xE6);
    WriteRegisterByte(RegisterType::B, 0x29);
    WriteRegisterByte(RegisterType::C, 0x37);
    WriteRegisterByte(RegisterType::D, 0xF6);
    WriteRegisterByte(RegisterType::E, 0x8C);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xDA);
    WriteRegisterByte(RegisterType::L, 0xD7);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xA69C, 0x12);
    WriteMemory(0xF68C, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE6);
    CheckRegisterByte(RegisterType::B, 0x29);
    CheckRegisterByte(RegisterType::C, 0x37);
    CheckRegisterByte(RegisterType::D, 0xF6);
    CheckRegisterByte(RegisterType::E, 0x8C);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xDA);
    CheckRegisterByte(RegisterType::L, 0xD7);
    WriteRegisterWord(RegisterType::PC, 0xA69C);
    WriteRegisterWord(RegisterType::SP, 0x1071);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xA69C, 0x12);
    CheckMemory(0xF68C, 0xE6);
}

void test_12_037D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7E0F);
    WriteRegisterWord(RegisterType::SP, 0xF4BC);
    WriteRegisterByte(RegisterType::A, 0xDE);
    WriteRegisterByte(RegisterType::B, 0x91);
    WriteRegisterByte(RegisterType::C, 0xDA);
    WriteRegisterByte(RegisterType::D, 0x9B);
    WriteRegisterByte(RegisterType::E, 0x7A);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x59);
    WriteRegisterByte(RegisterType::L, 0x83);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7E0F, 0x12);
    WriteMemory(0x9B7A, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDE);
    CheckRegisterByte(RegisterType::B, 0x91);
    CheckRegisterByte(RegisterType::C, 0xDA);
    CheckRegisterByte(RegisterType::D, 0x9B);
    CheckRegisterByte(RegisterType::E, 0x7A);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x59);
    CheckRegisterByte(RegisterType::L, 0x83);
    WriteRegisterWord(RegisterType::PC, 0x7E0F);
    WriteRegisterWord(RegisterType::SP, 0xF4BC);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x7E0F, 0x12);
    CheckMemory(0x9B7A, 0xDE);
}

void test_12_037E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1022);
    WriteRegisterWord(RegisterType::SP, 0x0D88);
    WriteRegisterByte(RegisterType::A, 0x89);
    WriteRegisterByte(RegisterType::B, 0x72);
    WriteRegisterByte(RegisterType::C, 0xF4);
    WriteRegisterByte(RegisterType::D, 0x42);
    WriteRegisterByte(RegisterType::E, 0x1B);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xE8);
    WriteRegisterByte(RegisterType::L, 0x0A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1022, 0x12);
    WriteMemory(0x421B, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x89);
    CheckRegisterByte(RegisterType::B, 0x72);
    CheckRegisterByte(RegisterType::C, 0xF4);
    CheckRegisterByte(RegisterType::D, 0x42);
    CheckRegisterByte(RegisterType::E, 0x1B);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xE8);
    CheckRegisterByte(RegisterType::L, 0x0A);
    WriteRegisterWord(RegisterType::PC, 0x1022);
    WriteRegisterWord(RegisterType::SP, 0x0D88);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1022, 0x12);
    CheckMemory(0x421B, 0x89);
}

void test_12_037F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8B82);
    WriteRegisterWord(RegisterType::SP, 0x319C);
    WriteRegisterByte(RegisterType::A, 0x88);
    WriteRegisterByte(RegisterType::B, 0x63);
    WriteRegisterByte(RegisterType::C, 0xEC);
    WriteRegisterByte(RegisterType::D, 0x80);
    WriteRegisterByte(RegisterType::E, 0xB8);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xEC);
    WriteRegisterByte(RegisterType::L, 0x8B);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x80B8, 0x00);
    WriteMemory(0x8B82, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x88);
    CheckRegisterByte(RegisterType::B, 0x63);
    CheckRegisterByte(RegisterType::C, 0xEC);
    CheckRegisterByte(RegisterType::D, 0x80);
    CheckRegisterByte(RegisterType::E, 0xB8);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xEC);
    CheckRegisterByte(RegisterType::L, 0x8B);
    WriteRegisterWord(RegisterType::PC, 0x8B82);
    WriteRegisterWord(RegisterType::SP, 0x319C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x80B8, 0x88);
    CheckMemory(0x8B82, 0x12);
}

void test_12_0380()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3FA7);
    WriteRegisterWord(RegisterType::SP, 0xF3A4);
    WriteRegisterByte(RegisterType::A, 0xAB);
    WriteRegisterByte(RegisterType::B, 0xD7);
    WriteRegisterByte(RegisterType::C, 0xEA);
    WriteRegisterByte(RegisterType::D, 0x28);
    WriteRegisterByte(RegisterType::E, 0x2E);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x65);
    WriteRegisterByte(RegisterType::L, 0xC5);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x282E, 0x00);
    WriteMemory(0x3FA7, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAB);
    CheckRegisterByte(RegisterType::B, 0xD7);
    CheckRegisterByte(RegisterType::C, 0xEA);
    CheckRegisterByte(RegisterType::D, 0x28);
    CheckRegisterByte(RegisterType::E, 0x2E);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x65);
    CheckRegisterByte(RegisterType::L, 0xC5);
    WriteRegisterWord(RegisterType::PC, 0x3FA7);
    WriteRegisterWord(RegisterType::SP, 0xF3A4);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x282E, 0xAB);
    CheckMemory(0x3FA7, 0x12);
}

void test_12_0381()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x594B);
    WriteRegisterWord(RegisterType::SP, 0x9CDC);
    WriteRegisterByte(RegisterType::A, 0x91);
    WriteRegisterByte(RegisterType::B, 0x9A);
    WriteRegisterByte(RegisterType::C, 0x73);
    WriteRegisterByte(RegisterType::D, 0x23);
    WriteRegisterByte(RegisterType::E, 0x13);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xBA);
    WriteRegisterByte(RegisterType::L, 0x4F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2313, 0x00);
    WriteMemory(0x594B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x91);
    CheckRegisterByte(RegisterType::B, 0x9A);
    CheckRegisterByte(RegisterType::C, 0x73);
    CheckRegisterByte(RegisterType::D, 0x23);
    CheckRegisterByte(RegisterType::E, 0x13);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xBA);
    CheckRegisterByte(RegisterType::L, 0x4F);
    WriteRegisterWord(RegisterType::PC, 0x594B);
    WriteRegisterWord(RegisterType::SP, 0x9CDC);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2313, 0x91);
    CheckMemory(0x594B, 0x12);
}

void test_12_0382()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1797);
    WriteRegisterWord(RegisterType::SP, 0x3FA0);
    WriteRegisterByte(RegisterType::A, 0x8C);
    WriteRegisterByte(RegisterType::B, 0x2B);
    WriteRegisterByte(RegisterType::C, 0x8D);
    WriteRegisterByte(RegisterType::D, 0x0D);
    WriteRegisterByte(RegisterType::E, 0x81);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x5F);
    WriteRegisterByte(RegisterType::L, 0x0F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x0D81, 0x00);
    WriteMemory(0x1797, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8C);
    CheckRegisterByte(RegisterType::B, 0x2B);
    CheckRegisterByte(RegisterType::C, 0x8D);
    CheckRegisterByte(RegisterType::D, 0x0D);
    CheckRegisterByte(RegisterType::E, 0x81);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x5F);
    CheckRegisterByte(RegisterType::L, 0x0F);
    WriteRegisterWord(RegisterType::PC, 0x1797);
    WriteRegisterWord(RegisterType::SP, 0x3FA0);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0D81, 0x8C);
    CheckMemory(0x1797, 0x12);
}

void test_12_0383()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD91F);
    WriteRegisterWord(RegisterType::SP, 0x6C5D);
    WriteRegisterByte(RegisterType::A, 0x31);
    WriteRegisterByte(RegisterType::B, 0x5D);
    WriteRegisterByte(RegisterType::C, 0xCE);
    WriteRegisterByte(RegisterType::D, 0x78);
    WriteRegisterByte(RegisterType::E, 0x2A);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xD3);
    WriteRegisterByte(RegisterType::L, 0x95);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x782A, 0x00);
    WriteMemory(0xD91F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x31);
    CheckRegisterByte(RegisterType::B, 0x5D);
    CheckRegisterByte(RegisterType::C, 0xCE);
    CheckRegisterByte(RegisterType::D, 0x78);
    CheckRegisterByte(RegisterType::E, 0x2A);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xD3);
    CheckRegisterByte(RegisterType::L, 0x95);
    WriteRegisterWord(RegisterType::PC, 0xD91F);
    WriteRegisterWord(RegisterType::SP, 0x6C5D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x782A, 0x31);
    CheckMemory(0xD91F, 0x12);
}

void test_12_0384()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8741);
    WriteRegisterWord(RegisterType::SP, 0xD501);
    WriteRegisterByte(RegisterType::A, 0x51);
    WriteRegisterByte(RegisterType::B, 0xCF);
    WriteRegisterByte(RegisterType::C, 0x67);
    WriteRegisterByte(RegisterType::D, 0x49);
    WriteRegisterByte(RegisterType::E, 0xDF);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x40);
    WriteRegisterByte(RegisterType::L, 0xB3);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x49DF, 0x00);
    WriteMemory(0x8741, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x51);
    CheckRegisterByte(RegisterType::B, 0xCF);
    CheckRegisterByte(RegisterType::C, 0x67);
    CheckRegisterByte(RegisterType::D, 0x49);
    CheckRegisterByte(RegisterType::E, 0xDF);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x40);
    CheckRegisterByte(RegisterType::L, 0xB3);
    WriteRegisterWord(RegisterType::PC, 0x8741);
    WriteRegisterWord(RegisterType::SP, 0xD501);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x49DF, 0x51);
    CheckMemory(0x8741, 0x12);
}

void test_12_0385()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x87C6);
    WriteRegisterWord(RegisterType::SP, 0xCC1E);
    WriteRegisterByte(RegisterType::A, 0x56);
    WriteRegisterByte(RegisterType::B, 0xCC);
    WriteRegisterByte(RegisterType::C, 0xB4);
    WriteRegisterByte(RegisterType::D, 0xF7);
    WriteRegisterByte(RegisterType::E, 0x08);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xB9);
    WriteRegisterByte(RegisterType::L, 0x43);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x87C6, 0x12);
    WriteMemory(0xF708, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x56);
    CheckRegisterByte(RegisterType::B, 0xCC);
    CheckRegisterByte(RegisterType::C, 0xB4);
    CheckRegisterByte(RegisterType::D, 0xF7);
    CheckRegisterByte(RegisterType::E, 0x08);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xB9);
    CheckRegisterByte(RegisterType::L, 0x43);
    WriteRegisterWord(RegisterType::PC, 0x87C6);
    WriteRegisterWord(RegisterType::SP, 0xCC1E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x87C6, 0x12);
    CheckMemory(0xF708, 0x56);
}

void test_12_0386()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF9D2);
    WriteRegisterWord(RegisterType::SP, 0xC0A5);
    WriteRegisterByte(RegisterType::A, 0xFB);
    WriteRegisterByte(RegisterType::B, 0xC2);
    WriteRegisterByte(RegisterType::C, 0x3D);
    WriteRegisterByte(RegisterType::D, 0x40);
    WriteRegisterByte(RegisterType::E, 0x2F);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x0B);
    WriteRegisterByte(RegisterType::L, 0x7D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x402F, 0x00);
    WriteMemory(0xF9D2, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xFB);
    CheckRegisterByte(RegisterType::B, 0xC2);
    CheckRegisterByte(RegisterType::C, 0x3D);
    CheckRegisterByte(RegisterType::D, 0x40);
    CheckRegisterByte(RegisterType::E, 0x2F);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x0B);
    CheckRegisterByte(RegisterType::L, 0x7D);
    WriteRegisterWord(RegisterType::PC, 0xF9D2);
    WriteRegisterWord(RegisterType::SP, 0xC0A5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x402F, 0xFB);
    CheckMemory(0xF9D2, 0x12);
}

void test_12_0387()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x90CC);
    WriteRegisterWord(RegisterType::SP, 0x77F3);
    WriteRegisterByte(RegisterType::A, 0x4F);
    WriteRegisterByte(RegisterType::B, 0xC2);
    WriteRegisterByte(RegisterType::C, 0x88);
    WriteRegisterByte(RegisterType::D, 0x26);
    WriteRegisterByte(RegisterType::E, 0x5B);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xDB);
    WriteRegisterByte(RegisterType::L, 0x16);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x265B, 0x00);
    WriteMemory(0x90CC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4F);
    CheckRegisterByte(RegisterType::B, 0xC2);
    CheckRegisterByte(RegisterType::C, 0x88);
    CheckRegisterByte(RegisterType::D, 0x26);
    CheckRegisterByte(RegisterType::E, 0x5B);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xDB);
    CheckRegisterByte(RegisterType::L, 0x16);
    WriteRegisterWord(RegisterType::PC, 0x90CC);
    WriteRegisterWord(RegisterType::SP, 0x77F3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x265B, 0x4F);
    CheckMemory(0x90CC, 0x12);
}

void test_12_0388()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x988C);
    WriteRegisterWord(RegisterType::SP, 0x67E2);
    WriteRegisterByte(RegisterType::A, 0xBE);
    WriteRegisterByte(RegisterType::B, 0x71);
    WriteRegisterByte(RegisterType::C, 0x63);
    WriteRegisterByte(RegisterType::D, 0x7A);
    WriteRegisterByte(RegisterType::E, 0x54);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x0F);
    WriteRegisterByte(RegisterType::L, 0x02);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x7A54, 0x00);
    WriteMemory(0x988C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBE);
    CheckRegisterByte(RegisterType::B, 0x71);
    CheckRegisterByte(RegisterType::C, 0x63);
    CheckRegisterByte(RegisterType::D, 0x7A);
    CheckRegisterByte(RegisterType::E, 0x54);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x0F);
    CheckRegisterByte(RegisterType::L, 0x02);
    WriteRegisterWord(RegisterType::PC, 0x988C);
    WriteRegisterWord(RegisterType::SP, 0x67E2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x7A54, 0xBE);
    CheckMemory(0x988C, 0x12);
}

void test_12_0389()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE3F1);
    WriteRegisterWord(RegisterType::SP, 0xFDA8);
    WriteRegisterByte(RegisterType::A, 0x6D);
    WriteRegisterByte(RegisterType::B, 0x29);
    WriteRegisterByte(RegisterType::C, 0x11);
    WriteRegisterByte(RegisterType::D, 0xF3);
    WriteRegisterByte(RegisterType::E, 0x9D);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x41);
    WriteRegisterByte(RegisterType::L, 0x6E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xE3F1, 0x12);
    WriteMemory(0xF39D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6D);
    CheckRegisterByte(RegisterType::B, 0x29);
    CheckRegisterByte(RegisterType::C, 0x11);
    CheckRegisterByte(RegisterType::D, 0xF3);
    CheckRegisterByte(RegisterType::E, 0x9D);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x41);
    CheckRegisterByte(RegisterType::L, 0x6E);
    WriteRegisterWord(RegisterType::PC, 0xE3F1);
    WriteRegisterWord(RegisterType::SP, 0xFDA8);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xE3F1, 0x12);
    CheckMemory(0xF39D, 0x6D);
}

void test_12_038A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA76B);
    WriteRegisterWord(RegisterType::SP, 0x495F);
    WriteRegisterByte(RegisterType::A, 0x52);
    WriteRegisterByte(RegisterType::B, 0x39);
    WriteRegisterByte(RegisterType::C, 0x96);
    WriteRegisterByte(RegisterType::D, 0x2D);
    WriteRegisterByte(RegisterType::E, 0x78);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x44);
    WriteRegisterByte(RegisterType::L, 0x8F);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2D78, 0x00);
    WriteMemory(0xA76B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x52);
    CheckRegisterByte(RegisterType::B, 0x39);
    CheckRegisterByte(RegisterType::C, 0x96);
    CheckRegisterByte(RegisterType::D, 0x2D);
    CheckRegisterByte(RegisterType::E, 0x78);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x44);
    CheckRegisterByte(RegisterType::L, 0x8F);
    WriteRegisterWord(RegisterType::PC, 0xA76B);
    WriteRegisterWord(RegisterType::SP, 0x495F);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2D78, 0x52);
    CheckMemory(0xA76B, 0x12);
}

void test_12_038B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBAF4);
    WriteRegisterWord(RegisterType::SP, 0x03CC);
    WriteRegisterByte(RegisterType::A, 0xD8);
    WriteRegisterByte(RegisterType::B, 0x84);
    WriteRegisterByte(RegisterType::C, 0xFD);
    WriteRegisterByte(RegisterType::D, 0x94);
    WriteRegisterByte(RegisterType::E, 0x90);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0x39);
    WriteRegisterByte(RegisterType::L, 0xBB);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9490, 0x00);
    WriteMemory(0xBAF4, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD8);
    CheckRegisterByte(RegisterType::B, 0x84);
    CheckRegisterByte(RegisterType::C, 0xFD);
    CheckRegisterByte(RegisterType::D, 0x94);
    CheckRegisterByte(RegisterType::E, 0x90);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0x39);
    CheckRegisterByte(RegisterType::L, 0xBB);
    WriteRegisterWord(RegisterType::PC, 0xBAF4);
    WriteRegisterWord(RegisterType::SP, 0x03CC);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9490, 0xD8);
    CheckMemory(0xBAF4, 0x12);
}

void test_12_038C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9E94);
    WriteRegisterWord(RegisterType::SP, 0x0E43);
    WriteRegisterByte(RegisterType::A, 0xE0);
    WriteRegisterByte(RegisterType::B, 0xBE);
    WriteRegisterByte(RegisterType::C, 0xE4);
    WriteRegisterByte(RegisterType::D, 0xD6);
    WriteRegisterByte(RegisterType::E, 0x68);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x30);
    WriteRegisterByte(RegisterType::L, 0xF1);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9E94, 0x12);
    WriteMemory(0xD668, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE0);
    CheckRegisterByte(RegisterType::B, 0xBE);
    CheckRegisterByte(RegisterType::C, 0xE4);
    CheckRegisterByte(RegisterType::D, 0xD6);
    CheckRegisterByte(RegisterType::E, 0x68);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x30);
    CheckRegisterByte(RegisterType::L, 0xF1);
    WriteRegisterWord(RegisterType::PC, 0x9E94);
    WriteRegisterWord(RegisterType::SP, 0x0E43);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9E94, 0x12);
    CheckMemory(0xD668, 0xE0);
}

void test_12_038D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x575E);
    WriteRegisterWord(RegisterType::SP, 0x9509);
    WriteRegisterByte(RegisterType::A, 0x0F);
    WriteRegisterByte(RegisterType::B, 0x4F);
    WriteRegisterByte(RegisterType::C, 0x49);
    WriteRegisterByte(RegisterType::D, 0x0A);
    WriteRegisterByte(RegisterType::E, 0x4D);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0xF8);
    WriteRegisterByte(RegisterType::L, 0xBE);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0A4D, 0x00);
    WriteMemory(0x575E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x0F);
    CheckRegisterByte(RegisterType::B, 0x4F);
    CheckRegisterByte(RegisterType::C, 0x49);
    CheckRegisterByte(RegisterType::D, 0x0A);
    CheckRegisterByte(RegisterType::E, 0x4D);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0xF8);
    CheckRegisterByte(RegisterType::L, 0xBE);
    WriteRegisterWord(RegisterType::PC, 0x575E);
    WriteRegisterWord(RegisterType::SP, 0x9509);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0A4D, 0x0F);
    CheckMemory(0x575E, 0x12);
}

void test_12_038E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6CB5);
    WriteRegisterWord(RegisterType::SP, 0x3580);
    WriteRegisterByte(RegisterType::A, 0xB8);
    WriteRegisterByte(RegisterType::B, 0x1B);
    WriteRegisterByte(RegisterType::C, 0x70);
    WriteRegisterByte(RegisterType::D, 0xFB);
    WriteRegisterByte(RegisterType::E, 0x7D);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xAE);
    WriteRegisterByte(RegisterType::L, 0x6F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6CB5, 0x12);
    WriteMemory(0xFB7D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB8);
    CheckRegisterByte(RegisterType::B, 0x1B);
    CheckRegisterByte(RegisterType::C, 0x70);
    CheckRegisterByte(RegisterType::D, 0xFB);
    CheckRegisterByte(RegisterType::E, 0x7D);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xAE);
    CheckRegisterByte(RegisterType::L, 0x6F);
    WriteRegisterWord(RegisterType::PC, 0x6CB5);
    WriteRegisterWord(RegisterType::SP, 0x3580);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6CB5, 0x12);
    CheckMemory(0xFB7D, 0xB8);
}

void test_12_038F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x727B);
    WriteRegisterWord(RegisterType::SP, 0x7BBE);
    WriteRegisterByte(RegisterType::A, 0xCF);
    WriteRegisterByte(RegisterType::B, 0xE0);
    WriteRegisterByte(RegisterType::C, 0xF7);
    WriteRegisterByte(RegisterType::D, 0xB4);
    WriteRegisterByte(RegisterType::E, 0xB6);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x22);
    WriteRegisterByte(RegisterType::L, 0xC4);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x727B, 0x12);
    WriteMemory(0xB4B6, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCF);
    CheckRegisterByte(RegisterType::B, 0xE0);
    CheckRegisterByte(RegisterType::C, 0xF7);
    CheckRegisterByte(RegisterType::D, 0xB4);
    CheckRegisterByte(RegisterType::E, 0xB6);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x22);
    CheckRegisterByte(RegisterType::L, 0xC4);
    WriteRegisterWord(RegisterType::PC, 0x727B);
    WriteRegisterWord(RegisterType::SP, 0x7BBE);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x727B, 0x12);
    CheckMemory(0xB4B6, 0xCF);
}

void test_12_0390()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF48B);
    WriteRegisterWord(RegisterType::SP, 0xC124);
    WriteRegisterByte(RegisterType::A, 0x91);
    WriteRegisterByte(RegisterType::B, 0x32);
    WriteRegisterByte(RegisterType::C, 0x3A);
    WriteRegisterByte(RegisterType::D, 0x31);
    WriteRegisterByte(RegisterType::E, 0x40);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x79);
    WriteRegisterByte(RegisterType::L, 0x03);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3140, 0x00);
    WriteMemory(0xF48B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x91);
    CheckRegisterByte(RegisterType::B, 0x32);
    CheckRegisterByte(RegisterType::C, 0x3A);
    CheckRegisterByte(RegisterType::D, 0x31);
    CheckRegisterByte(RegisterType::E, 0x40);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x79);
    CheckRegisterByte(RegisterType::L, 0x03);
    WriteRegisterWord(RegisterType::PC, 0xF48B);
    WriteRegisterWord(RegisterType::SP, 0xC124);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3140, 0x91);
    CheckMemory(0xF48B, 0x12);
}

void test_12_0391()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x63F3);
    WriteRegisterWord(RegisterType::SP, 0x4DD6);
    WriteRegisterByte(RegisterType::A, 0x52);
    WriteRegisterByte(RegisterType::B, 0xB3);
    WriteRegisterByte(RegisterType::C, 0x67);
    WriteRegisterByte(RegisterType::D, 0x66);
    WriteRegisterByte(RegisterType::E, 0x1D);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xF2);
    WriteRegisterByte(RegisterType::L, 0x29);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x63F3, 0x12);
    WriteMemory(0x661D, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x52);
    CheckRegisterByte(RegisterType::B, 0xB3);
    CheckRegisterByte(RegisterType::C, 0x67);
    CheckRegisterByte(RegisterType::D, 0x66);
    CheckRegisterByte(RegisterType::E, 0x1D);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xF2);
    CheckRegisterByte(RegisterType::L, 0x29);
    WriteRegisterWord(RegisterType::PC, 0x63F3);
    WriteRegisterWord(RegisterType::SP, 0x4DD6);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x63F3, 0x12);
    CheckMemory(0x661D, 0x52);
}

void test_12_0392()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x51D9);
    WriteRegisterWord(RegisterType::SP, 0x9535);
    WriteRegisterByte(RegisterType::A, 0xC8);
    WriteRegisterByte(RegisterType::B, 0xC0);
    WriteRegisterByte(RegisterType::C, 0x64);
    WriteRegisterByte(RegisterType::D, 0xEF);
    WriteRegisterByte(RegisterType::E, 0x70);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xE4);
    WriteRegisterByte(RegisterType::L, 0x7C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x51D9, 0x12);
    WriteMemory(0xEF70, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC8);
    CheckRegisterByte(RegisterType::B, 0xC0);
    CheckRegisterByte(RegisterType::C, 0x64);
    CheckRegisterByte(RegisterType::D, 0xEF);
    CheckRegisterByte(RegisterType::E, 0x70);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xE4);
    CheckRegisterByte(RegisterType::L, 0x7C);
    WriteRegisterWord(RegisterType::PC, 0x51D9);
    WriteRegisterWord(RegisterType::SP, 0x9535);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x51D9, 0x12);
    CheckMemory(0xEF70, 0xC8);
}

void test_12_0393()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x58CA);
    WriteRegisterWord(RegisterType::SP, 0x961E);
    WriteRegisterByte(RegisterType::A, 0xD2);
    WriteRegisterByte(RegisterType::B, 0x67);
    WriteRegisterByte(RegisterType::C, 0x34);
    WriteRegisterByte(RegisterType::D, 0x5A);
    WriteRegisterByte(RegisterType::E, 0x56);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0xD0);
    WriteRegisterByte(RegisterType::L, 0x1A);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x58CA, 0x12);
    WriteMemory(0x5A56, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD2);
    CheckRegisterByte(RegisterType::B, 0x67);
    CheckRegisterByte(RegisterType::C, 0x34);
    CheckRegisterByte(RegisterType::D, 0x5A);
    CheckRegisterByte(RegisterType::E, 0x56);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0xD0);
    CheckRegisterByte(RegisterType::L, 0x1A);
    WriteRegisterWord(RegisterType::PC, 0x58CA);
    WriteRegisterWord(RegisterType::SP, 0x961E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x58CA, 0x12);
    CheckMemory(0x5A56, 0xD2);
}

void test_12_0394()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE8A9);
    WriteRegisterWord(RegisterType::SP, 0xB88A);
    WriteRegisterByte(RegisterType::A, 0x51);
    WriteRegisterByte(RegisterType::B, 0x3A);
    WriteRegisterByte(RegisterType::C, 0xC8);
    WriteRegisterByte(RegisterType::D, 0x83);
    WriteRegisterByte(RegisterType::E, 0x1B);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x21);
    WriteRegisterByte(RegisterType::L, 0x2B);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x831B, 0x00);
    WriteMemory(0xE8A9, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x51);
    CheckRegisterByte(RegisterType::B, 0x3A);
    CheckRegisterByte(RegisterType::C, 0xC8);
    CheckRegisterByte(RegisterType::D, 0x83);
    CheckRegisterByte(RegisterType::E, 0x1B);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x21);
    CheckRegisterByte(RegisterType::L, 0x2B);
    WriteRegisterWord(RegisterType::PC, 0xE8A9);
    WriteRegisterWord(RegisterType::SP, 0xB88A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x831B, 0x51);
    CheckMemory(0xE8A9, 0x12);
}

void test_12_0395()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x603C);
    WriteRegisterWord(RegisterType::SP, 0xA5FA);
    WriteRegisterByte(RegisterType::A, 0xE3);
    WriteRegisterByte(RegisterType::B, 0x25);
    WriteRegisterByte(RegisterType::C, 0xEC);
    WriteRegisterByte(RegisterType::D, 0xBB);
    WriteRegisterByte(RegisterType::E, 0x09);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x46);
    WriteRegisterByte(RegisterType::L, 0x23);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x603C, 0x12);
    WriteMemory(0xBB09, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE3);
    CheckRegisterByte(RegisterType::B, 0x25);
    CheckRegisterByte(RegisterType::C, 0xEC);
    CheckRegisterByte(RegisterType::D, 0xBB);
    CheckRegisterByte(RegisterType::E, 0x09);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x46);
    CheckRegisterByte(RegisterType::L, 0x23);
    WriteRegisterWord(RegisterType::PC, 0x603C);
    WriteRegisterWord(RegisterType::SP, 0xA5FA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x603C, 0x12);
    CheckMemory(0xBB09, 0xE3);
}

void test_12_0396()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1157);
    WriteRegisterWord(RegisterType::SP, 0x817C);
    WriteRegisterByte(RegisterType::A, 0xA8);
    WriteRegisterByte(RegisterType::B, 0xFC);
    WriteRegisterByte(RegisterType::C, 0x97);
    WriteRegisterByte(RegisterType::D, 0x8C);
    WriteRegisterByte(RegisterType::E, 0x30);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x30);
    WriteRegisterByte(RegisterType::L, 0xE9);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1157, 0x12);
    WriteMemory(0x8C30, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA8);
    CheckRegisterByte(RegisterType::B, 0xFC);
    CheckRegisterByte(RegisterType::C, 0x97);
    CheckRegisterByte(RegisterType::D, 0x8C);
    CheckRegisterByte(RegisterType::E, 0x30);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x30);
    CheckRegisterByte(RegisterType::L, 0xE9);
    WriteRegisterWord(RegisterType::PC, 0x1157);
    WriteRegisterWord(RegisterType::SP, 0x817C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1157, 0x12);
    CheckMemory(0x8C30, 0xA8);
}

void test_12_0397()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x910E);
    WriteRegisterWord(RegisterType::SP, 0xFD37);
    WriteRegisterByte(RegisterType::A, 0x03);
    WriteRegisterByte(RegisterType::B, 0x9D);
    WriteRegisterByte(RegisterType::C, 0xFC);
    WriteRegisterByte(RegisterType::D, 0x7C);
    WriteRegisterByte(RegisterType::E, 0x33);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x60);
    WriteRegisterByte(RegisterType::L, 0x29);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7C33, 0x00);
    WriteMemory(0x910E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x03);
    CheckRegisterByte(RegisterType::B, 0x9D);
    CheckRegisterByte(RegisterType::C, 0xFC);
    CheckRegisterByte(RegisterType::D, 0x7C);
    CheckRegisterByte(RegisterType::E, 0x33);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x60);
    CheckRegisterByte(RegisterType::L, 0x29);
    WriteRegisterWord(RegisterType::PC, 0x910E);
    WriteRegisterWord(RegisterType::SP, 0xFD37);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x7C33, 0x03);
    CheckMemory(0x910E, 0x12);
}

void test_12_0398()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBDEE);
    WriteRegisterWord(RegisterType::SP, 0xE1BB);
    WriteRegisterByte(RegisterType::A, 0x1E);
    WriteRegisterByte(RegisterType::B, 0x82);
    WriteRegisterByte(RegisterType::C, 0x3D);
    WriteRegisterByte(RegisterType::D, 0xE6);
    WriteRegisterByte(RegisterType::E, 0x57);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x7F);
    WriteRegisterByte(RegisterType::L, 0x1E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xBDEE, 0x12);
    WriteMemory(0xE657, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1E);
    CheckRegisterByte(RegisterType::B, 0x82);
    CheckRegisterByte(RegisterType::C, 0x3D);
    CheckRegisterByte(RegisterType::D, 0xE6);
    CheckRegisterByte(RegisterType::E, 0x57);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x7F);
    CheckRegisterByte(RegisterType::L, 0x1E);
    WriteRegisterWord(RegisterType::PC, 0xBDEE);
    WriteRegisterWord(RegisterType::SP, 0xE1BB);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xBDEE, 0x12);
    CheckMemory(0xE657, 0x1E);
}

void test_12_0399()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFF01);
    WriteRegisterWord(RegisterType::SP, 0xA985);
    WriteRegisterByte(RegisterType::A, 0xEC);
    WriteRegisterByte(RegisterType::B, 0x0C);
    WriteRegisterByte(RegisterType::C, 0x3E);
    WriteRegisterByte(RegisterType::D, 0xA1);
    WriteRegisterByte(RegisterType::E, 0x97);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x6C);
    WriteRegisterByte(RegisterType::L, 0x02);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xA197, 0x00);
    WriteMemory(0xFF01, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xEC);
    CheckRegisterByte(RegisterType::B, 0x0C);
    CheckRegisterByte(RegisterType::C, 0x3E);
    CheckRegisterByte(RegisterType::D, 0xA1);
    CheckRegisterByte(RegisterType::E, 0x97);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x6C);
    CheckRegisterByte(RegisterType::L, 0x02);
    WriteRegisterWord(RegisterType::PC, 0xFF01);
    WriteRegisterWord(RegisterType::SP, 0xA985);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xA197, 0xEC);
    CheckMemory(0xFF01, 0x12);
}

void test_12_039A()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x6623);
    WriteRegisterWord(RegisterType::SP, 0xE600);
    WriteRegisterByte(RegisterType::A, 0xB4);
    WriteRegisterByte(RegisterType::B, 0x14);
    WriteRegisterByte(RegisterType::C, 0x2A);
    WriteRegisterByte(RegisterType::D, 0xE0);
    WriteRegisterByte(RegisterType::E, 0x98);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x06);
    WriteRegisterByte(RegisterType::L, 0x23);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x6623, 0x12);
    WriteMemory(0xE098, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB4);
    CheckRegisterByte(RegisterType::B, 0x14);
    CheckRegisterByte(RegisterType::C, 0x2A);
    CheckRegisterByte(RegisterType::D, 0xE0);
    CheckRegisterByte(RegisterType::E, 0x98);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x06);
    CheckRegisterByte(RegisterType::L, 0x23);
    WriteRegisterWord(RegisterType::PC, 0x6623);
    WriteRegisterWord(RegisterType::SP, 0xE600);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6623, 0x12);
    CheckMemory(0xE098, 0xB4);
}

void test_12_039B()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC542);
    WriteRegisterWord(RegisterType::SP, 0x2DBA);
    WriteRegisterByte(RegisterType::A, 0x08);
    WriteRegisterByte(RegisterType::B, 0x4E);
    WriteRegisterByte(RegisterType::C, 0xA0);
    WriteRegisterByte(RegisterType::D, 0x51);
    WriteRegisterByte(RegisterType::E, 0xEC);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x0D);
    WriteRegisterByte(RegisterType::L, 0x17);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x51EC, 0x00);
    WriteMemory(0xC542, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x08);
    CheckRegisterByte(RegisterType::B, 0x4E);
    CheckRegisterByte(RegisterType::C, 0xA0);
    CheckRegisterByte(RegisterType::D, 0x51);
    CheckRegisterByte(RegisterType::E, 0xEC);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x0D);
    CheckRegisterByte(RegisterType::L, 0x17);
    WriteRegisterWord(RegisterType::PC, 0xC542);
    WriteRegisterWord(RegisterType::SP, 0x2DBA);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x51EC, 0x08);
    CheckMemory(0xC542, 0x12);
}

void test_12_039C()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFA48);
    WriteRegisterWord(RegisterType::SP, 0x0DD5);
    WriteRegisterByte(RegisterType::A, 0xD6);
    WriteRegisterByte(RegisterType::B, 0x64);
    WriteRegisterByte(RegisterType::C, 0x79);
    WriteRegisterByte(RegisterType::D, 0x27);
    WriteRegisterByte(RegisterType::E, 0xBF);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x8B);
    WriteRegisterByte(RegisterType::L, 0xCE);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x27BF, 0x00);
    WriteMemory(0xFA48, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD6);
    CheckRegisterByte(RegisterType::B, 0x64);
    CheckRegisterByte(RegisterType::C, 0x79);
    CheckRegisterByte(RegisterType::D, 0x27);
    CheckRegisterByte(RegisterType::E, 0xBF);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x8B);
    CheckRegisterByte(RegisterType::L, 0xCE);
    WriteRegisterWord(RegisterType::PC, 0xFA48);
    WriteRegisterWord(RegisterType::SP, 0x0DD5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x27BF, 0xD6);
    CheckMemory(0xFA48, 0x12);
}

void test_12_039D()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA5FF);
    WriteRegisterWord(RegisterType::SP, 0xC1F3);
    WriteRegisterByte(RegisterType::A, 0x73);
    WriteRegisterByte(RegisterType::B, 0x50);
    WriteRegisterByte(RegisterType::C, 0xFB);
    WriteRegisterByte(RegisterType::D, 0x15);
    WriteRegisterByte(RegisterType::E, 0xD1);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x39);
    WriteRegisterByte(RegisterType::L, 0x4A);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x15D1, 0x00);
    WriteMemory(0xA5FF, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x73);
    CheckRegisterByte(RegisterType::B, 0x50);
    CheckRegisterByte(RegisterType::C, 0xFB);
    CheckRegisterByte(RegisterType::D, 0x15);
    CheckRegisterByte(RegisterType::E, 0xD1);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x39);
    CheckRegisterByte(RegisterType::L, 0x4A);
    WriteRegisterWord(RegisterType::PC, 0xA5FF);
    WriteRegisterWord(RegisterType::SP, 0xC1F3);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x15D1, 0x73);
    CheckMemory(0xA5FF, 0x12);
}

void test_12_039E()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x10F4);
    WriteRegisterWord(RegisterType::SP, 0x9EFC);
    WriteRegisterByte(RegisterType::A, 0xC7);
    WriteRegisterByte(RegisterType::B, 0x94);
    WriteRegisterByte(RegisterType::C, 0x07);
    WriteRegisterByte(RegisterType::D, 0x15);
    WriteRegisterByte(RegisterType::E, 0xF3);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x6F);
    WriteRegisterByte(RegisterType::L, 0x5E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x10F4, 0x12);
    WriteMemory(0x15F3, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC7);
    CheckRegisterByte(RegisterType::B, 0x94);
    CheckRegisterByte(RegisterType::C, 0x07);
    CheckRegisterByte(RegisterType::D, 0x15);
    CheckRegisterByte(RegisterType::E, 0xF3);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x6F);
    CheckRegisterByte(RegisterType::L, 0x5E);
    WriteRegisterWord(RegisterType::PC, 0x10F4);
    WriteRegisterWord(RegisterType::SP, 0x9EFC);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x10F4, 0x12);
    CheckMemory(0x15F3, 0xC7);
}

void test_12_039F()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x805D);
    WriteRegisterWord(RegisterType::SP, 0x4907);
    WriteRegisterByte(RegisterType::A, 0x57);
    WriteRegisterByte(RegisterType::B, 0xAC);
    WriteRegisterByte(RegisterType::C, 0x59);
    WriteRegisterByte(RegisterType::D, 0x1F);
    WriteRegisterByte(RegisterType::E, 0xDC);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x43);
    WriteRegisterByte(RegisterType::L, 0x74);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1FDC, 0x00);
    WriteMemory(0x805D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x57);
    CheckRegisterByte(RegisterType::B, 0xAC);
    CheckRegisterByte(RegisterType::C, 0x59);
    CheckRegisterByte(RegisterType::D, 0x1F);
    CheckRegisterByte(RegisterType::E, 0xDC);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x43);
    CheckRegisterByte(RegisterType::L, 0x74);
    WriteRegisterWord(RegisterType::PC, 0x805D);
    WriteRegisterWord(RegisterType::SP, 0x4907);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1FDC, 0x57);
    CheckMemory(0x805D, 0x12);
}

void test_12_03A0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x60E1);
    WriteRegisterWord(RegisterType::SP, 0xEE5B);
    WriteRegisterByte(RegisterType::A, 0x3E);
    WriteRegisterByte(RegisterType::B, 0x40);
    WriteRegisterByte(RegisterType::C, 0x3D);
    WriteRegisterByte(RegisterType::D, 0xBA);
    WriteRegisterByte(RegisterType::E, 0xF9);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x93);
    WriteRegisterByte(RegisterType::L, 0x8E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x60E1, 0x12);
    WriteMemory(0xBAF9, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x3E);
    CheckRegisterByte(RegisterType::B, 0x40);
    CheckRegisterByte(RegisterType::C, 0x3D);
    CheckRegisterByte(RegisterType::D, 0xBA);
    CheckRegisterByte(RegisterType::E, 0xF9);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x93);
    CheckRegisterByte(RegisterType::L, 0x8E);
    WriteRegisterWord(RegisterType::PC, 0x60E1);
    WriteRegisterWord(RegisterType::SP, 0xEE5B);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x60E1, 0x12);
    CheckMemory(0xBAF9, 0x3E);
}

void test_12_03A1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x76C7);
    WriteRegisterWord(RegisterType::SP, 0xD7B4);
    WriteRegisterByte(RegisterType::A, 0x8C);
    WriteRegisterByte(RegisterType::B, 0xA5);
    WriteRegisterByte(RegisterType::C, 0x08);
    WriteRegisterByte(RegisterType::D, 0x12);
    WriteRegisterByte(RegisterType::E, 0x82);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x0F);
    WriteRegisterByte(RegisterType::L, 0x29);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1282, 0x00);
    WriteMemory(0x76C7, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8C);
    CheckRegisterByte(RegisterType::B, 0xA5);
    CheckRegisterByte(RegisterType::C, 0x08);
    CheckRegisterByte(RegisterType::D, 0x12);
    CheckRegisterByte(RegisterType::E, 0x82);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x0F);
    CheckRegisterByte(RegisterType::L, 0x29);
    WriteRegisterWord(RegisterType::PC, 0x76C7);
    WriteRegisterWord(RegisterType::SP, 0xD7B4);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1282, 0x8C);
    CheckMemory(0x76C7, 0x12);
}

void test_12_03A2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x95B2);
    WriteRegisterWord(RegisterType::SP, 0x1112);
    WriteRegisterByte(RegisterType::A, 0x1B);
    WriteRegisterByte(RegisterType::B, 0xD0);
    WriteRegisterByte(RegisterType::C, 0x03);
    WriteRegisterByte(RegisterType::D, 0x1B);
    WriteRegisterByte(RegisterType::E, 0x85);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x25);
    WriteRegisterByte(RegisterType::L, 0xB4);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1B85, 0x00);
    WriteMemory(0x95B2, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x1B);
    CheckRegisterByte(RegisterType::B, 0xD0);
    CheckRegisterByte(RegisterType::C, 0x03);
    CheckRegisterByte(RegisterType::D, 0x1B);
    CheckRegisterByte(RegisterType::E, 0x85);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x25);
    CheckRegisterByte(RegisterType::L, 0xB4);
    WriteRegisterWord(RegisterType::PC, 0x95B2);
    WriteRegisterWord(RegisterType::SP, 0x1112);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1B85, 0x1B);
    CheckMemory(0x95B2, 0x12);
}

void test_12_03A3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x792D);
    WriteRegisterWord(RegisterType::SP, 0x0AAA);
    WriteRegisterByte(RegisterType::A, 0x32);
    WriteRegisterByte(RegisterType::B, 0xB4);
    WriteRegisterByte(RegisterType::C, 0x3C);
    WriteRegisterByte(RegisterType::D, 0xE4);
    WriteRegisterByte(RegisterType::E, 0x15);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x37);
    WriteRegisterByte(RegisterType::L, 0x8D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x792D, 0x12);
    WriteMemory(0xE415, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x32);
    CheckRegisterByte(RegisterType::B, 0xB4);
    CheckRegisterByte(RegisterType::C, 0x3C);
    CheckRegisterByte(RegisterType::D, 0xE4);
    CheckRegisterByte(RegisterType::E, 0x15);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x37);
    CheckRegisterByte(RegisterType::L, 0x8D);
    WriteRegisterWord(RegisterType::PC, 0x792D);
    WriteRegisterWord(RegisterType::SP, 0x0AAA);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x792D, 0x12);
    CheckMemory(0xE415, 0x32);
}

void test_12_03A4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x62E8);
    WriteRegisterWord(RegisterType::SP, 0x8FC0);
    WriteRegisterByte(RegisterType::A, 0xA3);
    WriteRegisterByte(RegisterType::B, 0x89);
    WriteRegisterByte(RegisterType::C, 0xFF);
    WriteRegisterByte(RegisterType::D, 0x74);
    WriteRegisterByte(RegisterType::E, 0xC9);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xE7);
    WriteRegisterByte(RegisterType::L, 0x01);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x62E8, 0x12);
    WriteMemory(0x74C9, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA3);
    CheckRegisterByte(RegisterType::B, 0x89);
    CheckRegisterByte(RegisterType::C, 0xFF);
    CheckRegisterByte(RegisterType::D, 0x74);
    CheckRegisterByte(RegisterType::E, 0xC9);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xE7);
    CheckRegisterByte(RegisterType::L, 0x01);
    WriteRegisterWord(RegisterType::PC, 0x62E8);
    WriteRegisterWord(RegisterType::SP, 0x8FC0);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x62E8, 0x12);
    CheckMemory(0x74C9, 0xA3);
}

void test_12_03A5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF250);
    WriteRegisterWord(RegisterType::SP, 0xED9B);
    WriteRegisterByte(RegisterType::A, 0x04);
    WriteRegisterByte(RegisterType::B, 0x16);
    WriteRegisterByte(RegisterType::C, 0x6D);
    WriteRegisterByte(RegisterType::D, 0x3B);
    WriteRegisterByte(RegisterType::E, 0x02);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xC3);
    WriteRegisterByte(RegisterType::L, 0x12);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3B02, 0x00);
    WriteMemory(0xF250, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x04);
    CheckRegisterByte(RegisterType::B, 0x16);
    CheckRegisterByte(RegisterType::C, 0x6D);
    CheckRegisterByte(RegisterType::D, 0x3B);
    CheckRegisterByte(RegisterType::E, 0x02);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xC3);
    CheckRegisterByte(RegisterType::L, 0x12);
    WriteRegisterWord(RegisterType::PC, 0xF250);
    WriteRegisterWord(RegisterType::SP, 0xED9B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3B02, 0x04);
    CheckMemory(0xF250, 0x12);
}

void test_12_03A6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xBA98);
    WriteRegisterWord(RegisterType::SP, 0x0BD2);
    WriteRegisterByte(RegisterType::A, 0xCF);
    WriteRegisterByte(RegisterType::B, 0x89);
    WriteRegisterByte(RegisterType::C, 0x85);
    WriteRegisterByte(RegisterType::D, 0xF7);
    WriteRegisterByte(RegisterType::E, 0xE7);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x0D);
    WriteRegisterByte(RegisterType::L, 0x4E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xBA98, 0x12);
    WriteMemory(0xF7E7, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCF);
    CheckRegisterByte(RegisterType::B, 0x89);
    CheckRegisterByte(RegisterType::C, 0x85);
    CheckRegisterByte(RegisterType::D, 0xF7);
    CheckRegisterByte(RegisterType::E, 0xE7);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x0D);
    CheckRegisterByte(RegisterType::L, 0x4E);
    WriteRegisterWord(RegisterType::PC, 0xBA98);
    WriteRegisterWord(RegisterType::SP, 0x0BD2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xBA98, 0x12);
    CheckMemory(0xF7E7, 0xCF);
}

void test_12_03A7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE12E);
    WriteRegisterWord(RegisterType::SP, 0x07A7);
    WriteRegisterByte(RegisterType::A, 0x9D);
    WriteRegisterByte(RegisterType::B, 0xF3);
    WriteRegisterByte(RegisterType::C, 0xD7);
    WriteRegisterByte(RegisterType::D, 0x22);
    WriteRegisterByte(RegisterType::E, 0x8B);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x8C);
    WriteRegisterByte(RegisterType::L, 0x6D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x228B, 0x00);
    WriteMemory(0xE12E, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9D);
    CheckRegisterByte(RegisterType::B, 0xF3);
    CheckRegisterByte(RegisterType::C, 0xD7);
    CheckRegisterByte(RegisterType::D, 0x22);
    CheckRegisterByte(RegisterType::E, 0x8B);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x8C);
    CheckRegisterByte(RegisterType::L, 0x6D);
    WriteRegisterWord(RegisterType::PC, 0xE12E);
    WriteRegisterWord(RegisterType::SP, 0x07A7);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x228B, 0x9D);
    CheckMemory(0xE12E, 0x12);
}

void test_12_03A8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x715C);
    WriteRegisterWord(RegisterType::SP, 0x5265);
    WriteRegisterByte(RegisterType::A, 0x25);
    WriteRegisterByte(RegisterType::B, 0x6F);
    WriteRegisterByte(RegisterType::C, 0x51);
    WriteRegisterByte(RegisterType::D, 0x52);
    WriteRegisterByte(RegisterType::E, 0x60);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xAC);
    WriteRegisterByte(RegisterType::L, 0x72);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5260, 0x00);
    WriteMemory(0x715C, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x25);
    CheckRegisterByte(RegisterType::B, 0x6F);
    CheckRegisterByte(RegisterType::C, 0x51);
    CheckRegisterByte(RegisterType::D, 0x52);
    CheckRegisterByte(RegisterType::E, 0x60);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xAC);
    CheckRegisterByte(RegisterType::L, 0x72);
    WriteRegisterWord(RegisterType::PC, 0x715C);
    WriteRegisterWord(RegisterType::SP, 0x5265);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5260, 0x25);
    CheckMemory(0x715C, 0x12);
}

void test_12_03A9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC259);
    WriteRegisterWord(RegisterType::SP, 0x0775);
    WriteRegisterByte(RegisterType::A, 0x5F);
    WriteRegisterByte(RegisterType::B, 0xEA);
    WriteRegisterByte(RegisterType::C, 0x09);
    WriteRegisterByte(RegisterType::D, 0x9F);
    WriteRegisterByte(RegisterType::E, 0x85);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xC8);
    WriteRegisterByte(RegisterType::L, 0x89);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9F85, 0x00);
    WriteMemory(0xC259, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x5F);
    CheckRegisterByte(RegisterType::B, 0xEA);
    CheckRegisterByte(RegisterType::C, 0x09);
    CheckRegisterByte(RegisterType::D, 0x9F);
    CheckRegisterByte(RegisterType::E, 0x85);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xC8);
    CheckRegisterByte(RegisterType::L, 0x89);
    WriteRegisterWord(RegisterType::PC, 0xC259);
    WriteRegisterWord(RegisterType::SP, 0x0775);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9F85, 0x5F);
    CheckMemory(0xC259, 0x12);
}

void test_12_03AA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x10E2);
    WriteRegisterWord(RegisterType::SP, 0x8AD2);
    WriteRegisterByte(RegisterType::A, 0x27);
    WriteRegisterByte(RegisterType::B, 0x65);
    WriteRegisterByte(RegisterType::C, 0x42);
    WriteRegisterByte(RegisterType::D, 0x98);
    WriteRegisterByte(RegisterType::E, 0x91);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xF6);
    WriteRegisterByte(RegisterType::L, 0x8C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x10E2, 0x12);
    WriteMemory(0x9891, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x27);
    CheckRegisterByte(RegisterType::B, 0x65);
    CheckRegisterByte(RegisterType::C, 0x42);
    CheckRegisterByte(RegisterType::D, 0x98);
    CheckRegisterByte(RegisterType::E, 0x91);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xF6);
    CheckRegisterByte(RegisterType::L, 0x8C);
    WriteRegisterWord(RegisterType::PC, 0x10E2);
    WriteRegisterWord(RegisterType::SP, 0x8AD2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x10E2, 0x12);
    CheckMemory(0x9891, 0x27);
}

void test_12_03AB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF350);
    WriteRegisterWord(RegisterType::SP, 0xE06A);
    WriteRegisterByte(RegisterType::A, 0x87);
    WriteRegisterByte(RegisterType::B, 0x56);
    WriteRegisterByte(RegisterType::C, 0x61);
    WriteRegisterByte(RegisterType::D, 0x90);
    WriteRegisterByte(RegisterType::E, 0x5B);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xA2);
    WriteRegisterByte(RegisterType::L, 0x9B);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x905B, 0x00);
    WriteMemory(0xF350, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x87);
    CheckRegisterByte(RegisterType::B, 0x56);
    CheckRegisterByte(RegisterType::C, 0x61);
    CheckRegisterByte(RegisterType::D, 0x90);
    CheckRegisterByte(RegisterType::E, 0x5B);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xA2);
    CheckRegisterByte(RegisterType::L, 0x9B);
    WriteRegisterWord(RegisterType::PC, 0xF350);
    WriteRegisterWord(RegisterType::SP, 0xE06A);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x905B, 0x87);
    CheckMemory(0xF350, 0x12);
}

void test_12_03AC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x74FC);
    WriteRegisterWord(RegisterType::SP, 0x55B5);
    WriteRegisterByte(RegisterType::A, 0x7C);
    WriteRegisterByte(RegisterType::B, 0x6C);
    WriteRegisterByte(RegisterType::C, 0x3E);
    WriteRegisterByte(RegisterType::D, 0x33);
    WriteRegisterByte(RegisterType::E, 0x2A);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x6A);
    WriteRegisterByte(RegisterType::L, 0x29);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x332A, 0x00);
    WriteMemory(0x74FC, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7C);
    CheckRegisterByte(RegisterType::B, 0x6C);
    CheckRegisterByte(RegisterType::C, 0x3E);
    CheckRegisterByte(RegisterType::D, 0x33);
    CheckRegisterByte(RegisterType::E, 0x2A);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x6A);
    CheckRegisterByte(RegisterType::L, 0x29);
    WriteRegisterWord(RegisterType::PC, 0x74FC);
    WriteRegisterWord(RegisterType::SP, 0x55B5);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x332A, 0x7C);
    CheckMemory(0x74FC, 0x12);
}

void test_12_03AD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8B8D);
    WriteRegisterWord(RegisterType::SP, 0x0221);
    WriteRegisterByte(RegisterType::A, 0x64);
    WriteRegisterByte(RegisterType::B, 0x5F);
    WriteRegisterByte(RegisterType::C, 0x4A);
    WriteRegisterByte(RegisterType::D, 0x63);
    WriteRegisterByte(RegisterType::E, 0x23);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x14);
    WriteRegisterByte(RegisterType::L, 0x51);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6323, 0x00);
    WriteMemory(0x8B8D, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x64);
    CheckRegisterByte(RegisterType::B, 0x5F);
    CheckRegisterByte(RegisterType::C, 0x4A);
    CheckRegisterByte(RegisterType::D, 0x63);
    CheckRegisterByte(RegisterType::E, 0x23);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x14);
    CheckRegisterByte(RegisterType::L, 0x51);
    WriteRegisterWord(RegisterType::PC, 0x8B8D);
    WriteRegisterWord(RegisterType::SP, 0x0221);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6323, 0x64);
    CheckMemory(0x8B8D, 0x12);
}

void test_12_03AE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1EF9);
    WriteRegisterWord(RegisterType::SP, 0xE788);
    WriteRegisterByte(RegisterType::A, 0xA3);
    WriteRegisterByte(RegisterType::B, 0x4C);
    WriteRegisterByte(RegisterType::C, 0xBC);
    WriteRegisterByte(RegisterType::D, 0x60);
    WriteRegisterByte(RegisterType::E, 0x11);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x4C);
    WriteRegisterByte(RegisterType::L, 0x19);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1EF9, 0x12);
    WriteMemory(0x6011, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA3);
    CheckRegisterByte(RegisterType::B, 0x4C);
    CheckRegisterByte(RegisterType::C, 0xBC);
    CheckRegisterByte(RegisterType::D, 0x60);
    CheckRegisterByte(RegisterType::E, 0x11);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x4C);
    CheckRegisterByte(RegisterType::L, 0x19);
    WriteRegisterWord(RegisterType::PC, 0x1EF9);
    WriteRegisterWord(RegisterType::SP, 0xE788);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x1EF9, 0x12);
    CheckMemory(0x6011, 0xA3);
}

void test_12_03AF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF1A4);
    WriteRegisterWord(RegisterType::SP, 0x1B24);
    WriteRegisterByte(RegisterType::A, 0x71);
    WriteRegisterByte(RegisterType::B, 0x96);
    WriteRegisterByte(RegisterType::C, 0xF8);
    WriteRegisterByte(RegisterType::D, 0xAB);
    WriteRegisterByte(RegisterType::E, 0xA0);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x60);
    WriteRegisterByte(RegisterType::L, 0x21);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xABA0, 0x00);
    WriteMemory(0xF1A4, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x71);
    CheckRegisterByte(RegisterType::B, 0x96);
    CheckRegisterByte(RegisterType::C, 0xF8);
    CheckRegisterByte(RegisterType::D, 0xAB);
    CheckRegisterByte(RegisterType::E, 0xA0);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x60);
    CheckRegisterByte(RegisterType::L, 0x21);
    WriteRegisterWord(RegisterType::PC, 0xF1A4);
    WriteRegisterWord(RegisterType::SP, 0x1B24);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xABA0, 0x71);
    CheckMemory(0xF1A4, 0x12);
}

void test_12_03B0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5215);
    WriteRegisterWord(RegisterType::SP, 0x4C82);
    WriteRegisterByte(RegisterType::A, 0x46);
    WriteRegisterByte(RegisterType::B, 0xE2);
    WriteRegisterByte(RegisterType::C, 0x6E);
    WriteRegisterByte(RegisterType::D, 0x9A);
    WriteRegisterByte(RegisterType::E, 0xA8);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xC8);
    WriteRegisterByte(RegisterType::L, 0xDE);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5215, 0x12);
    WriteMemory(0x9AA8, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x46);
    CheckRegisterByte(RegisterType::B, 0xE2);
    CheckRegisterByte(RegisterType::C, 0x6E);
    CheckRegisterByte(RegisterType::D, 0x9A);
    CheckRegisterByte(RegisterType::E, 0xA8);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xC8);
    CheckRegisterByte(RegisterType::L, 0xDE);
    WriteRegisterWord(RegisterType::PC, 0x5215);
    WriteRegisterWord(RegisterType::SP, 0x4C82);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5215, 0x12);
    CheckMemory(0x9AA8, 0x46);
}

void test_12_03B1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9F2B);
    WriteRegisterWord(RegisterType::SP, 0xABFE);
    WriteRegisterByte(RegisterType::A, 0xE6);
    WriteRegisterByte(RegisterType::B, 0x62);
    WriteRegisterByte(RegisterType::C, 0x5B);
    WriteRegisterByte(RegisterType::D, 0xBF);
    WriteRegisterByte(RegisterType::E, 0x8B);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0xA9);
    WriteRegisterByte(RegisterType::L, 0xFE);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x9F2B, 0x12);
    WriteMemory(0xBF8B, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE6);
    CheckRegisterByte(RegisterType::B, 0x62);
    CheckRegisterByte(RegisterType::C, 0x5B);
    CheckRegisterByte(RegisterType::D, 0xBF);
    CheckRegisterByte(RegisterType::E, 0x8B);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0xA9);
    CheckRegisterByte(RegisterType::L, 0xFE);
    WriteRegisterWord(RegisterType::PC, 0x9F2B);
    WriteRegisterWord(RegisterType::SP, 0xABFE);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x9F2B, 0x12);
    CheckMemory(0xBF8B, 0xE6);
}

void test_12_03B2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1061);
    WriteRegisterWord(RegisterType::SP, 0x5FB3);
    WriteRegisterByte(RegisterType::A, 0x50);
    WriteRegisterByte(RegisterType::B, 0x8A);
    WriteRegisterByte(RegisterType::C, 0x03);
    WriteRegisterByte(RegisterType::D, 0x7D);
    WriteRegisterByte(RegisterType::E, 0x79);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x01);
    WriteRegisterByte(RegisterType::L, 0xB6);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1061, 0x12);
    WriteMemory(0x7D79, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x50);
    CheckRegisterByte(RegisterType::B, 0x8A);
    CheckRegisterByte(RegisterType::C, 0x03);
    CheckRegisterByte(RegisterType::D, 0x7D);
    CheckRegisterByte(RegisterType::E, 0x79);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x01);
    CheckRegisterByte(RegisterType::L, 0xB6);
    WriteRegisterWord(RegisterType::PC, 0x1061);
    WriteRegisterWord(RegisterType::SP, 0x5FB3);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1061, 0x12);
    CheckMemory(0x7D79, 0x50);
}

void test_12_03B3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD3B0);
    WriteRegisterWord(RegisterType::SP, 0x96B4);
    WriteRegisterByte(RegisterType::A, 0x86);
    WriteRegisterByte(RegisterType::B, 0x07);
    WriteRegisterByte(RegisterType::C, 0xE5);
    WriteRegisterByte(RegisterType::D, 0xCE);
    WriteRegisterByte(RegisterType::E, 0x4D);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x4E);
    WriteRegisterByte(RegisterType::L, 0xC7);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xCE4D, 0x00);
    WriteMemory(0xD3B0, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x86);
    CheckRegisterByte(RegisterType::B, 0x07);
    CheckRegisterByte(RegisterType::C, 0xE5);
    CheckRegisterByte(RegisterType::D, 0xCE);
    CheckRegisterByte(RegisterType::E, 0x4D);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x4E);
    CheckRegisterByte(RegisterType::L, 0xC7);
    WriteRegisterWord(RegisterType::PC, 0xD3B0);
    WriteRegisterWord(RegisterType::SP, 0x96B4);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xCE4D, 0x86);
    CheckMemory(0xD3B0, 0x12);
}

void test_12_03B4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5369);
    WriteRegisterWord(RegisterType::SP, 0x1599);
    WriteRegisterByte(RegisterType::A, 0xC3);
    WriteRegisterByte(RegisterType::B, 0xA2);
    WriteRegisterByte(RegisterType::C, 0x9C);
    WriteRegisterByte(RegisterType::D, 0xE9);
    WriteRegisterByte(RegisterType::E, 0x70);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xC6);
    WriteRegisterByte(RegisterType::L, 0x4D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x5369, 0x12);
    WriteMemory(0xE970, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC3);
    CheckRegisterByte(RegisterType::B, 0xA2);
    CheckRegisterByte(RegisterType::C, 0x9C);
    CheckRegisterByte(RegisterType::D, 0xE9);
    CheckRegisterByte(RegisterType::E, 0x70);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xC6);
    CheckRegisterByte(RegisterType::L, 0x4D);
    WriteRegisterWord(RegisterType::PC, 0x5369);
    WriteRegisterWord(RegisterType::SP, 0x1599);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5369, 0x12);
    CheckMemory(0xE970, 0xC3);
}

void test_12_03B5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA831);
    WriteRegisterWord(RegisterType::SP, 0x4491);
    WriteRegisterByte(RegisterType::A, 0x80);
    WriteRegisterByte(RegisterType::B, 0x40);
    WriteRegisterByte(RegisterType::C, 0xFE);
    WriteRegisterByte(RegisterType::D, 0x50);
    WriteRegisterByte(RegisterType::E, 0xB1);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x67);
    WriteRegisterByte(RegisterType::L, 0x79);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x50B1, 0x00);
    WriteMemory(0xA831, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x80);
    CheckRegisterByte(RegisterType::B, 0x40);
    CheckRegisterByte(RegisterType::C, 0xFE);
    CheckRegisterByte(RegisterType::D, 0x50);
    CheckRegisterByte(RegisterType::E, 0xB1);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x67);
    CheckRegisterByte(RegisterType::L, 0x79);
    WriteRegisterWord(RegisterType::PC, 0xA831);
    WriteRegisterWord(RegisterType::SP, 0x4491);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x50B1, 0x80);
    CheckMemory(0xA831, 0x12);
}

void test_12_03B6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xFDCF);
    WriteRegisterWord(RegisterType::SP, 0x58FD);
    WriteRegisterByte(RegisterType::A, 0xAC);
    WriteRegisterByte(RegisterType::B, 0xF9);
    WriteRegisterByte(RegisterType::C, 0x6B);
    WriteRegisterByte(RegisterType::D, 0xEE);
    WriteRegisterByte(RegisterType::E, 0xF3);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x82);
    WriteRegisterByte(RegisterType::L, 0x70);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xEEF3, 0x00);
    WriteMemory(0xFDCF, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xAC);
    CheckRegisterByte(RegisterType::B, 0xF9);
    CheckRegisterByte(RegisterType::C, 0x6B);
    CheckRegisterByte(RegisterType::D, 0xEE);
    CheckRegisterByte(RegisterType::E, 0xF3);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x82);
    CheckRegisterByte(RegisterType::L, 0x70);
    WriteRegisterWord(RegisterType::PC, 0xFDCF);
    WriteRegisterWord(RegisterType::SP, 0x58FD);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xEEF3, 0xAC);
    CheckMemory(0xFDCF, 0x12);
}

void test_12_03B7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xE388);
    WriteRegisterWord(RegisterType::SP, 0x50AE);
    WriteRegisterByte(RegisterType::A, 0xA4);
    WriteRegisterByte(RegisterType::B, 0x0B);
    WriteRegisterByte(RegisterType::C, 0x08);
    WriteRegisterByte(RegisterType::D, 0x21);
    WriteRegisterByte(RegisterType::E, 0xC3);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xE4);
    WriteRegisterByte(RegisterType::L, 0xF2);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x21C3, 0x00);
    WriteMemory(0xE388, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA4);
    CheckRegisterByte(RegisterType::B, 0x0B);
    CheckRegisterByte(RegisterType::C, 0x08);
    CheckRegisterByte(RegisterType::D, 0x21);
    CheckRegisterByte(RegisterType::E, 0xC3);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xE4);
    CheckRegisterByte(RegisterType::L, 0xF2);
    WriteRegisterWord(RegisterType::PC, 0xE388);
    WriteRegisterWord(RegisterType::SP, 0x50AE);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x21C3, 0xA4);
    CheckMemory(0xE388, 0x12);
}

void test_12_03B8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC4FF);
    WriteRegisterWord(RegisterType::SP, 0x7F59);
    WriteRegisterByte(RegisterType::A, 0x6D);
    WriteRegisterByte(RegisterType::B, 0x57);
    WriteRegisterByte(RegisterType::C, 0x78);
    WriteRegisterByte(RegisterType::D, 0xA9);
    WriteRegisterByte(RegisterType::E, 0x92);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xF2);
    WriteRegisterByte(RegisterType::L, 0x8D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xA992, 0x00);
    WriteMemory(0xC4FF, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x6D);
    CheckRegisterByte(RegisterType::B, 0x57);
    CheckRegisterByte(RegisterType::C, 0x78);
    CheckRegisterByte(RegisterType::D, 0xA9);
    CheckRegisterByte(RegisterType::E, 0x92);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xF2);
    CheckRegisterByte(RegisterType::L, 0x8D);
    WriteRegisterWord(RegisterType::PC, 0xC4FF);
    WriteRegisterWord(RegisterType::SP, 0x7F59);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xA992, 0x6D);
    CheckMemory(0xC4FF, 0x12);
}

void test_12_03B9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2AE7);
    WriteRegisterWord(RegisterType::SP, 0xA1C9);
    WriteRegisterByte(RegisterType::A, 0x54);
    WriteRegisterByte(RegisterType::B, 0x6F);
    WriteRegisterByte(RegisterType::C, 0x1B);
    WriteRegisterByte(RegisterType::D, 0x2C);
    WriteRegisterByte(RegisterType::E, 0xD1);
    WriteRegisterFlag(0xA0);
    WriteRegisterByte(RegisterType::H, 0x94);
    WriteRegisterByte(RegisterType::L, 0x3C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2AE7, 0x12);
    WriteMemory(0x2CD1, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x54);
    CheckRegisterByte(RegisterType::B, 0x6F);
    CheckRegisterByte(RegisterType::C, 0x1B);
    CheckRegisterByte(RegisterType::D, 0x2C);
    CheckRegisterByte(RegisterType::E, 0xD1);
    CheckRegisterFlag(0xA0);
    CheckRegisterByte(RegisterType::H, 0x94);
    CheckRegisterByte(RegisterType::L, 0x3C);
    WriteRegisterWord(RegisterType::PC, 0x2AE7);
    WriteRegisterWord(RegisterType::SP, 0xA1C9);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2AE7, 0x12);
    CheckMemory(0x2CD1, 0x54);
}

void test_12_03BA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x56BB);
    WriteRegisterWord(RegisterType::SP, 0x8125);
    WriteRegisterByte(RegisterType::A, 0x7F);
    WriteRegisterByte(RegisterType::B, 0x3B);
    WriteRegisterByte(RegisterType::C, 0x42);
    WriteRegisterByte(RegisterType::D, 0x40);
    WriteRegisterByte(RegisterType::E, 0xF6);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x66);
    WriteRegisterByte(RegisterType::L, 0xA7);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x40F6, 0x00);
    WriteMemory(0x56BB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x7F);
    CheckRegisterByte(RegisterType::B, 0x3B);
    CheckRegisterByte(RegisterType::C, 0x42);
    CheckRegisterByte(RegisterType::D, 0x40);
    CheckRegisterByte(RegisterType::E, 0xF6);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x66);
    CheckRegisterByte(RegisterType::L, 0xA7);
    WriteRegisterWord(RegisterType::PC, 0x56BB);
    WriteRegisterWord(RegisterType::SP, 0x8125);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x40F6, 0x7F);
    CheckMemory(0x56BB, 0x12);
}

void test_12_03BB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x00B7);
    WriteRegisterWord(RegisterType::SP, 0x2BC5);
    WriteRegisterByte(RegisterType::A, 0x8B);
    WriteRegisterByte(RegisterType::B, 0x26);
    WriteRegisterByte(RegisterType::C, 0xC6);
    WriteRegisterByte(RegisterType::D, 0xE9);
    WriteRegisterByte(RegisterType::E, 0x39);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xDB);
    WriteRegisterByte(RegisterType::L, 0x75);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x00B7, 0x12);
    WriteMemory(0xE939, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x8B);
    CheckRegisterByte(RegisterType::B, 0x26);
    CheckRegisterByte(RegisterType::C, 0xC6);
    CheckRegisterByte(RegisterType::D, 0xE9);
    CheckRegisterByte(RegisterType::E, 0x39);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xDB);
    CheckRegisterByte(RegisterType::L, 0x75);
    WriteRegisterWord(RegisterType::PC, 0x00B7);
    WriteRegisterWord(RegisterType::SP, 0x2BC5);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x00B7, 0x12);
    CheckMemory(0xE939, 0x8B);
}

void test_12_03BC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA4A4);
    WriteRegisterWord(RegisterType::SP, 0x4C09);
    WriteRegisterByte(RegisterType::A, 0x18);
    WriteRegisterByte(RegisterType::B, 0x97);
    WriteRegisterByte(RegisterType::C, 0xD4);
    WriteRegisterByte(RegisterType::D, 0xA2);
    WriteRegisterByte(RegisterType::E, 0x73);
    WriteRegisterFlag(0x60);
    WriteRegisterByte(RegisterType::H, 0x00);
    WriteRegisterByte(RegisterType::L, 0x10);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xA273, 0x00);
    WriteMemory(0xA4A4, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x18);
    CheckRegisterByte(RegisterType::B, 0x97);
    CheckRegisterByte(RegisterType::C, 0xD4);
    CheckRegisterByte(RegisterType::D, 0xA2);
    CheckRegisterByte(RegisterType::E, 0x73);
    CheckRegisterFlag(0x60);
    CheckRegisterByte(RegisterType::H, 0x00);
    CheckRegisterByte(RegisterType::L, 0x10);
    WriteRegisterWord(RegisterType::PC, 0xA4A4);
    WriteRegisterWord(RegisterType::SP, 0x4C09);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xA273, 0x18);
    CheckMemory(0xA4A4, 0x12);
}

void test_12_03BD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCF80);
    WriteRegisterWord(RegisterType::SP, 0x5C55);
    WriteRegisterByte(RegisterType::A, 0x21);
    WriteRegisterByte(RegisterType::B, 0xB7);
    WriteRegisterByte(RegisterType::C, 0x59);
    WriteRegisterByte(RegisterType::D, 0x6B);
    WriteRegisterByte(RegisterType::E, 0x14);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0xD4);
    WriteRegisterByte(RegisterType::L, 0x57);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6B14, 0x00);
    WriteMemory(0xCF80, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x21);
    CheckRegisterByte(RegisterType::B, 0xB7);
    CheckRegisterByte(RegisterType::C, 0x59);
    CheckRegisterByte(RegisterType::D, 0x6B);
    CheckRegisterByte(RegisterType::E, 0x14);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0xD4);
    CheckRegisterByte(RegisterType::L, 0x57);
    WriteRegisterWord(RegisterType::PC, 0xCF80);
    WriteRegisterWord(RegisterType::SP, 0x5C55);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6B14, 0x21);
    CheckMemory(0xCF80, 0x12);
}

void test_12_03BE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA001);
    WriteRegisterWord(RegisterType::SP, 0x698E);
    WriteRegisterByte(RegisterType::A, 0x06);
    WriteRegisterByte(RegisterType::B, 0xDE);
    WriteRegisterByte(RegisterType::C, 0x1F);
    WriteRegisterByte(RegisterType::D, 0x45);
    WriteRegisterByte(RegisterType::E, 0x3D);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0xE9);
    WriteRegisterByte(RegisterType::L, 0x4E);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x453D, 0x00);
    WriteMemory(0xA001, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x06);
    CheckRegisterByte(RegisterType::B, 0xDE);
    CheckRegisterByte(RegisterType::C, 0x1F);
    CheckRegisterByte(RegisterType::D, 0x45);
    CheckRegisterByte(RegisterType::E, 0x3D);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0xE9);
    CheckRegisterByte(RegisterType::L, 0x4E);
    WriteRegisterWord(RegisterType::PC, 0xA001);
    WriteRegisterWord(RegisterType::SP, 0x698E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x453D, 0x06);
    CheckMemory(0xA001, 0x12);
}

void test_12_03BF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC272);
    WriteRegisterWord(RegisterType::SP, 0x8DF4);
    WriteRegisterByte(RegisterType::A, 0x52);
    WriteRegisterByte(RegisterType::B, 0x82);
    WriteRegisterByte(RegisterType::C, 0xDF);
    WriteRegisterByte(RegisterType::D, 0xD3);
    WriteRegisterByte(RegisterType::E, 0xFD);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x5A);
    WriteRegisterByte(RegisterType::L, 0x97);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xC272, 0x12);
    WriteMemory(0xD3FD, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x52);
    CheckRegisterByte(RegisterType::B, 0x82);
    CheckRegisterByte(RegisterType::C, 0xDF);
    CheckRegisterByte(RegisterType::D, 0xD3);
    CheckRegisterByte(RegisterType::E, 0xFD);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x5A);
    CheckRegisterByte(RegisterType::L, 0x97);
    WriteRegisterWord(RegisterType::PC, 0xC272);
    WriteRegisterWord(RegisterType::SP, 0x8DF4);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xC272, 0x12);
    CheckMemory(0xD3FD, 0x52);
}

void test_12_03C0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xC0C1);
    WriteRegisterWord(RegisterType::SP, 0x9D34);
    WriteRegisterByte(RegisterType::A, 0x9E);
    WriteRegisterByte(RegisterType::B, 0x82);
    WriteRegisterByte(RegisterType::C, 0x61);
    WriteRegisterByte(RegisterType::D, 0xC0);
    WriteRegisterByte(RegisterType::E, 0x18);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x19);
    WriteRegisterByte(RegisterType::L, 0x48);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xC018, 0x00);
    WriteMemory(0xC0C1, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9E);
    CheckRegisterByte(RegisterType::B, 0x82);
    CheckRegisterByte(RegisterType::C, 0x61);
    CheckRegisterByte(RegisterType::D, 0xC0);
    CheckRegisterByte(RegisterType::E, 0x18);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x19);
    CheckRegisterByte(RegisterType::L, 0x48);
    WriteRegisterWord(RegisterType::PC, 0xC0C1);
    WriteRegisterWord(RegisterType::SP, 0x9D34);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0xC018, 0x9E);
    CheckMemory(0xC0C1, 0x12);
}

void test_12_03C1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x14ED);
    WriteRegisterWord(RegisterType::SP, 0x6277);
    WriteRegisterByte(RegisterType::A, 0xCC);
    WriteRegisterByte(RegisterType::B, 0x51);
    WriteRegisterByte(RegisterType::C, 0xAD);
    WriteRegisterByte(RegisterType::D, 0x87);
    WriteRegisterByte(RegisterType::E, 0x5E);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xF1);
    WriteRegisterByte(RegisterType::L, 0x8E);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x14ED, 0x12);
    WriteMemory(0x875E, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCC);
    CheckRegisterByte(RegisterType::B, 0x51);
    CheckRegisterByte(RegisterType::C, 0xAD);
    CheckRegisterByte(RegisterType::D, 0x87);
    CheckRegisterByte(RegisterType::E, 0x5E);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xF1);
    CheckRegisterByte(RegisterType::L, 0x8E);
    WriteRegisterWord(RegisterType::PC, 0x14ED);
    WriteRegisterWord(RegisterType::SP, 0x6277);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x14ED, 0x12);
    CheckMemory(0x875E, 0xCC);
}

void test_12_03C2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB692);
    WriteRegisterWord(RegisterType::SP, 0x5632);
    WriteRegisterByte(RegisterType::A, 0xC3);
    WriteRegisterByte(RegisterType::B, 0x75);
    WriteRegisterByte(RegisterType::C, 0xBF);
    WriteRegisterByte(RegisterType::D, 0x22);
    WriteRegisterByte(RegisterType::E, 0x97);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xDA);
    WriteRegisterByte(RegisterType::L, 0xC9);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2297, 0x00);
    WriteMemory(0xB692, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC3);
    CheckRegisterByte(RegisterType::B, 0x75);
    CheckRegisterByte(RegisterType::C, 0xBF);
    CheckRegisterByte(RegisterType::D, 0x22);
    CheckRegisterByte(RegisterType::E, 0x97);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xDA);
    CheckRegisterByte(RegisterType::L, 0xC9);
    WriteRegisterWord(RegisterType::PC, 0xB692);
    WriteRegisterWord(RegisterType::SP, 0x5632);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2297, 0xC3);
    CheckMemory(0xB692, 0x12);
}

void test_12_03C3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA54F);
    WriteRegisterWord(RegisterType::SP, 0x22FE);
    WriteRegisterByte(RegisterType::A, 0xD1);
    WriteRegisterByte(RegisterType::B, 0x83);
    WriteRegisterByte(RegisterType::C, 0x75);
    WriteRegisterByte(RegisterType::D, 0x4C);
    WriteRegisterByte(RegisterType::E, 0x8D);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0xEF);
    WriteRegisterByte(RegisterType::L, 0xE6);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4C8D, 0x00);
    WriteMemory(0xA54F, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD1);
    CheckRegisterByte(RegisterType::B, 0x83);
    CheckRegisterByte(RegisterType::C, 0x75);
    CheckRegisterByte(RegisterType::D, 0x4C);
    CheckRegisterByte(RegisterType::E, 0x8D);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0xEF);
    CheckRegisterByte(RegisterType::L, 0xE6);
    WriteRegisterWord(RegisterType::PC, 0xA54F);
    WriteRegisterWord(RegisterType::SP, 0x22FE);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4C8D, 0xD1);
    CheckMemory(0xA54F, 0x12);
}

void test_12_03C4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3368);
    WriteRegisterWord(RegisterType::SP, 0xC932);
    WriteRegisterByte(RegisterType::A, 0x94);
    WriteRegisterByte(RegisterType::B, 0xB2);
    WriteRegisterByte(RegisterType::C, 0xB4);
    WriteRegisterByte(RegisterType::D, 0xAF);
    WriteRegisterByte(RegisterType::E, 0x29);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x1A);
    WriteRegisterByte(RegisterType::L, 0xAD);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3368, 0x12);
    WriteMemory(0xAF29, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x94);
    CheckRegisterByte(RegisterType::B, 0xB2);
    CheckRegisterByte(RegisterType::C, 0xB4);
    CheckRegisterByte(RegisterType::D, 0xAF);
    CheckRegisterByte(RegisterType::E, 0x29);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x1A);
    CheckRegisterByte(RegisterType::L, 0xAD);
    WriteRegisterWord(RegisterType::PC, 0x3368);
    WriteRegisterWord(RegisterType::SP, 0xC932);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3368, 0x12);
    CheckMemory(0xAF29, 0x94);
}

void test_12_03C5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD3C1);
    WriteRegisterWord(RegisterType::SP, 0x244B);
    WriteRegisterByte(RegisterType::A, 0x96);
    WriteRegisterByte(RegisterType::B, 0xC5);
    WriteRegisterByte(RegisterType::C, 0x38);
    WriteRegisterByte(RegisterType::D, 0x0B);
    WriteRegisterByte(RegisterType::E, 0xFD);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0xBB);
    WriteRegisterByte(RegisterType::L, 0xE0);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0BFD, 0x00);
    WriteMemory(0xD3C1, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x96);
    CheckRegisterByte(RegisterType::B, 0xC5);
    CheckRegisterByte(RegisterType::C, 0x38);
    CheckRegisterByte(RegisterType::D, 0x0B);
    CheckRegisterByte(RegisterType::E, 0xFD);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0xBB);
    CheckRegisterByte(RegisterType::L, 0xE0);
    WriteRegisterWord(RegisterType::PC, 0xD3C1);
    WriteRegisterWord(RegisterType::SP, 0x244B);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x0BFD, 0x96);
    CheckMemory(0xD3C1, 0x12);
}

void test_12_03C6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x86E3);
    WriteRegisterWord(RegisterType::SP, 0x708D);
    WriteRegisterByte(RegisterType::A, 0x55);
    WriteRegisterByte(RegisterType::B, 0x0E);
    WriteRegisterByte(RegisterType::C, 0x31);
    WriteRegisterByte(RegisterType::D, 0x34);
    WriteRegisterByte(RegisterType::E, 0x21);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x56);
    WriteRegisterByte(RegisterType::L, 0x04);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x3421, 0x00);
    WriteMemory(0x86E3, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x55);
    CheckRegisterByte(RegisterType::B, 0x0E);
    CheckRegisterByte(RegisterType::C, 0x31);
    CheckRegisterByte(RegisterType::D, 0x34);
    CheckRegisterByte(RegisterType::E, 0x21);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x56);
    CheckRegisterByte(RegisterType::L, 0x04);
    WriteRegisterWord(RegisterType::PC, 0x86E3);
    WriteRegisterWord(RegisterType::SP, 0x708D);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3421, 0x55);
    CheckMemory(0x86E3, 0x12);
}

void test_12_03C7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA7CC);
    WriteRegisterWord(RegisterType::SP, 0x6E14);
    WriteRegisterByte(RegisterType::A, 0x89);
    WriteRegisterByte(RegisterType::B, 0x28);
    WriteRegisterByte(RegisterType::C, 0xC5);
    WriteRegisterByte(RegisterType::D, 0xFD);
    WriteRegisterByte(RegisterType::E, 0x31);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x2A);
    WriteRegisterByte(RegisterType::L, 0xD6);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0xA7CC, 0x12);
    WriteMemory(0xFD31, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x89);
    CheckRegisterByte(RegisterType::B, 0x28);
    CheckRegisterByte(RegisterType::C, 0xC5);
    CheckRegisterByte(RegisterType::D, 0xFD);
    CheckRegisterByte(RegisterType::E, 0x31);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x2A);
    CheckRegisterByte(RegisterType::L, 0xD6);
    WriteRegisterWord(RegisterType::PC, 0xA7CC);
    WriteRegisterWord(RegisterType::SP, 0x6E14);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xA7CC, 0x12);
    CheckMemory(0xFD31, 0x89);
}

void test_12_03C8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x0BCA);
    WriteRegisterWord(RegisterType::SP, 0x0921);
    WriteRegisterByte(RegisterType::A, 0xE8);
    WriteRegisterByte(RegisterType::B, 0xA9);
    WriteRegisterByte(RegisterType::C, 0x71);
    WriteRegisterByte(RegisterType::D, 0x79);
    WriteRegisterByte(RegisterType::E, 0xD4);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0xD2);
    WriteRegisterByte(RegisterType::L, 0xFE);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x0BCA, 0x12);
    WriteMemory(0x79D4, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE8);
    CheckRegisterByte(RegisterType::B, 0xA9);
    CheckRegisterByte(RegisterType::C, 0x71);
    CheckRegisterByte(RegisterType::D, 0x79);
    CheckRegisterByte(RegisterType::E, 0xD4);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0xD2);
    CheckRegisterByte(RegisterType::L, 0xFE);
    WriteRegisterWord(RegisterType::PC, 0x0BCA);
    WriteRegisterWord(RegisterType::SP, 0x0921);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x0BCA, 0x12);
    CheckMemory(0x79D4, 0xE8);
}

void test_12_03C9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x2696);
    WriteRegisterWord(RegisterType::SP, 0x9B3E);
    WriteRegisterByte(RegisterType::A, 0x91);
    WriteRegisterByte(RegisterType::B, 0x35);
    WriteRegisterByte(RegisterType::C, 0x4D);
    WriteRegisterByte(RegisterType::D, 0xE4);
    WriteRegisterByte(RegisterType::E, 0xC0);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x2B);
    WriteRegisterByte(RegisterType::L, 0x04);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2696, 0x12);
    WriteMemory(0xE4C0, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x91);
    CheckRegisterByte(RegisterType::B, 0x35);
    CheckRegisterByte(RegisterType::C, 0x4D);
    CheckRegisterByte(RegisterType::D, 0xE4);
    CheckRegisterByte(RegisterType::E, 0xC0);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x2B);
    CheckRegisterByte(RegisterType::L, 0x04);
    WriteRegisterWord(RegisterType::PC, 0x2696);
    WriteRegisterWord(RegisterType::SP, 0x9B3E);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2696, 0x12);
    CheckMemory(0xE4C0, 0x91);
}

void test_12_03CA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD1BA);
    WriteRegisterWord(RegisterType::SP, 0xC16A);
    WriteRegisterByte(RegisterType::A, 0x4E);
    WriteRegisterByte(RegisterType::B, 0xB7);
    WriteRegisterByte(RegisterType::C, 0xD8);
    WriteRegisterByte(RegisterType::D, 0x10);
    WriteRegisterByte(RegisterType::E, 0xD3);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x0A);
    WriteRegisterByte(RegisterType::L, 0x22);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x10D3, 0x00);
    WriteMemory(0xD1BA, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4E);
    CheckRegisterByte(RegisterType::B, 0xB7);
    CheckRegisterByte(RegisterType::C, 0xD8);
    CheckRegisterByte(RegisterType::D, 0x10);
    CheckRegisterByte(RegisterType::E, 0xD3);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x0A);
    CheckRegisterByte(RegisterType::L, 0x22);
    WriteRegisterWord(RegisterType::PC, 0xD1BA);
    WriteRegisterWord(RegisterType::SP, 0xC16A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x10D3, 0x4E);
    CheckMemory(0xD1BA, 0x12);
}

void test_12_03CB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCABF);
    WriteRegisterWord(RegisterType::SP, 0xC495);
    WriteRegisterByte(RegisterType::A, 0xB3);
    WriteRegisterByte(RegisterType::B, 0x13);
    WriteRegisterByte(RegisterType::C, 0x60);
    WriteRegisterByte(RegisterType::D, 0x52);
    WriteRegisterByte(RegisterType::E, 0xA1);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x34);
    WriteRegisterByte(RegisterType::L, 0x26);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x52A1, 0x00);
    WriteMemory(0xCABF, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xB3);
    CheckRegisterByte(RegisterType::B, 0x13);
    CheckRegisterByte(RegisterType::C, 0x60);
    CheckRegisterByte(RegisterType::D, 0x52);
    CheckRegisterByte(RegisterType::E, 0xA1);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x34);
    CheckRegisterByte(RegisterType::L, 0x26);
    WriteRegisterWord(RegisterType::PC, 0xCABF);
    WriteRegisterWord(RegisterType::SP, 0xC495);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x52A1, 0xB3);
    CheckMemory(0xCABF, 0x12);
}

void test_12_03CC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB705);
    WriteRegisterWord(RegisterType::SP, 0x6B35);
    WriteRegisterByte(RegisterType::A, 0x2B);
    WriteRegisterByte(RegisterType::B, 0x58);
    WriteRegisterByte(RegisterType::C, 0x17);
    WriteRegisterByte(RegisterType::D, 0x39);
    WriteRegisterByte(RegisterType::E, 0xC0);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0x53);
    WriteRegisterByte(RegisterType::L, 0x20);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x39C0, 0x00);
    WriteMemory(0xB705, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x2B);
    CheckRegisterByte(RegisterType::B, 0x58);
    CheckRegisterByte(RegisterType::C, 0x17);
    CheckRegisterByte(RegisterType::D, 0x39);
    CheckRegisterByte(RegisterType::E, 0xC0);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0x53);
    CheckRegisterByte(RegisterType::L, 0x20);
    WriteRegisterWord(RegisterType::PC, 0xB705);
    WriteRegisterWord(RegisterType::SP, 0x6B35);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x39C0, 0x2B);
    CheckMemory(0xB705, 0x12);
}

void test_12_03CD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5565);
    WriteRegisterWord(RegisterType::SP, 0xBA44);
    WriteRegisterByte(RegisterType::A, 0xDB);
    WriteRegisterByte(RegisterType::B, 0xF1);
    WriteRegisterByte(RegisterType::C, 0x01);
    WriteRegisterByte(RegisterType::D, 0x17);
    WriteRegisterByte(RegisterType::E, 0xB4);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0x58);
    WriteRegisterByte(RegisterType::L, 0x3D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x17B4, 0x00);
    WriteMemory(0x5565, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDB);
    CheckRegisterByte(RegisterType::B, 0xF1);
    CheckRegisterByte(RegisterType::C, 0x01);
    CheckRegisterByte(RegisterType::D, 0x17);
    CheckRegisterByte(RegisterType::E, 0xB4);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0x58);
    CheckRegisterByte(RegisterType::L, 0x3D);
    WriteRegisterWord(RegisterType::PC, 0x5565);
    WriteRegisterWord(RegisterType::SP, 0xBA44);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x17B4, 0xDB);
    CheckMemory(0x5565, 0x12);
}

void test_12_03CE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA977);
    WriteRegisterWord(RegisterType::SP, 0xDCB5);
    WriteRegisterByte(RegisterType::A, 0x59);
    WriteRegisterByte(RegisterType::B, 0x9D);
    WriteRegisterByte(RegisterType::C, 0x87);
    WriteRegisterByte(RegisterType::D, 0x1A);
    WriteRegisterByte(RegisterType::E, 0x65);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x42);
    WriteRegisterByte(RegisterType::L, 0x00);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x1A65, 0x00);
    WriteMemory(0xA977, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x59);
    CheckRegisterByte(RegisterType::B, 0x9D);
    CheckRegisterByte(RegisterType::C, 0x87);
    CheckRegisterByte(RegisterType::D, 0x1A);
    CheckRegisterByte(RegisterType::E, 0x65);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x42);
    CheckRegisterByte(RegisterType::L, 0x00);
    WriteRegisterWord(RegisterType::PC, 0xA977);
    WriteRegisterWord(RegisterType::SP, 0xDCB5);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1A65, 0x59);
    CheckMemory(0xA977, 0x12);
}

void test_12_03CF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xDAAF);
    WriteRegisterWord(RegisterType::SP, 0xD82C);
    WriteRegisterByte(RegisterType::A, 0x30);
    WriteRegisterByte(RegisterType::B, 0x6B);
    WriteRegisterByte(RegisterType::C, 0xE7);
    WriteRegisterByte(RegisterType::D, 0x32);
    WriteRegisterByte(RegisterType::E, 0xAF);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0xA8);
    WriteRegisterByte(RegisterType::L, 0x78);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x32AF, 0x00);
    WriteMemory(0xDAAF, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x30);
    CheckRegisterByte(RegisterType::B, 0x6B);
    CheckRegisterByte(RegisterType::C, 0xE7);
    CheckRegisterByte(RegisterType::D, 0x32);
    CheckRegisterByte(RegisterType::E, 0xAF);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0xA8);
    CheckRegisterByte(RegisterType::L, 0x78);
    WriteRegisterWord(RegisterType::PC, 0xDAAF);
    WriteRegisterWord(RegisterType::SP, 0xD82C);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x32AF, 0x30);
    CheckMemory(0xDAAF, 0x12);
}

void test_12_03D0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xF244);
    WriteRegisterWord(RegisterType::SP, 0x7CA1);
    WriteRegisterByte(RegisterType::A, 0xC8);
    WriteRegisterByte(RegisterType::B, 0x93);
    WriteRegisterByte(RegisterType::C, 0xE0);
    WriteRegisterByte(RegisterType::D, 0xD1);
    WriteRegisterByte(RegisterType::E, 0x0C);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xBA);
    WriteRegisterByte(RegisterType::L, 0x0D);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0xD10C, 0x00);
    WriteMemory(0xF244, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xC8);
    CheckRegisterByte(RegisterType::B, 0x93);
    CheckRegisterByte(RegisterType::C, 0xE0);
    CheckRegisterByte(RegisterType::D, 0xD1);
    CheckRegisterByte(RegisterType::E, 0x0C);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xBA);
    CheckRegisterByte(RegisterType::L, 0x0D);
    WriteRegisterWord(RegisterType::PC, 0xF244);
    WriteRegisterWord(RegisterType::SP, 0x7CA1);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0xD10C, 0xC8);
    CheckMemory(0xF244, 0x12);
}

void test_12_03D1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x1753);
    WriteRegisterWord(RegisterType::SP, 0x5815);
    WriteRegisterByte(RegisterType::A, 0x92);
    WriteRegisterByte(RegisterType::B, 0x7B);
    WriteRegisterByte(RegisterType::C, 0xD2);
    WriteRegisterByte(RegisterType::D, 0xCB);
    WriteRegisterByte(RegisterType::E, 0xBA);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0x4E);
    WriteRegisterByte(RegisterType::L, 0x0D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1753, 0x12);
    WriteMemory(0xCBBA, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x92);
    CheckRegisterByte(RegisterType::B, 0x7B);
    CheckRegisterByte(RegisterType::C, 0xD2);
    CheckRegisterByte(RegisterType::D, 0xCB);
    CheckRegisterByte(RegisterType::E, 0xBA);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0x4E);
    CheckRegisterByte(RegisterType::L, 0x0D);
    WriteRegisterWord(RegisterType::PC, 0x1753);
    WriteRegisterWord(RegisterType::SP, 0x5815);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1753, 0x12);
    CheckMemory(0xCBBA, 0x92);
}

void test_12_03D2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x062F);
    WriteRegisterWord(RegisterType::SP, 0xFC36);
    WriteRegisterByte(RegisterType::A, 0xBB);
    WriteRegisterByte(RegisterType::B, 0xC4);
    WriteRegisterByte(RegisterType::C, 0x6A);
    WriteRegisterByte(RegisterType::D, 0x3B);
    WriteRegisterByte(RegisterType::E, 0x66);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x59);
    WriteRegisterByte(RegisterType::L, 0x3C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x062F, 0x12);
    WriteMemory(0x3B66, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xBB);
    CheckRegisterByte(RegisterType::B, 0xC4);
    CheckRegisterByte(RegisterType::C, 0x6A);
    CheckRegisterByte(RegisterType::D, 0x3B);
    CheckRegisterByte(RegisterType::E, 0x66);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x59);
    CheckRegisterByte(RegisterType::L, 0x3C);
    WriteRegisterWord(RegisterType::PC, 0x062F);
    WriteRegisterWord(RegisterType::SP, 0xFC36);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x062F, 0x12);
    CheckMemory(0x3B66, 0xBB);
}

void test_12_03D3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9590);
    WriteRegisterWord(RegisterType::SP, 0xBC68);
    WriteRegisterByte(RegisterType::A, 0xCD);
    WriteRegisterByte(RegisterType::B, 0x76);
    WriteRegisterByte(RegisterType::C, 0xE1);
    WriteRegisterByte(RegisterType::D, 0x9E);
    WriteRegisterByte(RegisterType::E, 0xC1);
    WriteRegisterFlag(0xE0);
    WriteRegisterByte(RegisterType::H, 0xA6);
    WriteRegisterByte(RegisterType::L, 0xA7);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x9590, 0x12);
    WriteMemory(0x9EC1, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xCD);
    CheckRegisterByte(RegisterType::B, 0x76);
    CheckRegisterByte(RegisterType::C, 0xE1);
    CheckRegisterByte(RegisterType::D, 0x9E);
    CheckRegisterByte(RegisterType::E, 0xC1);
    CheckRegisterFlag(0xE0);
    CheckRegisterByte(RegisterType::H, 0xA6);
    CheckRegisterByte(RegisterType::L, 0xA7);
    WriteRegisterWord(RegisterType::PC, 0x9590);
    WriteRegisterWord(RegisterType::SP, 0xBC68);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x9590, 0x12);
    CheckMemory(0x9EC1, 0xCD);
}

void test_12_03D4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xB2C5);
    WriteRegisterWord(RegisterType::SP, 0x02B2);
    WriteRegisterByte(RegisterType::A, 0x27);
    WriteRegisterByte(RegisterType::B, 0x40);
    WriteRegisterByte(RegisterType::C, 0xFF);
    WriteRegisterByte(RegisterType::D, 0x7A);
    WriteRegisterByte(RegisterType::E, 0x92);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0xF6);
    WriteRegisterByte(RegisterType::L, 0x46);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x7A92, 0x00);
    WriteMemory(0xB2C5, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x27);
    CheckRegisterByte(RegisterType::B, 0x40);
    CheckRegisterByte(RegisterType::C, 0xFF);
    CheckRegisterByte(RegisterType::D, 0x7A);
    CheckRegisterByte(RegisterType::E, 0x92);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0xF6);
    CheckRegisterByte(RegisterType::L, 0x46);
    WriteRegisterWord(RegisterType::PC, 0xB2C5);
    WriteRegisterWord(RegisterType::SP, 0x02B2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x7A92, 0x27);
    CheckMemory(0xB2C5, 0x12);
}

void test_12_03D5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4CE6);
    WriteRegisterWord(RegisterType::SP, 0xB13E);
    WriteRegisterByte(RegisterType::A, 0x4B);
    WriteRegisterByte(RegisterType::B, 0x06);
    WriteRegisterByte(RegisterType::C, 0x70);
    WriteRegisterByte(RegisterType::D, 0xCA);
    WriteRegisterByte(RegisterType::E, 0x53);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x19);
    WriteRegisterByte(RegisterType::L, 0xB8);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4CE6, 0x12);
    WriteMemory(0xCA53, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4B);
    CheckRegisterByte(RegisterType::B, 0x06);
    CheckRegisterByte(RegisterType::C, 0x70);
    CheckRegisterByte(RegisterType::D, 0xCA);
    CheckRegisterByte(RegisterType::E, 0x53);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x19);
    CheckRegisterByte(RegisterType::L, 0xB8);
    WriteRegisterWord(RegisterType::PC, 0x4CE6);
    WriteRegisterWord(RegisterType::SP, 0xB13E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4CE6, 0x12);
    CheckMemory(0xCA53, 0x4B);
}

void test_12_03D6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xAF63);
    WriteRegisterWord(RegisterType::SP, 0x245E);
    WriteRegisterByte(RegisterType::A, 0xDF);
    WriteRegisterByte(RegisterType::B, 0x8E);
    WriteRegisterByte(RegisterType::C, 0x58);
    WriteRegisterByte(RegisterType::D, 0x2C);
    WriteRegisterByte(RegisterType::E, 0x5F);
    WriteRegisterFlag(0x20);
    WriteRegisterByte(RegisterType::H, 0x7C);
    WriteRegisterByte(RegisterType::L, 0xBF);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2C5F, 0x00);
    WriteMemory(0xAF63, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDF);
    CheckRegisterByte(RegisterType::B, 0x8E);
    CheckRegisterByte(RegisterType::C, 0x58);
    CheckRegisterByte(RegisterType::D, 0x2C);
    CheckRegisterByte(RegisterType::E, 0x5F);
    CheckRegisterFlag(0x20);
    CheckRegisterByte(RegisterType::H, 0x7C);
    CheckRegisterByte(RegisterType::L, 0xBF);
    WriteRegisterWord(RegisterType::PC, 0xAF63);
    WriteRegisterWord(RegisterType::SP, 0x245E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x2C5F, 0xDF);
    CheckMemory(0xAF63, 0x12);
}

void test_12_03D7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x47B4);
    WriteRegisterWord(RegisterType::SP, 0xDDA2);
    WriteRegisterByte(RegisterType::A, 0x73);
    WriteRegisterByte(RegisterType::B, 0x66);
    WriteRegisterByte(RegisterType::C, 0x4D);
    WriteRegisterByte(RegisterType::D, 0xE9);
    WriteRegisterByte(RegisterType::E, 0xEC);
    WriteRegisterFlag(0x40);
    WriteRegisterByte(RegisterType::H, 0x83);
    WriteRegisterByte(RegisterType::L, 0x43);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x47B4, 0x12);
    WriteMemory(0xE9EC, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x73);
    CheckRegisterByte(RegisterType::B, 0x66);
    CheckRegisterByte(RegisterType::C, 0x4D);
    CheckRegisterByte(RegisterType::D, 0xE9);
    CheckRegisterByte(RegisterType::E, 0xEC);
    CheckRegisterFlag(0x40);
    CheckRegisterByte(RegisterType::H, 0x83);
    CheckRegisterByte(RegisterType::L, 0x43);
    WriteRegisterWord(RegisterType::PC, 0x47B4);
    WriteRegisterWord(RegisterType::SP, 0xDDA2);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x47B4, 0x12);
    CheckMemory(0xE9EC, 0x73);
}

void test_12_03D8()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x31A9);
    WriteRegisterWord(RegisterType::SP, 0x0545);
    WriteRegisterByte(RegisterType::A, 0xDA);
    WriteRegisterByte(RegisterType::B, 0x34);
    WriteRegisterByte(RegisterType::C, 0x47);
    WriteRegisterByte(RegisterType::D, 0x6C);
    WriteRegisterByte(RegisterType::E, 0xB3);
    WriteRegisterFlag(0x10);
    WriteRegisterByte(RegisterType::H, 0x49);
    WriteRegisterByte(RegisterType::L, 0x95);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x31A9, 0x12);
    WriteMemory(0x6CB3, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xDA);
    CheckRegisterByte(RegisterType::B, 0x34);
    CheckRegisterByte(RegisterType::C, 0x47);
    CheckRegisterByte(RegisterType::D, 0x6C);
    CheckRegisterByte(RegisterType::E, 0xB3);
    CheckRegisterFlag(0x10);
    CheckRegisterByte(RegisterType::H, 0x49);
    CheckRegisterByte(RegisterType::L, 0x95);
    WriteRegisterWord(RegisterType::PC, 0x31A9);
    WriteRegisterWord(RegisterType::SP, 0x0545);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x31A9, 0x12);
    CheckMemory(0x6CB3, 0xDA);
}

void test_12_03D9()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x993B);
    WriteRegisterWord(RegisterType::SP, 0xA537);
    WriteRegisterByte(RegisterType::A, 0x67);
    WriteRegisterByte(RegisterType::B, 0x99);
    WriteRegisterByte(RegisterType::C, 0xFB);
    WriteRegisterByte(RegisterType::D, 0x4F);
    WriteRegisterByte(RegisterType::E, 0x61);
    WriteRegisterFlag(0x90);
    WriteRegisterByte(RegisterType::H, 0x00);
    WriteRegisterByte(RegisterType::L, 0xCF);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4F61, 0x00);
    WriteMemory(0x993B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x67);
    CheckRegisterByte(RegisterType::B, 0x99);
    CheckRegisterByte(RegisterType::C, 0xFB);
    CheckRegisterByte(RegisterType::D, 0x4F);
    CheckRegisterByte(RegisterType::E, 0x61);
    CheckRegisterFlag(0x90);
    CheckRegisterByte(RegisterType::H, 0x00);
    CheckRegisterByte(RegisterType::L, 0xCF);
    WriteRegisterWord(RegisterType::PC, 0x993B);
    WriteRegisterWord(RegisterType::SP, 0xA537);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4F61, 0x67);
    CheckMemory(0x993B, 0x12);
}

void test_12_03DA()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x3A8A);
    WriteRegisterWord(RegisterType::SP, 0x5851);
    WriteRegisterByte(RegisterType::A, 0x22);
    WriteRegisterByte(RegisterType::B, 0x3F);
    WriteRegisterByte(RegisterType::C, 0xEA);
    WriteRegisterByte(RegisterType::D, 0xB4);
    WriteRegisterByte(RegisterType::E, 0x94);
    WriteRegisterFlag(0x70);
    WriteRegisterByte(RegisterType::H, 0xC3);
    WriteRegisterByte(RegisterType::L, 0x03);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x3A8A, 0x12);
    WriteMemory(0xB494, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x22);
    CheckRegisterByte(RegisterType::B, 0x3F);
    CheckRegisterByte(RegisterType::C, 0xEA);
    CheckRegisterByte(RegisterType::D, 0xB4);
    CheckRegisterByte(RegisterType::E, 0x94);
    CheckRegisterFlag(0x70);
    CheckRegisterByte(RegisterType::H, 0xC3);
    CheckRegisterByte(RegisterType::L, 0x03);
    WriteRegisterWord(RegisterType::PC, 0x3A8A);
    WriteRegisterWord(RegisterType::SP, 0x5851);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x3A8A, 0x12);
    CheckMemory(0xB494, 0x22);
}

void test_12_03DB()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xD0FB);
    WriteRegisterWord(RegisterType::SP, 0x274A);
    WriteRegisterByte(RegisterType::A, 0x18);
    WriteRegisterByte(RegisterType::B, 0x84);
    WriteRegisterByte(RegisterType::C, 0xFC);
    WriteRegisterByte(RegisterType::D, 0x6D);
    WriteRegisterByte(RegisterType::E, 0x5C);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x26);
    WriteRegisterByte(RegisterType::L, 0xBC);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6D5C, 0x00);
    WriteMemory(0xD0FB, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x18);
    CheckRegisterByte(RegisterType::B, 0x84);
    CheckRegisterByte(RegisterType::C, 0xFC);
    CheckRegisterByte(RegisterType::D, 0x6D);
    CheckRegisterByte(RegisterType::E, 0x5C);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x26);
    CheckRegisterByte(RegisterType::L, 0xBC);
    WriteRegisterWord(RegisterType::PC, 0xD0FB);
    WriteRegisterWord(RegisterType::SP, 0x274A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x6D5C, 0x18);
    CheckMemory(0xD0FB, 0x12);
}

void test_12_03DC()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4133);
    WriteRegisterWord(RegisterType::SP, 0x23BF);
    WriteRegisterByte(RegisterType::A, 0x4C);
    WriteRegisterByte(RegisterType::B, 0xC6);
    WriteRegisterByte(RegisterType::C, 0xCC);
    WriteRegisterByte(RegisterType::D, 0x7A);
    WriteRegisterByte(RegisterType::E, 0x71);
    WriteRegisterFlag(0xB0);
    WriteRegisterByte(RegisterType::H, 0x65);
    WriteRegisterByte(RegisterType::L, 0xA4);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x4133, 0x12);
    WriteMemory(0x7A71, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x4C);
    CheckRegisterByte(RegisterType::B, 0xC6);
    CheckRegisterByte(RegisterType::C, 0xCC);
    CheckRegisterByte(RegisterType::D, 0x7A);
    CheckRegisterByte(RegisterType::E, 0x71);
    CheckRegisterFlag(0xB0);
    CheckRegisterByte(RegisterType::H, 0x65);
    CheckRegisterByte(RegisterType::L, 0xA4);
    WriteRegisterWord(RegisterType::PC, 0x4133);
    WriteRegisterWord(RegisterType::SP, 0x23BF);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x4133, 0x12);
    CheckMemory(0x7A71, 0x4C);
}

void test_12_03DD()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x9C3B);
    WriteRegisterWord(RegisterType::SP, 0x0ED8);
    WriteRegisterByte(RegisterType::A, 0x72);
    WriteRegisterByte(RegisterType::B, 0x46);
    WriteRegisterByte(RegisterType::C, 0x3F);
    WriteRegisterByte(RegisterType::D, 0x5A);
    WriteRegisterByte(RegisterType::E, 0xD2);
    WriteRegisterFlag(0x30);
    WriteRegisterByte(RegisterType::H, 0xEB);
    WriteRegisterByte(RegisterType::L, 0x9D);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5AD2, 0x00);
    WriteMemory(0x9C3B, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x72);
    CheckRegisterByte(RegisterType::B, 0x46);
    CheckRegisterByte(RegisterType::C, 0x3F);
    CheckRegisterByte(RegisterType::D, 0x5A);
    CheckRegisterByte(RegisterType::E, 0xD2);
    CheckRegisterFlag(0x30);
    CheckRegisterByte(RegisterType::H, 0xEB);
    CheckRegisterByte(RegisterType::L, 0x9D);
    WriteRegisterWord(RegisterType::PC, 0x9C3B);
    WriteRegisterWord(RegisterType::SP, 0x0ED8);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x5AD2, 0x72);
    CheckMemory(0x9C3B, 0x12);
}

void test_12_03DE()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xEA37);
    WriteRegisterWord(RegisterType::SP, 0x95A2);
    WriteRegisterByte(RegisterType::A, 0xD2);
    WriteRegisterByte(RegisterType::B, 0x19);
    WriteRegisterByte(RegisterType::C, 0xEE);
    WriteRegisterByte(RegisterType::D, 0x21);
    WriteRegisterByte(RegisterType::E, 0x40);
    WriteRegisterFlag(0x00);
    WriteRegisterByte(RegisterType::H, 0xB1);
    WriteRegisterByte(RegisterType::L, 0x7C);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x2140, 0x00);
    WriteMemory(0xEA37, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xD2);
    CheckRegisterByte(RegisterType::B, 0x19);
    CheckRegisterByte(RegisterType::C, 0xEE);
    CheckRegisterByte(RegisterType::D, 0x21);
    CheckRegisterByte(RegisterType::E, 0x40);
    CheckRegisterFlag(0x00);
    CheckRegisterByte(RegisterType::H, 0xB1);
    CheckRegisterByte(RegisterType::L, 0x7C);
    WriteRegisterWord(RegisterType::PC, 0xEA37);
    WriteRegisterWord(RegisterType::SP, 0x95A2);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2140, 0xD2);
    CheckMemory(0xEA37, 0x12);
}

void test_12_03DF()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x31F2);
    WriteRegisterWord(RegisterType::SP, 0xD167);
    WriteRegisterByte(RegisterType::A, 0x68);
    WriteRegisterByte(RegisterType::B, 0xCA);
    WriteRegisterByte(RegisterType::C, 0xE1);
    WriteRegisterByte(RegisterType::D, 0x7C);
    WriteRegisterByte(RegisterType::E, 0x89);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x10);
    WriteRegisterByte(RegisterType::L, 0xAD);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x31F2, 0x12);
    WriteMemory(0x7C89, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x68);
    CheckRegisterByte(RegisterType::B, 0xCA);
    CheckRegisterByte(RegisterType::C, 0xE1);
    CheckRegisterByte(RegisterType::D, 0x7C);
    CheckRegisterByte(RegisterType::E, 0x89);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x10);
    CheckRegisterByte(RegisterType::L, 0xAD);
    WriteRegisterWord(RegisterType::PC, 0x31F2);
    WriteRegisterWord(RegisterType::SP, 0xD167);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x31F2, 0x12);
    CheckMemory(0x7C89, 0x68);
}

void test_12_03E0()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xCBA7);
    WriteRegisterWord(RegisterType::SP, 0x7D4E);
    WriteRegisterByte(RegisterType::A, 0x08);
    WriteRegisterByte(RegisterType::B, 0xD1);
    WriteRegisterByte(RegisterType::C, 0x2F);
    WriteRegisterByte(RegisterType::D, 0x1D);
    WriteRegisterByte(RegisterType::E, 0xF6);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0x40);
    WriteRegisterByte(RegisterType::L, 0x4C);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x1DF6, 0x00);
    WriteMemory(0xCBA7, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x08);
    CheckRegisterByte(RegisterType::B, 0xD1);
    CheckRegisterByte(RegisterType::C, 0x2F);
    CheckRegisterByte(RegisterType::D, 0x1D);
    CheckRegisterByte(RegisterType::E, 0xF6);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0x40);
    CheckRegisterByte(RegisterType::L, 0x4C);
    WriteRegisterWord(RegisterType::PC, 0xCBA7);
    WriteRegisterWord(RegisterType::SP, 0x7D4E);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x1DF6, 0x08);
    CheckMemory(0xCBA7, 0x12);
}

void test_12_03E1()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x85CF);
    WriteRegisterWord(RegisterType::SP, 0x8200);
    WriteRegisterByte(RegisterType::A, 0x71);
    WriteRegisterByte(RegisterType::B, 0xBB);
    WriteRegisterByte(RegisterType::C, 0xA4);
    WriteRegisterByte(RegisterType::D, 0x49);
    WriteRegisterByte(RegisterType::E, 0xA7);
    WriteRegisterFlag(0xC0);
    WriteRegisterByte(RegisterType::H, 0x38);
    WriteRegisterByte(RegisterType::L, 0xCE);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x49A7, 0x00);
    WriteMemory(0x85CF, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x71);
    CheckRegisterByte(RegisterType::B, 0xBB);
    CheckRegisterByte(RegisterType::C, 0xA4);
    CheckRegisterByte(RegisterType::D, 0x49);
    CheckRegisterByte(RegisterType::E, 0xA7);
    CheckRegisterFlag(0xC0);
    CheckRegisterByte(RegisterType::H, 0x38);
    CheckRegisterByte(RegisterType::L, 0xCE);
    WriteRegisterWord(RegisterType::PC, 0x85CF);
    WriteRegisterWord(RegisterType::SP, 0x8200);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x49A7, 0x71);
    CheckMemory(0x85CF, 0x12);
}

void test_12_03E2()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x7825);
    WriteRegisterWord(RegisterType::SP, 0x6AAF);
    WriteRegisterByte(RegisterType::A, 0xA2);
    WriteRegisterByte(RegisterType::B, 0x1F);
    WriteRegisterByte(RegisterType::C, 0xC8);
    WriteRegisterByte(RegisterType::D, 0x5C);
    WriteRegisterByte(RegisterType::E, 0xF1);
    WriteRegisterFlag(0xF0);
    WriteRegisterByte(RegisterType::H, 0x06);
    WriteRegisterByte(RegisterType::L, 0xF0);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x5CF1, 0x00);
    WriteMemory(0x7825, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xA2);
    CheckRegisterByte(RegisterType::B, 0x1F);
    CheckRegisterByte(RegisterType::C, 0xC8);
    CheckRegisterByte(RegisterType::D, 0x5C);
    CheckRegisterByte(RegisterType::E, 0xF1);
    CheckRegisterFlag(0xF0);
    CheckRegisterByte(RegisterType::H, 0x06);
    CheckRegisterByte(RegisterType::L, 0xF0);
    WriteRegisterWord(RegisterType::PC, 0x7825);
    WriteRegisterWord(RegisterType::SP, 0x6AAF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x5CF1, 0xA2);
    CheckMemory(0x7825, 0x12);
}

void test_12_03E3()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x5431);
    WriteRegisterWord(RegisterType::SP, 0xB0FF);
    WriteRegisterByte(RegisterType::A, 0x66);
    WriteRegisterByte(RegisterType::B, 0xAD);
    WriteRegisterByte(RegisterType::C, 0xF9);
    WriteRegisterByte(RegisterType::D, 0x2B);
    WriteRegisterByte(RegisterType::E, 0x80);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x37);
    WriteRegisterByte(RegisterType::L, 0x65);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x2B80, 0x00);
    WriteMemory(0x5431, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x66);
    CheckRegisterByte(RegisterType::B, 0xAD);
    CheckRegisterByte(RegisterType::C, 0xF9);
    CheckRegisterByte(RegisterType::D, 0x2B);
    CheckRegisterByte(RegisterType::E, 0x80);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x37);
    CheckRegisterByte(RegisterType::L, 0x65);
    WriteRegisterWord(RegisterType::PC, 0x5431);
    WriteRegisterWord(RegisterType::SP, 0xB0FF);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x2B80, 0x66);
    CheckMemory(0x5431, 0x12);
}

void test_12_03E4()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x8A62);
    WriteRegisterWord(RegisterType::SP, 0xC4F7);
    WriteRegisterByte(RegisterType::A, 0xF0);
    WriteRegisterByte(RegisterType::B, 0xC4);
    WriteRegisterByte(RegisterType::C, 0x4E);
    WriteRegisterByte(RegisterType::D, 0xCE);
    WriteRegisterByte(RegisterType::E, 0x5B);
    WriteRegisterFlag(0x50);
    WriteRegisterByte(RegisterType::H, 0x18);
    WriteRegisterByte(RegisterType::L, 0xA2);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x8A62, 0x12);
    WriteMemory(0xCE5B, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xF0);
    CheckRegisterByte(RegisterType::B, 0xC4);
    CheckRegisterByte(RegisterType::C, 0x4E);
    CheckRegisterByte(RegisterType::D, 0xCE);
    CheckRegisterByte(RegisterType::E, 0x5B);
    CheckRegisterFlag(0x50);
    CheckRegisterByte(RegisterType::H, 0x18);
    CheckRegisterByte(RegisterType::L, 0xA2);
    WriteRegisterWord(RegisterType::PC, 0x8A62);
    WriteRegisterWord(RegisterType::SP, 0xC4F7);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x8A62, 0x12);
    CheckMemory(0xCE5B, 0xF0);
}

void test_12_03E5()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0xA8E9);
    WriteRegisterWord(RegisterType::SP, 0x47EE);
    WriteRegisterByte(RegisterType::A, 0x70);
    WriteRegisterByte(RegisterType::B, 0xEC);
    WriteRegisterByte(RegisterType::C, 0xA1);
    WriteRegisterByte(RegisterType::D, 0x6B);
    WriteRegisterByte(RegisterType::E, 0x99);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xED);
    WriteRegisterByte(RegisterType::L, 0x3F);
    mmap.DisableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x6B99, 0x00);
    WriteMemory(0xA8E9, 0x12);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x70);
    CheckRegisterByte(RegisterType::B, 0xEC);
    CheckRegisterByte(RegisterType::C, 0xA1);
    CheckRegisterByte(RegisterType::D, 0x6B);
    CheckRegisterByte(RegisterType::E, 0x99);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xED);
    CheckRegisterByte(RegisterType::L, 0x3F);
    WriteRegisterWord(RegisterType::PC, 0xA8E9);
    WriteRegisterWord(RegisterType::SP, 0x47EE);
    TEST_ASSERT(!mmap.IMEEnabled());
    CheckMemory(0x6B99, 0x70);
    CheckMemory(0xA8E9, 0x12);
}

void test_12_03E6()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x4694);
    WriteRegisterWord(RegisterType::SP, 0xD72C);
    WriteRegisterByte(RegisterType::A, 0xE5);
    WriteRegisterByte(RegisterType::B, 0x00);
    WriteRegisterByte(RegisterType::C, 0x41);
    WriteRegisterByte(RegisterType::D, 0x78);
    WriteRegisterByte(RegisterType::E, 0x1F);
    WriteRegisterFlag(0xD0);
    WriteRegisterByte(RegisterType::H, 0x7C);
    WriteRegisterByte(RegisterType::L, 0x30);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x01);
    WriteMemory(0x4694, 0x12);
    WriteMemory(0x781F, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0xE5);
    CheckRegisterByte(RegisterType::B, 0x00);
    CheckRegisterByte(RegisterType::C, 0x41);
    CheckRegisterByte(RegisterType::D, 0x78);
    CheckRegisterByte(RegisterType::E, 0x1F);
    CheckRegisterFlag(0xD0);
    CheckRegisterByte(RegisterType::H, 0x7C);
    CheckRegisterByte(RegisterType::L, 0x30);
    WriteRegisterWord(RegisterType::PC, 0x4694);
    WriteRegisterWord(RegisterType::SP, 0xD72C);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x4694, 0x12);
    CheckMemory(0x781F, 0xE5);
}

void test_12_03E7()
{
    mmap.Reset();
    TEST_ASSERT(mmap.Initialize(MaxRomBankCount, MaxVramBankCount, MaxEramBankCount, MaxWramBankCount).IsSuccess());

    // Initial state

    WriteRegisterWord(RegisterType::PC, 0x722F);
    WriteRegisterWord(RegisterType::SP, 0xC45A);
    WriteRegisterByte(RegisterType::A, 0x9C);
    WriteRegisterByte(RegisterType::B, 0xC3);
    WriteRegisterByte(RegisterType::C, 0xB7);
    WriteRegisterByte(RegisterType::D, 0xFD);
    WriteRegisterByte(RegisterType::E, 0xE3);
    WriteRegisterFlag(0x80);
    WriteRegisterByte(RegisterType::H, 0xF8);
    WriteRegisterByte(RegisterType::L, 0xB9);
    mmap.EnableIME();
    WriteRegisterByte(RegisterType::IE, 0x00);
    WriteMemory(0x722F, 0x12);
    WriteMemory(0xFDE3, 0x00);

    // Execute single step
    {
         auto resultByte = mmap.ReadByte(mmap.ReadPC());
         TEST_ASSERT(resultByte.IsSuccess());
         auto ticks = instruction::InstructionRegistryNoPrefix::Execute(static_cast<const Byte&>(resultByte), mmap);
         TEST_ASSERT(ticks == instruction::InstructionRegistryNoPrefix::Ticks[static_cast<const Byte&>(resultByte)]);
    }

    // Final state
            
    CheckRegisterByte(RegisterType::A, 0x9C);
    CheckRegisterByte(RegisterType::B, 0xC3);
    CheckRegisterByte(RegisterType::C, 0xB7);
    CheckRegisterByte(RegisterType::D, 0xFD);
    CheckRegisterByte(RegisterType::E, 0xE3);
    CheckRegisterFlag(0x80);
    CheckRegisterByte(RegisterType::H, 0xF8);
    CheckRegisterByte(RegisterType::L, 0xB9);
    WriteRegisterWord(RegisterType::PC, 0x722F);
    WriteRegisterWord(RegisterType::SP, 0xC45A);
    TEST_ASSERT(mmap.IMEEnabled());
    CheckMemory(0x722F, 0x12);
    CheckMemory(0xFDE3, 0x9C);
}
